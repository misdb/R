<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Dataframe, Tibble and Factor | Data Management with R</title>
  <meta name="description" content="The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Dataframe, Tibble and Factor | Data Management with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Dataframe, Tibble and Factor | Data Management with R" />
  
  <meta name="twitter:description" content="The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Dae Ho Kim" />


<meta name="date" content="2020-10-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-import.html"/>
<link rel="next" href="data-cleansing.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.16/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="1" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>1</b> Data Import and Export</a><ul>
<li class="chapter" data-level="1.1" data-path="data-import.html"><a href="data-import.html#data-import"><i class="fa fa-check"></i><b>1.1</b> Data Import</a><ul>
<li class="chapter" data-level="1.1.1" data-path="data-import.html"><a href="data-import.html#준비하기"><i class="fa fa-check"></i><b>1.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-import.html"><a href="data-import.html#시작하기"><i class="fa fa-check"></i><b>1.1.2</b> 시작하기</a></li>
<li class="chapter" data-level="1.1.3" data-path="data-import.html"><a href="data-import.html#벡터-파싱하기"><i class="fa fa-check"></i><b>1.1.3</b> 벡터 파싱하기</a></li>
<li class="chapter" data-level="1.1.4" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>1.1.4</b> 연습문제</a></li>
<li class="chapter" data-level="1.1.5" data-path="data-import.html"><a href="data-import.html#파일-파싱하기"><i class="fa fa-check"></i><b>1.1.5</b> 파일 파싱하기</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-import.html"><a href="data-import.html#data_export"><i class="fa fa-check"></i><b>1.2</b> Data Export</a><ul>
<li class="chapter" data-level="1.2.1" data-path="data-import.html"><a href="data-import.html#write_csv"><i class="fa fa-check"></i><b>1.2.1</b> <code>write_csv()</code></a></li>
<li class="chapter" data-level="1.2.2" data-path="data-import.html"><a href="data-import.html#write_rds"><i class="fa fa-check"></i><b>1.2.2</b> <code>write_rds()</code></a></li>
<li class="chapter" data-level="1.2.3" data-path="data-import.html"><a href="data-import.html#write_feather"><i class="fa fa-check"></i><b>1.2.3</b> <code>write_feather()</code></a></li>
<li class="chapter" data-level="1.2.4" data-path="data-import.html"><a href="data-import.html#read_csv와-read_rds의-비교"><i class="fa fa-check"></i><b>1.2.4</b> <code>read_csv()</code>와 <code>read_rds()</code>의 비교</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="data-import.html"><a href="data-import.html#data_import_additional"><i class="fa fa-check"></i><b>1.3</b> Read Tabular Data의 보충설명</a><ul>
<li class="chapter" data-level="1.3.1" data-path="data-import.html"><a href="data-import.html#read_csv의-예"><i class="fa fa-check"></i><b>1.3.1</b> <code>read_csv()</code>의 예</a></li>
<li class="chapter" data-level="1.3.2" data-path="data-import.html"><a href="data-import.html#read_csv2의-예"><i class="fa fa-check"></i><b>1.3.2</b> <code>read_csv2()</code>의 예</a></li>
<li class="chapter" data-level="1.3.3" data-path="data-import.html"><a href="data-import.html#read_delim의-예"><i class="fa fa-check"></i><b>1.3.3</b> <code>read_delim()</code>의 예</a></li>
<li class="chapter" data-level="1.3.4" data-path="data-import.html"><a href="data-import.html#read_fwf의-예"><i class="fa fa-check"></i><b>1.3.4</b> <code>read_fwf()</code>의 예</a></li>
<li class="chapter" data-level="1.3.5" data-path="data-import.html"><a href="data-import.html#read_tsv의-예"><i class="fa fa-check"></i><b>1.3.5</b> read_tsv()의 예</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html"><i class="fa fa-check"></i><b>2</b> Dataframe, Tibble and Factor</a><ul>
<li class="chapter" data-level="2.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#dataframe"><i class="fa fa-check"></i><b>2.1</b> Data Frame</a><ul>
<li class="chapter" data-level="2.1.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#데이터-프레임의-생성"><i class="fa fa-check"></i><b>2.1.1</b> 데이터 프레임의 생성</a></li>
<li class="chapter" data-level="2.1.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#데이터-프레임의-구조"><i class="fa fa-check"></i><b>2.1.2</b> 데이터 프레임의 구조</a></li>
<li class="chapter" data-level="2.1.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#행열-추가하기"><i class="fa fa-check"></i><b>2.1.3</b> 행/열 추가하기</a></li>
<li class="chapter" data-level="2.1.4" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#행과-열-접근하기"><i class="fa fa-check"></i><b>2.1.4</b> 행과 열 접근하기</a></li>
<li class="chapter" data-level="2.1.5" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-2"><i class="fa fa-check"></i><b>2.1.5</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.6" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#행과-열의-이름-지정하기"><i class="fa fa-check"></i><b>2.1.6</b> 행과 열의 이름 지정하기</a></li>
<li class="chapter" data-level="2.1.7" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#데이터-타입-변환"><i class="fa fa-check"></i><b>2.1.7</b> 데이터 타입 변환</a></li>
<li class="chapter" data-level="2.1.8" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-3"><i class="fa fa-check"></i><b>2.1.8</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.9" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#실습-과제"><i class="fa fa-check"></i><b>2.1.9</b> 실습 과제</a></li>
<li class="chapter" data-level="2.1.10" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#apply-함수-이해하기"><i class="fa fa-check"></i><b>2.1.10</b> <code>apply()</code> 함수 이해하기</a></li>
<li class="chapter" data-level="2.1.11" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-4"><i class="fa fa-check"></i><b>2.1.11</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.12" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-5"><i class="fa fa-check"></i><b>2.1.12</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.13" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#apply-함수의-사촌들"><i class="fa fa-check"></i><b>2.1.13</b> <code>apply()</code> 함수의 사촌들</a></li>
<li class="chapter" data-level="2.1.14" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-6"><i class="fa fa-check"></i><b>2.1.14</b> 연습문제</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#참고-sampling"><i class="fa fa-check"></i>[참고 : Sampling]</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#reference"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#tibble"><i class="fa fa-check"></i><b>2.2</b> tibble</a><ul>
<li class="chapter" data-level="2.2.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#티블-생성"><i class="fa fa-check"></i><b>2.2.1</b> 티블 생성</a></li>
<li class="chapter" data-level="2.2.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#강제변환coercion"><i class="fa fa-check"></i><b>2.2.2</b> 강제변환(Coercion)</a></li>
<li class="chapter" data-level="2.2.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#티블과-데이터-프레임의-비교"><i class="fa fa-check"></i><b>2.2.3</b> 티블과 데이터 프레임의 비교</a></li>
<li class="chapter" data-level="2.2.4" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#이전-코드와-상호작용"><i class="fa fa-check"></i><b>2.2.4</b> 이전 코드와 상호작용</a></li>
<li class="chapter" data-level="2.2.5" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#외부-데이터-가져오기-importing"><i class="fa fa-check"></i><b>2.2.5</b> 외부 데이터 가져오기 (importing)</a></li>
<li class="chapter" data-level="2.2.6" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-7"><i class="fa fa-check"></i><b>2.2.6</b> 연습문제</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor"><i class="fa fa-check"></i><b>2.3</b> Factor</a><ul>
<li class="chapter" data-level="2.3.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#범주형-자료"><i class="fa fa-check"></i><b>2.3.1</b> 범주형 자료</a></li>
<li class="chapter" data-level="2.3.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor의-요소-및-특징"><i class="fa fa-check"></i><b>2.3.2</b> Factor의 요소 및 특징</a></li>
<li class="chapter" data-level="2.3.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor-함수의-형식"><i class="fa fa-check"></i><b>2.3.3</b> <code>factor()</code> 함수의 형식</a></li>
<li class="chapter" data-level="2.3.4" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor-생성"><i class="fa fa-check"></i><b>2.3.4</b> factor 생성</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#reference-1"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-cleansing.html"><a href="data-cleansing.html"><i class="fa fa-check"></i><b>3</b> Data Cleansing</a><ul>
<li class="chapter" data-level="3.1" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_summary"><i class="fa fa-check"></i><b>3.1</b> Data Cleansing</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-cleansing.html"><a href="data-cleansing.html#변수-요약"><i class="fa fa-check"></i><b>3.1.1</b> 변수 요약</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-cleansing.html"><a href="data-cleansing.html#데이터-세트-4"><i class="fa fa-check"></i><b>3.1.2</b> 데이터 세트</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-cleansing.html"><a href="data-cleansing.html#데이터-세트의-통계적-요약-정보"><i class="fa fa-check"></i><b>3.1.3</b> 데이터 세트의 통계적 요약 정보</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_describe"><i class="fa fa-check"></i><b>3.1.4</b> <code>Hmisc</code> 패키지의 <code>describe()</code> 함수</a></li>
<li class="chapter" data-level="3.1.5" data-path="data-cleansing.html"><a href="data-cleansing.html#의심스러운-값"><i class="fa fa-check"></i><b>3.1.5</b> 의심스러운 값</a></li>
<li class="chapter" data-level="3.1.6" data-path="data-cleansing.html"><a href="data-cleansing.html#describe함수의-결과의-시각화"><i class="fa fa-check"></i><b>3.1.6</b> <code>describe()</code>함수의 결과의 시각화</a></li>
<li class="chapter" data-level="3.1.7" data-path="data-cleansing.html"><a href="data-cleansing.html#의심스러운-값을-결측치로-바꾸기"><i class="fa fa-check"></i><b>3.1.7</b> 의심스러운 값을 결측치로 바꾸기</a></li>
<li class="chapter" data-level="3.1.8" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_Complete_cases"><i class="fa fa-check"></i><b>3.1.8</b> <code>NA</code>가 없는 완전한 데이터</a></li>
<li class="chapter" data-level="3.1.9" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_after_cleansing"><i class="fa fa-check"></i><b>3.1.9</b> 데이터 정제 후의 <code>describe()</code>함수 결과 그림</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_missing_value"><i class="fa fa-check"></i><b>3.2</b> 결측치(Missing Values) 처리</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-cleansing.html"><a href="data-cleansing.html#결측값이-포함되어-있는지-확인하는-방법-is.na"><i class="fa fa-check"></i><b>3.2.1</b> 결측값이 포함되어 있는지 확인하는 방법: <code>is.na()</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치-갯수-sumis.na"><i class="fa fa-check"></i><b>3.2.2</b> 결측치 갯수: <code>sum(is.na())</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치를-통계-분석시-제외시키기-na.rm-true"><i class="fa fa-check"></i><b>3.2.3</b> 결측치를 통계 분석시 제외시키기 : <code>na.rm = TRUE</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치가-있는-행-제거-na.omit"><i class="fa fa-check"></i><b>3.2.4</b> 결측치가 있는 행 제거: <code>na.omit()</code></a></li>
<li class="chapter" data-level="3.2.5" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치를-다른-값으로-대체"><i class="fa fa-check"></i><b>3.2.5</b> 결측치를 다른 값으로 대체</a></li>
<li class="chapter" data-level="" data-path="data-cleansing.html"><a href="data-cleansing.html#reference-2"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_outlier"><i class="fa fa-check"></i><b>3.3</b> 이상치(Outlier) 처리 {#outlier}</a><ul>
<li class="chapter" data-level="3.3.1" data-path="data-cleansing.html"><a href="data-cleansing.html#표준값-z를-이용한-이상치-확인-및-처리"><i class="fa fa-check"></i><b>3.3.1</b> 표준값 Z를 이용한 이상치 확인 및 처리</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-cleansing.html"><a href="data-cleansing.html#수정된-표준값을-이용한-이상치-확인-및-처리"><i class="fa fa-check"></i><b>3.3.2</b> 수정된 표준값을 이용한 이상치 확인 및 처리</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-cleansing.html"><a href="data-cleansing.html#사분위수를-이용한-이상치-확인-및-처리"><i class="fa fa-check"></i><b>3.3.3</b> 사분위수를 이용한 이상치 확인 및 처리</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="preprocessing.html"><a href="preprocessing.html"><i class="fa fa-check"></i><b>4</b> Data Preprocessing</a><ul>
<li class="chapter" data-level="4.1" data-path="preprocessing.html"><a href="preprocessing.html#들어가는-말"><i class="fa fa-check"></i><b>4.1</b> 들어가는 말</a><ul>
<li class="chapter" data-level="4.1.1" data-path="preprocessing.html"><a href="preprocessing.html#데이터-전처리란"><i class="fa fa-check"></i><b>4.1.1</b> 데이터 전처리란?</a></li>
<li class="chapter" data-level="4.1.2" data-path="preprocessing.html"><a href="preprocessing.html#왜-dplyr-패키지-인가"><i class="fa fa-check"></i><b>4.1.2</b> 왜 <code>dplyr</code> 패키지 인가?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="preprocessing.html"><a href="preprocessing.html#dplyr-패키지에-있는-함수들"><i class="fa fa-check"></i><b>4.2</b> <code>dplyr</code> 패키지에 있는 함수들</a><ul>
<li class="chapter" data-level="4.2.1" data-path="preprocessing.html"><a href="preprocessing.html#패키지-설치"><i class="fa fa-check"></i><b>4.2.1</b> 패키지 설치</a></li>
<li class="chapter" data-level="4.2.2" data-path="preprocessing.html"><a href="preprocessing.html#예제-데이터-확인"><i class="fa fa-check"></i><b>4.2.2</b> 예제 데이터 확인</a></li>
<li class="chapter" data-level="4.2.3" data-path="preprocessing.html"><a href="preprocessing.html#dplyr-패키지의-주요-함수-목록"><i class="fa fa-check"></i><b>4.2.3</b> <code>dplyr</code> 패키지의 주요 함수 목록</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="preprocessing.html"><a href="preprocessing.html#데이터-프레임의-컬럼-선택-select"><i class="fa fa-check"></i><b>4.3</b> 데이터 프레임의 컬럼 선택: <code>select()</code></a><ul>
<li class="chapter" data-level="4.3.1" data-path="preprocessing.html"><a href="preprocessing.html#select-함수의-기본-형식"><i class="fa fa-check"></i><b>4.3.1</b> <code>select()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.3.2" data-path="preprocessing.html"><a href="preprocessing.html#a번째-부터-n번째의-연속적-컬럼-선택"><i class="fa fa-check"></i><b>4.3.2</b> a번째 부터 n번째의 연속적 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.3" data-path="preprocessing.html"><a href="preprocessing.html#a번째-부터-n번째의-연속적-컬럼을-제외한-선택"><i class="fa fa-check"></i><b>4.3.3</b> <code>a</code>번째 부터 <code>n</code>번째의 연속적 컬럼을 제외한 선택</a></li>
<li class="chapter" data-level="4.3.4" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-앞-부분을-지정하여-선택"><i class="fa fa-check"></i><b>4.3.4</b> 컬럼 이름의 ’앞 부분’을 지정하여 선택</a></li>
<li class="chapter" data-level="4.3.5" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-끝-부분을-지정하여-선택"><i class="fa fa-check"></i><b>4.3.5</b> 컬럼 이름의 ’끝 부분’을 지정하여 선택</a></li>
<li class="chapter" data-level="4.3.6" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-일부를-포함하는-컬럼-선택"><i class="fa fa-check"></i><b>4.3.6</b> 컬럼 이름의 일부를 포함하는 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.7" data-path="preprocessing.html"><a href="preprocessing.html#정규-표현식과-일치하는-문자열을-포함하는-컬럼-선택"><i class="fa fa-check"></i><b>4.3.7</b> 정규 표현식과 일치하는 문자열을 포함하는 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.8" data-path="preprocessing.html"><a href="preprocessing.html#원하는-컬럼-명의-그룹에-포함된-컬럼-선택"><i class="fa fa-check"></i><b>4.3.8</b> 원하는 컬럼 명의 그룹에 포함된 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.9" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-접두사와-숫자-범위를-조합하여-컬럼-선택"><i class="fa fa-check"></i><b>4.3.9</b> 컬럼 이름의 접두사와 숫자 범위를 조합하여 컬럼 선택</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="preprocessing.html"><a href="preprocessing.html#filter-함수를-이용한-행의-선택"><i class="fa fa-check"></i><b>4.4</b> <code>filter()</code> 함수를 이용한 행의 선택</a><ul>
<li class="chapter" data-level="4.4.1" data-path="preprocessing.html"><a href="preprocessing.html#filter-함수의-기본-형식"><i class="fa fa-check"></i><b>4.4.1</b> <code>filter()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.4.2" data-path="preprocessing.html"><a href="preprocessing.html#단일-조건에-의한-행의-선택"><i class="fa fa-check"></i><b>4.4.2</b> 단일 조건에 의한 행의 선택</a></li>
<li class="chapter" data-level="4.4.3" data-path="preprocessing.html"><a href="preprocessing.html#복수-조건을-and로-결합한-행의-선택"><i class="fa fa-check"></i><b>4.4.3</b> 복수 조건을 AND(<code>,</code>)로 결합한 행의 선택</a></li>
<li class="chapter" data-level="4.4.4" data-path="preprocessing.html"><a href="preprocessing.html#복수-조건을-or로-결합한-행의-선택"><i class="fa fa-check"></i><b>4.4.4</b> 복수 조건을 OR(<code>|</code>)로 결합한 행의 선택</a></li>
<li class="chapter" data-level="4.4.5" data-path="preprocessing.html"><a href="preprocessing.html#행의-위치를-지정해서-행의-데이터-부분집합-선택"><i class="fa fa-check"></i><b>4.4.5</b> 행의 위치를 지정해서 행의 데이터 부분집합 선택</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="preprocessing.html"><a href="preprocessing.html#arrange-함수를-이용한-행의-정렬"><i class="fa fa-check"></i><b>4.5</b> <code>arrange()</code> 함수를 이용한 행의 정렬</a><ul>
<li class="chapter" data-level="4.5.1" data-path="preprocessing.html"><a href="preprocessing.html#arrange-함수의-기본-형식"><i class="fa fa-check"></i><b>4.5.1</b> <code>arrange()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.5.2" data-path="preprocessing.html"><a href="preprocessing.html#복수-개의-정렬-기준으로-행을-정렬하기"><i class="fa fa-check"></i><b>4.5.2</b> 복수 개의 정렬 기준으로 행을 정렬하기</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="preprocessing.html"><a href="preprocessing.html#preprocessing_rename"><i class="fa fa-check"></i><b>4.6</b> <code>rename()</code> 함수를 이용한 데이터 프레임의 컬럼 이름 변경</a><ul>
<li class="chapter" data-level="4.6.1" data-path="preprocessing.html"><a href="preprocessing.html#rename-함수의-기본-형식"><i class="fa fa-check"></i><b>4.6.1</b> <code>rename()</code> 함수의 기본 형식</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="preprocessing.html"><a href="preprocessing.html#distinct-함수를-이용한-유일한-값-추출"><i class="fa fa-check"></i><b>4.7</b> <code>distinct()</code> 함수를 이용한 유일한 값 추출</a><ul>
<li class="chapter" data-level="4.7.1" data-path="preprocessing.html"><a href="preprocessing.html#distinct-함수의-기본-형식"><i class="fa fa-check"></i><b>4.7.1</b> <code>distinct()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.7.2" data-path="preprocessing.html"><a href="preprocessing.html#단일-기준에-의한-유일-값-추출"><i class="fa fa-check"></i><b>4.7.2</b> 단일 기준에 의한 유일 값 추출</a></li>
<li class="chapter" data-level="4.7.3" data-path="preprocessing.html"><a href="preprocessing.html#복수-기준에-의한-유일-값-추출"><i class="fa fa-check"></i><b>4.7.3</b> 복수 기준에 의한 유일 값 추출</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="preprocessing.html"><a href="preprocessing.html#무작위-표본-추출"><i class="fa fa-check"></i><b>4.8</b> 무작위 표본 추출</a><ul>
<li class="chapter" data-level="4.8.1" data-path="preprocessing.html"><a href="preprocessing.html#정해진-갯수-만큼의-표본-무작위-추출"><i class="fa fa-check"></i><b>4.8.1</b> 정해진 갯수 만큼의 표본 무작위 추출</a></li>
<li class="chapter" data-level="4.8.2" data-path="preprocessing.html"><a href="preprocessing.html#정해진-비율로-표본-무작위-추출"><i class="fa fa-check"></i><b>4.8.2</b> 정해진 비율로 표본 무작위 추출</a></li>
<li class="chapter" data-level="4.8.3" data-path="preprocessing.html"><a href="preprocessing.html#정해진-갯수-만큼의-표본-복원-추출"><i class="fa fa-check"></i><b>4.8.3</b> 정해진 갯수 만큼의 표본 복원 추출</a></li>
<li class="chapter" data-level="4.8.4" data-path="preprocessing.html"><a href="preprocessing.html#집단별-층화-표본-추출"><i class="fa fa-check"></i><b>4.8.4</b> 집단별 층화 표본 추출</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="preprocessing.html"><a href="preprocessing.html#mutate-함수를-이용한-새로운-컬럼-생성"><i class="fa fa-check"></i><b>4.9</b> <code>mutate()</code> 함수를 이용한 새로운 컬럼 생성</a><ul>
<li class="chapter" data-level="4.9.1" data-path="preprocessing.html"><a href="preprocessing.html#mutate-함수의-기본-형식"><i class="fa fa-check"></i><b>4.9.1</b> <code>mutate()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.9.2" data-path="preprocessing.html"><a href="preprocessing.html#새로운-컬럼-생성-예"><i class="fa fa-check"></i><b>4.9.2</b> 새로운 컬럼 생성 예</a></li>
<li class="chapter" data-level="4.9.3" data-path="preprocessing.html"><a href="preprocessing.html#새로운-만든-컬럼변수를-이용하여-또-다른-컬럼-생성하기"><i class="fa fa-check"></i><b>4.9.3</b> 새로운 만든 컬럼(변수)를 이용하여 또 다른 컬럼 생성하기</a></li>
<li class="chapter" data-level="4.9.4" data-path="preprocessing.html"><a href="preprocessing.html#컬럼의-값을-새로운-값으로-변경하기"><i class="fa fa-check"></i><b>4.9.4</b> 컬럼의 값을 새로운 값으로 변경하기</a></li>
<li class="chapter" data-level="4.9.5" data-path="preprocessing.html"><a href="preprocessing.html#keep-인수의-사용-예"><i class="fa fa-check"></i><b>4.9.5</b> <code>.keep</code> 인수의 사용 예</a></li>
<li class="chapter" data-level="4.9.6" data-path="preprocessing.html"><a href="preprocessing.html#after와-.before-인수의-사용-예"><i class="fa fa-check"></i><b>4.9.6</b> <code>.after</code>와 <code>.before</code> 인수의 사용 예</a></li>
<li class="chapter" data-level="4.9.7" data-path="preprocessing.html"><a href="preprocessing.html#transmute-함수를-이용한-새로운-컬럼-생성"><i class="fa fa-check"></i><b>4.9.7</b> <code>transmute()</code> 함수를 이용한 새로운 컬럼 생성</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="preprocessing.html"><a href="preprocessing.html#preprocessing_summarise"><i class="fa fa-check"></i><b>4.10</b> <code>summarise()</code>함수를 이용한 요약 통계량 계산</a><ul>
<li class="chapter" data-level="4.10.1" data-path="preprocessing.html"><a href="preprocessing.html#summarise-함수의-기본-형식"><i class="fa fa-check"></i><b>4.10.1</b> <code>summarise()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.10.2" data-path="preprocessing.html"><a href="preprocessing.html#summarise-함수를-이용한-요약-통계-계산"><i class="fa fa-check"></i><b>4.10.2</b> <code>summarise()</code> 함수를 이용한 요약 통계 계산</a></li>
<li class="chapter" data-level="4.10.3" data-path="preprocessing.html"><a href="preprocessing.html#summarise를-이용한-관측치의-갯수-및-색인-찾기"><i class="fa fa-check"></i><b>4.10.3</b> <code>summarise()</code>를 이용한 관측치의 갯수 및 색인 찾기</a></li>
<li class="chapter" data-level="4.10.4" data-path="preprocessing.html"><a href="preprocessing.html#summarise-함수를-이용한-그룹별-요약-통계량-계산"><i class="fa fa-check"></i><b>4.10.4</b> <code>summarise()</code> 함수를 이용한 그룹별 요약 통계량 계산</a></li>
<li class="chapter" data-level="4.10.5" data-path="preprocessing.html"><a href="preprocessing.html#복수-개의-변수에-동일한-summarise-함수-적용하기"><i class="fa fa-check"></i><b>4.10.5</b> 복수 개의 변수에 동일한 <code>summarise()</code> 함수 적용하기</a></li>
<li class="chapter" data-level="" data-path="preprocessing.html"><a href="preprocessing.html#reference-3"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="piping-operator.html"><a href="piping-operator.html"><i class="fa fa-check"></i><b>5</b> Pipe Operator</a><ul>
<li class="chapter" data-level="5.1" data-path="piping-operator.html"><a href="piping-operator.html#파이프-연산자"><i class="fa fa-check"></i><b>5.1</b> 파이프 연산자 : <code>%&gt;%</code></a><ul>
<li class="chapter" data-level="5.1.1" data-path="piping-operator.html"><a href="piping-operator.html#파이프-연산자의-사용-예"><i class="fa fa-check"></i><b>5.1.1</b> 파이프 연산자의 사용 예</a></li>
<li class="chapter" data-level="5.1.2" data-path="piping-operator.html"><a href="piping-operator.html#또-다른-예"><i class="fa fa-check"></i><b>5.1.2</b> 또 다른 예</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="piping-operator.html"><a href="piping-operator.html#piping_point_usage"><i class="fa fa-check"></i><b>5.2</b> 파이프된 명령어에 <code>‘.’</code> 사용하기</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="relational-data-top.html"><a href="relational-data-top.html"><i class="fa fa-check"></i><b>6</b> Relational Data</a><ul>
<li class="chapter" data-level="6.1" data-path="relational-data-top.html"><a href="relational-data-top.html#결합append"><i class="fa fa-check"></i><b>6.1</b> 결합(Append)</a><ul>
<li class="chapter" data-level="6.1.1" data-path="relational-data-top.html"><a href="relational-data-top.html#데이터-프레임의-결합append"><i class="fa fa-check"></i><b>6.1.1</b> 데이터 프레임의 결합(append)</a></li>
<li class="chapter" data-level="6.1.2" data-path="relational-data-top.html"><a href="relational-data-top.html#결합의-두-가지-방법-rbind-함수와-bind_rows함수"><i class="fa fa-check"></i><b>6.1.2</b> 결합의 두 가지 방법 : <code>rbind()</code> 함수와 <code>bind_rows()</code>함수</a></li>
<li class="chapter" data-level="6.1.3" data-path="relational-data-top.html"><a href="relational-data-top.html#데이터-세트-결합의-예대응되지-않는-컬럼이-있는-경우"><i class="fa fa-check"></i><b>6.1.3</b> 데이터 세트 결합의 예(대응되지 않는 컬럼이 있는 경우)</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="relational-data-top.html"><a href="relational-data-top.html#데이터-세트의-병합merge"><i class="fa fa-check"></i><b>6.2</b> 데이터 세트의 병합(Merge)</a><ul>
<li class="chapter" data-level="6.2.1" data-path="relational-data-top.html"><a href="relational-data-top.html#join-함수를-이용한-병합-예"><i class="fa fa-check"></i><b>6.2.1</b> join 함수를 이용한 병합 예</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="relational-data-top.html"><a href="relational-data-top.html#relational-data"><i class="fa fa-check"></i><b>6.3</b> Relational Data</a><ul>
<li class="chapter" data-level="6.3.1" data-path="relational-data-top.html"><a href="relational-data-top.html#들어가기"><i class="fa fa-check"></i><b>6.3.1</b> 들어가기</a></li>
<li class="chapter" data-level="6.3.2" data-path="relational-data-top.html"><a href="relational-data-top.html#준비하기-1"><i class="fa fa-check"></i><b>6.3.2</b> 준비하기</a></li>
<li class="chapter" data-level="6.3.3" data-path="relational-data-top.html"><a href="relational-data-top.html#nycflights13-패키지-내의-데이터-세트"><i class="fa fa-check"></i><b>6.3.3</b> <code>nycflights13</code> 패키지 내의 데이터 세트</a></li>
<li class="chapter" data-level="6.3.4" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-8"><i class="fa fa-check"></i><b>6.3.4</b> 연습문제</a></li>
<li class="chapter" data-level="6.3.5" data-path="relational-data-top.html"><a href="relational-data-top.html#키key"><i class="fa fa-check"></i><b>6.3.5</b> 키(Key)</a></li>
<li class="chapter" data-level="6.3.6" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-9"><i class="fa fa-check"></i><b>6.3.6</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="relational-data-top.html"><a href="relational-data-top.html#변환-조인mutating-join"><i class="fa fa-check"></i><b>6.4</b> 변환 조인(Mutating Join)</a><ul>
<li class="chapter" data-level="6.4.1" data-path="relational-data-top.html"><a href="relational-data-top.html#조인-이해하기"><i class="fa fa-check"></i><b>6.4.1</b> 조인 이해하기</a></li>
<li class="chapter" data-level="6.4.2" data-path="relational-data-top.html"><a href="relational-data-top.html#내부-조인-inner-join"><i class="fa fa-check"></i><b>6.4.2</b> 내부 조인 (inner join)</a></li>
<li class="chapter" data-level="6.4.3" data-path="relational-data-top.html"><a href="relational-data-top.html#외부-조인-outer-join"><i class="fa fa-check"></i><b>6.4.3</b> 외부 조인 (outer join)</a></li>
<li class="chapter" data-level="6.4.4" data-path="relational-data-top.html"><a href="relational-data-top.html#중복키"><i class="fa fa-check"></i><b>6.4.4</b> 중복키</a></li>
<li class="chapter" data-level="6.4.5" data-path="relational-data-top.html"><a href="relational-data-top.html#키열-정의하기"><i class="fa fa-check"></i><b>6.4.5</b> 키열 정의하기</a></li>
<li class="chapter" data-level="6.4.6" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-10"><i class="fa fa-check"></i><b>6.4.6</b> 연습문제</a></li>
<li class="chapter" data-level="6.4.7" data-path="relational-data-top.html"><a href="relational-data-top.html#기타-구현"><i class="fa fa-check"></i><b>6.4.7</b> 기타 구현</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="relational-data-top.html"><a href="relational-data-top.html#필터링-조인"><i class="fa fa-check"></i><b>6.5</b> 필터링 조인</a><ul>
<li class="chapter" data-level="6.5.1" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-11"><i class="fa fa-check"></i><b>6.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="relational-data-top.html"><a href="relational-data-top.html#조인-문제"><i class="fa fa-check"></i><b>6.6</b> 조인 문제</a></li>
<li class="chapter" data-level="6.7" data-path="relational-data-top.html"><a href="relational-data-top.html#집합-연산"><i class="fa fa-check"></i><b>6.7</b> 집합 연산</a><ul>
<li class="chapter" data-level="" data-path="relational-data-top.html"><a href="relational-data-top.html#reference-4"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="relational-data-top.html"><a href="relational-data-top.html#join_exercises"><i class="fa fa-check"></i><b>6.8</b> Join Exercises</a><ul>
<li class="chapter" data-level="6.8.1" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-데이터의-생성-1"><i class="fa fa-check"></i><b>6.8.1</b> 예제 데이터의 생성</a></li>
<li class="chapter" data-level="6.8.2" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-1-inner_join"><i class="fa fa-check"></i><b>6.8.2</b> 예제 1: <code>inner_join()</code></a></li>
<li class="chapter" data-level="6.8.3" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-2-left_join"><i class="fa fa-check"></i><b>6.8.3</b> 예제 2: <code>left_join()</code></a></li>
<li class="chapter" data-level="6.8.4" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-3-right_join"><i class="fa fa-check"></i><b>6.8.4</b> 예제 3: <code>right_join()</code></a></li>
<li class="chapter" data-level="6.8.5" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-4-full_join"><i class="fa fa-check"></i><b>6.8.5</b> 예제 4: <code>full_join()</code></a></li>
<li class="chapter" data-level="6.8.6" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-5-semi_join"><i class="fa fa-check"></i><b>6.8.6</b> 예제 5: <code>semi_join()</code></a></li>
<li class="chapter" data-level="6.8.7" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-6-anti_join"><i class="fa fa-check"></i><b>6.8.7</b> 예제 6 : <code>anti_join()</code></a></li>
<li class="chapter" data-level="6.8.8" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-7-복수-개의-데이터-프레임-조인"><i class="fa fa-check"></i><b>6.8.8</b> 예제 7: 복수 개의 데이터 프레임 조인</a></li>
<li class="chapter" data-level="6.8.9" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-8-복수-컬럼에-의한-조인"><i class="fa fa-check"></i><b>6.8.9</b> 예제 8: 복수 컬럼에 의한 조인</a></li>
<li class="chapter" data-level="6.8.10" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-9-데이터-조인과-id-삭제"><i class="fa fa-check"></i><b>6.8.10</b> 예제 9: 데이터 조인과 ID 삭제</a></li>
<li class="chapter" data-level="" data-path="relational-data-top.html"><a href="relational-data-top.html#further-reading"><i class="fa fa-check"></i>Further Reading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>7</b> Tidy Data</a><ul>
<li class="chapter" data-level="7.1" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_philosophy"><i class="fa fa-check"></i><b>7.1</b> 타이디 데이터 철학</a><ul>
<li class="chapter" data-level="7.1.1" data-path="tidy-data.html"><a href="tidy-data.html#분석의-단위"><i class="fa fa-check"></i><b>7.1.1</b> 분석의 단위</a></li>
<li class="chapter" data-level="7.1.2" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-5"><i class="fa fa-check"></i><b>7.1.2</b> 데이터 세트</a></li>
<li class="chapter" data-level="7.1.3" data-path="tidy-data.html"><a href="tidy-data.html#docid-별-그루핑"><i class="fa fa-check"></i><b>7.1.3</b> <code>docid</code> 별 그루핑</a></li>
<li class="chapter" data-level="7.1.4" data-path="tidy-data.html"><a href="tidy-data.html#요약-정보-확인"><i class="fa fa-check"></i><b>7.1.4</b> 요약 정보 확인</a></li>
<li class="chapter" data-level="7.1.5" data-path="tidy-data.html"><a href="tidy-data.html#다중-레벨-데이터-확인"><i class="fa fa-check"></i><b>7.1.5</b> 다중 레벨 데이터 확인</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_untidy"><i class="fa fa-check"></i><b>7.2</b> Untidy data</a></li>
<li class="chapter" data-level="7.3" data-path="tidy-data.html"><a href="tidy-data.html#컬럼-제목들이-변수-명이-아니고-값들인-경우"><i class="fa fa-check"></i><b>7.3</b> 컬럼 제목들이 변수 명이 아니고 값들인 경우</a><ul>
<li class="chapter" data-level="7.3.1" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-6"><i class="fa fa-check"></i><b>7.3.1</b> 데이터 세트</a></li>
<li class="chapter" data-level="7.3.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_functions"><i class="fa fa-check"></i><b>7.3.2</b> 사용할 수 있는 함수의 종류</a></li>
<li class="chapter" data-level="7.3.3" data-path="tidy-data.html"><a href="tidy-data.html#pivot_longer-함수"><i class="fa fa-check"></i><b>7.3.3</b> <code>pivot_longer()</code> 함수</a></li>
<li class="chapter" data-level="7.3.4" data-path="tidy-data.html"><a href="tidy-data.html#gather-함수"><i class="fa fa-check"></i><b>7.3.4</b> <code>gather()</code> 함수</a></li>
<li class="chapter" data-level="7.3.5" data-path="tidy-data.html"><a href="tidy-data.html#melt-함수"><i class="fa fa-check"></i><b>7.3.5</b> <code>melt()</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_one_column"><i class="fa fa-check"></i><b>7.4</b> 하나의 컬럼에 복수 개의 변수들이 있는 경우</a><ul>
<li class="chapter" data-level="7.4.1" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-7"><i class="fa fa-check"></i><b>7.4.1</b> 데이터 세트</a></li>
<li class="chapter" data-level="7.4.2" data-path="tidy-data.html"><a href="tidy-data.html#사용할-수-있는-함수의-종류"><i class="fa fa-check"></i><b>7.4.2</b> 사용할 수 있는 함수의 종류</a></li>
<li class="chapter" data-level="7.4.3" data-path="tidy-data.html"><a href="tidy-data.html#pivot_wider-함수"><i class="fa fa-check"></i><b>7.4.3</b> <code>pivot_wider()</code> 함수</a></li>
<li class="chapter" data-level="7.4.4" data-path="tidy-data.html"><a href="tidy-data.html#spread-함수"><i class="fa fa-check"></i><b>7.4.4</b> <code>spread()</code> 함수</a></li>
<li class="chapter" data-level="7.4.5" data-path="tidy-data.html"><a href="tidy-data.html#dcast-함수"><i class="fa fa-check"></i><b>7.4.5</b> <code>dcast()</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_one_cell"><i class="fa fa-check"></i><b>7.5</b> 하나의 셀에 저장된 여러 변수 또는 여러 셀에 흩어져 있는 한 변수</a><ul>
<li class="chapter" data-level="7.5.1" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-8"><i class="fa fa-check"></i><b>7.5.1</b> 데이터 세트</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#data-wrangling-with-dplyr-and-tidyr"><i class="fa fa-check"></i>Data Wrangling with dplyr and tidyr</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="tidy-data.html"><a href="tidy-data.html#separate-함수와-unite-함수"><i class="fa fa-check"></i><b>7.6</b> <code>separate()</code> 함수와 <code>unite()</code> 함수</a><ul>
<li class="chapter" data-level="7.6.1" data-path="tidy-data.html"><a href="tidy-data.html#separate-함수"><i class="fa fa-check"></i><b>7.6.1</b> <code>separate()</code> 함수</a></li>
<li class="chapter" data-level="7.6.2" data-path="tidy-data.html"><a href="tidy-data.html#unite-함수"><i class="fa fa-check"></i><b>7.6.2</b> <code>unite()</code> 함수</a></li>
<li class="chapter" data-level="7.6.3" data-path="tidy-data.html"><a href="tidy-data.html#separate-함수와-unite-함수의-예"><i class="fa fa-check"></i><b>7.6.3</b> <code>separate()</code> 함수와 <code>unite()</code> 함수의 예</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_reference_table"><i class="fa fa-check"></i><b>7.7</b> <code>tidyverse</code> 참조표</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dates.html"><a href="dates.html"><i class="fa fa-check"></i><b>8</b> Dates</a><ul>
<li class="chapter" data-level="8.1" data-path="dates.html"><a href="dates.html#dates_in_R"><i class="fa fa-check"></i><b>8.1</b> R에서의 날짜 데이터</a><ul>
<li class="chapter" data-level="8.1.1" data-path="dates.html"><a href="dates.html#as.date-함수"><i class="fa fa-check"></i><b>8.1.1</b> <code>as.Date()</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dates.html"><a href="dates.html#dates_lubridate"><i class="fa fa-check"></i><b>8.2</b> <code>lubridate</code> 패키지</a><ul>
<li class="chapter" data-level="8.2.1" data-path="dates.html"><a href="dates.html#lubridate-패키지의-활용"><i class="fa fa-check"></i><b>8.2.1</b> <code>lubridate</code> 패키지의 활용</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="dates.html"><a href="dates.html#dates_variables"><i class="fa fa-check"></i><b>8.3</b> 날짜-시간 변수</a></li>
<li class="chapter" data-level="8.4" data-path="dates.html"><a href="dates.html#dates_elements"><i class="fa fa-check"></i><b>8.4</b> <code>Date</code> 변수에서 정보 추출하기</a><ul>
<li class="chapter" data-level="8.4.1" data-path="dates.html"><a href="dates.html#관련-함수"><i class="fa fa-check"></i><b>8.4.1</b> 관련 함수</a></li>
<li class="chapter" data-level="8.4.2" data-path="dates.html"><a href="dates.html#date-변수의-정보-추출-예"><i class="fa fa-check"></i><b>8.4.2</b> <code>Date</code> 변수의 정보 추출 예</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="dates.html"><a href="dates.html#dates_POSIXct"><i class="fa fa-check"></i><b>8.5</b> 날짜-시간(<code>POSIXct</code>) 변수에서 정보 추출하기</a><ul>
<li class="chapter" data-level="8.5.1" data-path="dates.html"><a href="dates.html#관련-함수-1"><i class="fa fa-check"></i><b>8.5.1</b> 관련 함수</a></li>
<li class="chapter" data-level="8.5.2" data-path="dates.html"><a href="dates.html#posixct-변수에서-정보-추출-예"><i class="fa fa-check"></i><b>8.5.2</b> <code>POSIXct</code> 변수에서 정보 추출 예</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="dates.html"><a href="dates.html#dates_functions"><i class="fa fa-check"></i><b>8.6</b> 날짜-시간 산술연산을 위한 두 종류의 함수</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dates-and-time.html"><a href="dates-and-time.html"><i class="fa fa-check"></i><b>9</b> Dates and Times</a><ul>
<li class="chapter" data-level="9.1" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_intro"><i class="fa fa-check"></i><b>9.1</b> 들어가기</a><ul>
<li class="chapter" data-level="9.1.1" data-path="dates-and-time.html"><a href="dates-and-time.html#준비하기-2"><i class="fa fa-check"></i><b>9.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_create"><i class="fa fa-check"></i><b>9.2</b> 날짜/시간 생성하기</a><ul>
<li class="chapter" data-level="9.2.1" data-path="dates-and-time.html"><a href="dates-and-time.html#문자열에서-생성"><i class="fa fa-check"></i><b>9.2.1</b> 문자열에서 생성</a></li>
<li class="chapter" data-level="9.2.2" data-path="dates-and-time.html"><a href="dates-and-time.html#개별-구성요소로-생성"><i class="fa fa-check"></i><b>9.2.2</b> 개별 구성요소로 생성</a></li>
<li class="chapter" data-level="9.2.3" data-path="dates-and-time.html"><a href="dates-and-time.html#기타-유형에서-생성"><i class="fa fa-check"></i><b>9.2.3</b> 기타 유형에서 생성</a></li>
<li class="chapter" data-level="9.2.4" data-path="dates-and-time.html"><a href="dates-and-time.html#연습문제-12"><i class="fa fa-check"></i><b>9.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_arguments"><i class="fa fa-check"></i><b>9.3</b> 데이트-타임형 구성요소</a><ul>
<li class="chapter" data-level="9.3.1" data-path="dates-and-time.html"><a href="dates-and-time.html#구성요소-가져오기"><i class="fa fa-check"></i><b>9.3.1</b> 구성요소 가져오기</a></li>
<li class="chapter" data-level="9.3.2" data-path="dates-and-time.html"><a href="dates-and-time.html#반올림"><i class="fa fa-check"></i><b>9.3.2</b> 반올림</a></li>
<li class="chapter" data-level="9.3.3" data-path="dates-and-time.html"><a href="dates-and-time.html#구성요소-설정"><i class="fa fa-check"></i><b>9.3.3</b> 구성요소 설정</a></li>
<li class="chapter" data-level="9.3.4" data-path="dates-and-time.html"><a href="dates-and-time.html#연습문제-13"><i class="fa fa-check"></i><b>9.3.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_time_span"><i class="fa fa-check"></i><b>9.4</b> 시간 범위</a><ul>
<li class="chapter" data-level="9.4.1" data-path="dates-and-time.html"><a href="dates-and-time.html#듀레이션형"><i class="fa fa-check"></i><b>9.4.1</b> 듀레이션형</a></li>
<li class="chapter" data-level="9.4.2" data-path="dates-and-time.html"><a href="dates-and-time.html#피리어드형"><i class="fa fa-check"></i><b>9.4.2</b> 피리어드형</a></li>
<li class="chapter" data-level="9.4.3" data-path="dates-and-time.html"><a href="dates-and-time.html#인터벌형"><i class="fa fa-check"></i><b>9.4.3</b> 인터벌형</a></li>
<li class="chapter" data-level="9.4.4" data-path="dates-and-time.html"><a href="dates-and-time.html#요약"><i class="fa fa-check"></i><b>9.4.4</b> 요약</a></li>
<li class="chapter" data-level="9.4.5" data-path="dates-and-time.html"><a href="dates-and-time.html#연습문제-14"><i class="fa fa-check"></i><b>9.4.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_EST"><i class="fa fa-check"></i><b>9.5</b> 시간대</a></li>
<li class="chapter" data-level="" data-path="dates-and-time.html"><a href="dates-and-time.html#references-2"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>10</b> Strings</a><ul>
<li class="chapter" data-level="10.1" data-path="strings.html"><a href="strings.html#strings_intro"><i class="fa fa-check"></i><b>10.1</b> 들어가기</a><ul>
<li class="chapter" data-level="10.1.1" data-path="strings.html"><a href="strings.html#준비하기-3"><i class="fa fa-check"></i><b>10.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="strings.html"><a href="strings.html#strings_basic"><i class="fa fa-check"></i><b>10.2</b> 문자열 기초</a><ul>
<li class="chapter" data-level="10.2.1" data-path="strings.html"><a href="strings.html#문자열-길이"><i class="fa fa-check"></i><b>10.2.1</b> 문자열 길이</a></li>
<li class="chapter" data-level="10.2.2" data-path="strings.html"><a href="strings.html#문자열-결합"><i class="fa fa-check"></i><b>10.2.2</b> 문자열 결합</a></li>
<li class="chapter" data-level="10.2.3" data-path="strings.html"><a href="strings.html#문자열-서브셋하기"><i class="fa fa-check"></i><b>10.2.3</b> 문자열 서브셋하기</a></li>
<li class="chapter" data-level="10.2.4" data-path="strings.html"><a href="strings.html#로케일"><i class="fa fa-check"></i><b>10.2.4</b> 로케일</a></li>
<li class="chapter" data-level="10.2.5" data-path="strings.html"><a href="strings.html#연습문제-15"><i class="fa fa-check"></i><b>10.2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="strings.html"><a href="strings.html#pattern_matching"><i class="fa fa-check"></i><b>10.3</b> 정규표현식을 이용한 패턴 매칭</a><ul>
<li class="chapter" data-level="10.3.1" data-path="strings.html"><a href="strings.html#기본-매칭"><i class="fa fa-check"></i><b>10.3.1</b> 기본 매칭</a></li>
<li class="chapter" data-level="10.3.2" data-path="strings.html"><a href="strings.html#앵커"><i class="fa fa-check"></i><b>10.3.2</b> 앵커</a></li>
<li class="chapter" data-level="10.3.3" data-path="strings.html"><a href="strings.html#문자-클래스와-대체구문"><i class="fa fa-check"></i><b>10.3.3</b> 문자 클래스와 대체구문</a></li>
<li class="chapter" data-level="10.3.4" data-path="strings.html"><a href="strings.html#반복"><i class="fa fa-check"></i><b>10.3.4</b> 반복</a></li>
<li class="chapter" data-level="10.3.5" data-path="strings.html"><a href="strings.html#그룹화와-역참조"><i class="fa fa-check"></i><b>10.3.5</b> 그룹화와 역참조</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="strings.html"><a href="strings.html#tools"><i class="fa fa-check"></i><b>10.4</b> 패턴 매칭</a><ul>
<li class="chapter" data-level="10.4.1" data-path="strings.html"><a href="strings.html#매칭-탐지"><i class="fa fa-check"></i><b>10.4.1</b> 매칭 탐지</a></li>
<li class="chapter" data-level="10.4.2" data-path="strings.html"><a href="strings.html#매칭-추출"><i class="fa fa-check"></i><b>10.4.2</b> 매칭 추출</a></li>
<li class="chapter" data-level="10.4.3" data-path="strings.html"><a href="strings.html#그룹화-매칭"><i class="fa fa-check"></i><b>10.4.3</b> 그룹화 매칭</a></li>
<li class="chapter" data-level="10.4.4" data-path="strings.html"><a href="strings.html#매칭-치환"><i class="fa fa-check"></i><b>10.4.4</b> 매칭 치환</a></li>
<li class="chapter" data-level="10.4.5" data-path="strings.html"><a href="strings.html#문자열-분할"><i class="fa fa-check"></i><b>10.4.5</b> 문자열 분할</a></li>
<li class="chapter" data-level="10.4.6" data-path="strings.html"><a href="strings.html#매치-찾기"><i class="fa fa-check"></i><b>10.4.6</b> 매치 찾기</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="strings.html"><a href="strings.html#other_patterns"><i class="fa fa-check"></i><b>10.5</b> 기타 패턴 유형</a><ul>
<li class="chapter" data-level="10.5.1" data-path="strings.html"><a href="strings.html#연습문제-26"><i class="fa fa-check"></i><b>10.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="strings.html"><a href="strings.html#reg_other_usage"><i class="fa fa-check"></i><b>10.6</b> 정규 표현식의 기타 용도</a></li>
<li class="chapter" data-level="10.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>10.7</b> <code>stringi</code></a><ul>
<li class="chapter" data-level="10.7.1" data-path="strings.html"><a href="strings.html#연습문제-27"><i class="fa fa-check"></i><b>10.7.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#reference-5"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Management with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="df_tibble_factor" class="section level1">
<h1><span class="header-section-number">2</span> Dataframe, Tibble and Factor</h1>
<div id="dataframe" class="section level2">
<h2><span class="header-section-number">2.1</span> Data Frame</h2>
<p><strong>데이터 프레임</strong>은 R의 핵심적인 자료구조이다.
엑셀과 같이 숫자, 문자 등 다양한 데이터를 하나의 테이블에 담을 수 있는 자료구조이다.
이를 잘 활용하면 엑셀의 기능들을 R에서도 자유자제로 사용할 수 있다.</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb322-1" title="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<div id="데이터-프레임의-생성" class="section level3">
<h3><span class="header-section-number">2.1.1</span> 데이터 프레임의 생성</h3>
<div id="data.frame함수-이용" class="section level4">
<h4><span class="header-section-number">2.1.1.1</span> <code>data.frame()</code>함수 이용</h4>
<p>먼저 데이터 데이터 프레임을 <strong>생성</strong>하는 방법은 다음과 같다.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb323-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">col1=</span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;e&#39;</span>) , <span class="dt">col2=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>))</a>
<a class="sourceLine" id="cb323-2" title="2">df</a></code></pre></div>
<pre><code>##   col1 col2
## 1    a    2
## 2    b    4
## 3    c    6
## 4    d    8
## 5    e   10</code></pre>
<p><strong>df의 데이터 내용 보기</strong></p>
<pre><code>1) R Studio의 Global Environment의 Data에서 마우스로 df를 클릭하는 방법
2) View(df)</code></pre>
</div>
<div id="data.frame-함수의-형식" class="section level4">
<h4><span class="header-section-number">2.1.1.2</span> <code>data.frame()</code> 함수의 형식</h4>
<pre><code>data.frame(..., 
            row.names = NULL, 
            check.rows = FALSE,
            check.names = TRUE, 
            fix.empty.names = TRUE,
            stringsAsFactors = default.stringsAsFactors())`</code></pre>
<p><strong>주요 인수 :</strong></p>
<ul>
<li><strong><code>...</code></strong> : 이 인수는 폼 값이나 <code>tag = value</code> 형태이다. 구성 요소명(컬럼 명)은 tag 이름으로 또는 deparsed 인수 자체로 생성된다.</li>
<li><code>row.names =</code> : <code>NULL</code>, 단일 정수, 또는 행 이름으로 사용될 컬럼을 지정하는 문자열, 또는 데이터 프레임을 위한 행 이름을 주는 문자 또는 정수 벡터</li>
<li><code>check.rows =</code> : <code>FALSE</code> 값이 디폴트 값. <code>TRUE</code>이면, 행들에 대한 길이와 이름에 대한 일관성 검토하고 위배되면 데이터 프레임을 생성하지 않는다.</li>
<li><code>check.names =</code> : 논리값. <code>TRUE</code>이면 데이터 프레임에 있는 변수 이름들이 문법적으로 타당하고 증복이 없는 변수 이름들인지 검토한다. 필요하면 (<code>make.names</code>에 의해) 조정된다.</li>
<li><code>fix.empty.names =</code> : 논리값 이름이 붙여지지 않은 컬럼(<code>someName = arg</code> 형태로 지정되지 않으면)이 자동으로 생성된 이름이나 <code>name”.”</code>을 가지고 있는지를 나타내는 논리값. “” 이름이 유지되어야 하지만 check.names가 false일 때에도 FALSE로 설정되어야 한다.</li>
<li><code>stringsAsFactors = default.stringsAsFactors()</code> : 버전 4.0.0 이후로 기능이 없어짐. 이전 버전의 경우, 디폴트로 문자 벡터 컬럼의 경우 factor 형으로 생성되었음.</li>
</ul>
</div>
<div id="컬럼명을-지정하지-않은-경우" class="section level4">
<h4><span class="header-section-number">2.1.1.3</span> 컬럼명을 지정하지 않은 경우</h4>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb327-1" title="1">df1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])</a>
<a class="sourceLine" id="cb327-2" title="2"><span class="kw">str</span>(df1)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ X1.5        : int  1 2 3 4 5
##  $ letters.1.5.: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb329-1" title="1">df1</a></code></pre></div>
<pre><code>##   X1.5 letters.1.5.
## 1    1            a
## 2    2            b
## 3    3            c
## 4    4            d
## 5    5            e</code></pre>
<ul>
<li><code>df1</code>의 첫 번째 컬럼의 값은 <code>1:5</code>, 두 번째 컬럼의 값은 <code>letters[1:5]</code>으로 지정하고 있으나, 컬럼명을 지정하지 않음.</li>
<li>자동으로 첫 번째 컬럼명은 <code>x1.5</code>으로 그리고 두 번째 컬럼명은 <code>letters.1.5</code>으로 자동생성된다.</li>
</ul>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb331-1" title="1">df2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">fix.empty.names =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb331-2" title="2"><span class="kw">str</span>(df2)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ : int  1 2 3 4 5
##  $ : chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb333-1" title="1">df2</a></code></pre></div>
<pre><code>##      
## 1 1 a
## 2 2 b
## 3 3 c
## 4 4 d
## 5 5 e</code></pre>
<ul>
<li><code>fix.empty.names = FALSE</code> 옵션을 설정하면, 컬럼명이 자동생성되지 않고 <strong>공란(<code>“”</code>)</strong>으로 남는다.</li>
</ul>
</div>
<div id="컬럼명을-지정한-경우" class="section level4">
<h4><span class="header-section-number">2.1.1.4</span> 컬럼명을 지정한 경우</h4>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb335-1" title="1">df3 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">b =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])  </a>
<a class="sourceLine" id="cb335-2" title="2"><span class="kw">str</span>(df3)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ a: int  1 2 3 4 5
##  $ b: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb337-1" title="1">df3</a></code></pre></div>
<pre><code>##   a b
## 1 1 a
## 2 2 b
## 3 3 c
## 4 4 d
## 5 5 e</code></pre>
<ul>
<li><code>df3</code>는 데이터 값과 더불어 각 컬럼의 이름(<code>a</code>와 <code>b</code>)을 지정하여 생성되었다.</li>
</ul>
</div>
<div id="row.names을-a로-지정한-경우" class="section level4">
<h4><span class="header-section-number">2.1.1.5</span> <code>row.names</code>을 <code>a</code>로 지정한 경우</h4>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb339-1" title="1">df4 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">b =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">row.names =</span> <span class="st">&quot;a&quot;</span>)  </a>
<a class="sourceLine" id="cb339-2" title="2"><span class="kw">str</span>(df4)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  1 variable:
##  $ b: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb341-1" title="1">df4</a></code></pre></div>
<pre><code>##   b
## 1 a
## 2 b
## 3 c
## 4 d
## 5 e</code></pre>
<ul>
<li><code>df4</code>는 <code>row.names = “a”</code>로 <code>a</code>를 행이름으로 지정하고 있다. 따라서 <code>df4</code>를 출력해 보면 <code>a</code>의 값(<code>1:5</code>)들이 행의 이름임을 알 수 있다.</li>
<li>즉, <code>df4</code>는 컬럼이 하나인 데이터 프레임이다.</li>
</ul>
</div>
<div id="row.names을-b로-지정한-경우" class="section level4">
<h4><span class="header-section-number">2.1.1.6</span> <code>row.names</code>을 <code>b</code>로 지정한 경우</h4>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb343-1" title="1">df5 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">b =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">row.names =</span> <span class="st">&quot;b&quot;</span>)  </a>
<a class="sourceLine" id="cb343-2" title="2"><span class="kw">str</span>(df5)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  1 variable:
##  $ a: int  1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb345-1" title="1">df5</a></code></pre></div>
<pre><code>##   a
## a 1
## b 2
## c 3
## d 4
## e 5</code></pre>
<ul>
<li><code>df5</code>는 <code>row.names = “b”</code>로 <code>b</code>를 행이름으로 지정하고 있다. 따라서 <code>df5</code>를 출력해 보면 <code>b</code>의 값들(<code>letters[1:5]</code>)이 행의 이름임을 알 수 있다.</li>
<li>즉, <code>df5</code>는 컬럼이 하나인 데이터 프레임이다.</li>
</ul>
</div>
<div id="각-컬럼의-행의-길이가-다른-경우" class="section level4">
<h4><span class="header-section-number">2.1.1.7</span> 각 컬럼의 행의 길이가 다른 경우</h4>
<p>다음과 같이 a컬럼은 요소가 6개, b컬럼은 요소가 5개로 지정되는 경우에는, 데이터 프레임이 생성되지 않는다. 즉, 데이터 세트가 사각형 형태가 안된다.
이러한 데이터 구조를 만들고 싶다면, 리스트 구조를 이용해야 한다.</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb347-1" title="1">df6 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">b =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])</a></code></pre></div>
<pre><code>## Error in data.frame(a = 1:6, b = letters[1:5]): arguments imply differing number of rows: 6, 5</code></pre>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb349-1" title="1"><span class="kw">str</span>(df6)</a></code></pre></div>
<pre><code>## Error in str(df6): 객체 &#39;df6&#39;를 찾을 수 없습니다</code></pre>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb351-1" title="1">df6                 </a></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): 객체 &#39;df6&#39;를 찾을 수 없습니다</code></pre>
</div>
<div id="컬럼명이-같은-경우-check.names-인수의-사용" class="section level4">
<h4><span class="header-section-number">2.1.1.8</span> 컬럼명이 같은 경우 : <code>check.names =</code> 인수의 사용</h4>
<p><strong><code>check.names = TRUE</code></strong> 인수를 사용하는 경우,</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb353-1" title="1">df7 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">a =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">check.names =</span> <span class="ot">TRUE</span>)  </a>
<a class="sourceLine" id="cb353-2" title="2"><span class="kw">str</span>(df7)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ a  : int  1 2 3 4 5
##  $ a.1: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb355-1" title="1">df7</a></code></pre></div>
<pre><code>##   a a.1
## 1 1   a
## 2 2   b
## 3 3   c
## 4 4   d
## 5 5   e</code></pre>
<ul>
<li>두 개의 컬럼명이 모두 <code>a</code>로 되어 있다.
<ul>
<li><code>df7</code>의 경우는 <code>check.names = TRUE</code>로 옵션을 설정하여, 컬럼명이 자동 조정되었다.</li>
</ul></li>
</ul>
<p><strong><code>check.names = FALSE</code></strong> 인수를 사용하는 경우,</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb357-1" title="1">df8 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">a =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="dt">check.names =</span> <span class="ot">FALSE</span>)  </a>
<a class="sourceLine" id="cb357-2" title="2"><span class="kw">str</span>(df8)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ a: int  1 2 3 4 5
##  $ a: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb359-1" title="1">df8</a></code></pre></div>
<pre><code>##   a a
## 1 1 a
## 2 2 b
## 3 3 c
## 4 4 d
## 5 5 e</code></pre>
<ul>
<li>두 개의 컬럼명이 모두 <code>a</code>로 되어 있다.
<ul>
<li><code>df8</code>의 경우는 <code>check.names = FASLE</code>로 옵션을 설정하여, 컬럼명이 조정되지 않았다.</li>
</ul></li>
</ul>
</div>
</div>
<div id="데이터-프레임의-구조" class="section level3">
<h3><span class="header-section-number">2.1.2</span> 데이터 프레임의 구조</h3>
<p>데이터 프레임의 <strong>구조</strong>는 <strong><code>str()</code></strong> 함수로 파악할 수 있다.</p>
<div id="dataframe의-구조structure-파악하기" class="section level4">
<h4><span class="header-section-number">2.1.2.1</span> dataframe의 구조(structure) 파악하기</h4>
<p><code>str()</code> 함수에 대한 도움말 보기.</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb361-1" title="1">? <span class="kw">str</span>()</a></code></pre></div>
<pre><code>## starting httpd help server ... done</code></pre>
<p>앞에서 생성한 <code>df1</code> 데이터 보기 : <strong><code>head()</code></strong> 함수 이용</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb363-1" title="1"><span class="kw">head</span>(df1)</a></code></pre></div>
<pre><code>##   X1.5 letters.1.5.
## 1    1            a
## 2    2            b
## 3    3            c
## 4    4            d
## 5    5            e</code></pre>
<p><code>df1</code>의 데이터 구조 파악하기 : <strong><code>str()</code></strong> 함수</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb365-1" title="1"><span class="kw">str</span>(df1)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ X1.5        : int  1 2 3 4 5
##  $ letters.1.5.: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<p><strong><code>df1</code>의 통계적 요약 정보 파악</strong> : <strong><code>summary()</code></strong> 함수</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb367-1" title="1"><span class="kw">summary</span>(df1)</a></code></pre></div>
<pre><code>##       X1.5   letters.1.5.      
##  Min.   :1   Length:5          
##  1st Qu.:2   Class :character  
##  Median :3   Mode  :character  
##  Mean   :3                     
##  3rd Qu.:4                     
##  Max.   :5</code></pre>
</div>
<div id="iris-데이터-세트" class="section level4">
<h4><span class="header-section-number">2.1.2.2</span> <code>iris</code> 데이터 세트</h4>
<p><code>iris</code> 데이터 세트의 데이터 구조 확인</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb369-1" title="1"><span class="kw">str</span>(iris)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p><code>iris</code> 데이터 세트의 첫 6개 행 데이터 보기</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb371-1" title="1"><span class="kw">head</span>(iris)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<ul>
<li><code>head(iris, n=10)</code> : <code>iris</code> 데이터 세트의 첫 10개 행을 볼 수 있다. <code>n =</code> 인수로 행의 갯수를 조절할 수 있다.</li>
<li><code>tail(iris, n=10)</code> : <code>iris</code> 데이터 세트의 마지막 10개 행을 볼 수 있다. <code>n =</code> 인수로 행의 갯수를 조절할 수 있다.</li>
</ul>
<p><code>iris</code> 데이터 세트의 통계적 요약 정보</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb373-1" title="1"><span class="kw">summary</span>(iris)</a></code></pre></div>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
<ul>
<li>5개의 컬럼별로 통계적 요약 정보인 min, 1st Qu., Median, Mean, 3rd Qu., Max. 등의 요약 정보를 출력한다.</li>
</ul>
</div>
</div>
<div id="행열-추가하기" class="section level3">
<h3><span class="header-section-number">2.1.3</span> 행/열 추가하기</h3>
<div id="두-벡터를-각각-행row으로-하는-데이터-프레임의-생성" class="section level4">
<h4><span class="header-section-number">2.1.3.1</span> 두 벡터를 각각 행(row)으로 하는 데이터 프레임의 생성</h4>
<p>두 개의 벡터 데이터 세트</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb375-1" title="1">vec1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;one&#39;</span>,<span class="st">&#39;two&#39;</span>,<span class="st">&#39;three&#39;</span>)</a>
<a class="sourceLine" id="cb375-2" title="2">vec2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a></code></pre></div>
<p>두 벡터를 결합하여 데이터 프레임 만들기</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb376-1" title="1">d &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">rbind</span>(vec1,vec2)); d</a></code></pre></div>
<pre><code>##       X1  X2    X3
## vec1 one two three
## vec2   1   2     3</code></pre>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb378-1" title="1"><span class="kw">str</span>(d)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    2 obs. of  3 variables:
##  $ X1: chr  &quot;one&quot; &quot;1&quot;
##  $ X2: chr  &quot;two&quot; &quot;2&quot;
##  $ X3: chr  &quot;three&quot; &quot;3&quot;</code></pre>
<ul>
<li>데이터 프레임 <code>d</code>의 행 이름은 자동으로 벡터의 이름(<code>vec1</code>, <code>vec2</code>)으로 지정된다.</li>
<li>반면에 컬럼 이름은 <code>x1</code>, <code>x2</code>, <code>x3</code> 등으로 자동 부여된다.</li>
</ul>
</div>
<div id="두-벡터를-각각-열column으로-하는-데이터-프레임의-생성" class="section level4">
<h4><span class="header-section-number">2.1.3.2</span> 두 벡터를 각각 열(column)으로 하는 데이터 프레임의 생성</h4>
<p>이번에는, 두 벡터를 각각 column으로 하는 dataframe을 만들고 싶으면? : <strong><code>cbind()</code></strong></p>
<p>두 개의 벡터 데이터 세트</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb380-1" title="1">vec1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;one&#39;</span>,<span class="st">&#39;two&#39;</span>,<span class="st">&#39;three&#39;</span>); vec1</a></code></pre></div>
<pre><code>## [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</code></pre>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb382-1" title="1">vec2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>); vec2</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p><code>cbind()</code>를 이용하여 두 개 벡터를 컬럼으로 결합하여 <code>vec</code> 데이터 세트를 만든다.</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb384-1" title="1">vec &lt;-<span class="st"> </span><span class="kw">cbind</span>(vec1, vec2); vec</a></code></pre></div>
<pre><code>##      vec1    vec2
## [1,] &quot;one&quot;   &quot;1&quot; 
## [2,] &quot;two&quot;   &quot;2&quot; 
## [3,] &quot;three&quot; &quot;3&quot;</code></pre>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb386-1" title="1"><span class="kw">class</span>(vec)</a></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<ul>
<li><code>vec</code>는 <strong>문자형 행렬/배열</strong> 임을 알 수 있다.</li>
</ul>
<p>결합된 <code>vec</code> 데이터 세트를 <code>data.frame()</code> 함수를 이용하여 데이터 프레임으로 바꾼다.</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb388-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(vec)</a>
<a class="sourceLine" id="cb388-2" title="2">df</a></code></pre></div>
<pre><code>##    vec1 vec2
## 1   one    1
## 2   two    2
## 3 three    3</code></pre>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb390-1" title="1"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ vec1: chr  &quot;one&quot; &quot;two&quot; &quot;three&quot;
##  $ vec2: chr  &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<ul>
<li>생성된 df의 컬럼 이름은 두 개의 벡터 이름이 자동으로 지정된다.</li>
</ul>
</div>
<div id="앞에서-cbind의-사용은-사족" class="section level4 unnumbered">
<h4>앞에서 <code>cbind()</code>의 사용은 사족</h4>
<p>두 개의 벡터 데이터 세트</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb392-1" title="1">vec1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;one&#39;</span>,<span class="st">&#39;two&#39;</span>,<span class="st">&#39;three&#39;</span>); vec1</a></code></pre></div>
<pre><code>## [1] &quot;one&quot;   &quot;two&quot;   &quot;three&quot;</code></pre>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb394-1" title="1">vec2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>); vec2</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p><code>cbind()</code>를 이용하여 두 개 벡터를 컬럼으로 결합하여 <code>vec</code> 데이터 세트를 만드는 과정을 생략하고,
<code>data.frame()</code> 함수에 두 개의 벡터를 입력하여 데이터 프레임을 생성할 수 있다.</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb396-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(vec1, vec2)</a>
<a class="sourceLine" id="cb396-2" title="2">df</a></code></pre></div>
<pre><code>##    vec1 vec2
## 1   one    1
## 2   two    2
## 3 three    3</code></pre>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb398-1" title="1"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ vec1: chr  &quot;one&quot; &quot;two&quot; &quot;three&quot;
##  $ vec2: num  1 2 3</code></pre>
<ul>
<li><code>vec1</code> 컬럼은 <strong>문자형(chr)</strong>으로 생성이 되었고,</li>
<li><code>vec2</code> 컬럼은 <strong>숫자형(num)</strong>으로 생성이 됨을 알 수 있다.</li>
</ul>
<p>문자형 컬럼을 factor형으로 만들고 싶은 경우에는 <strong><code>stringsAsFactors = T</code></strong>를 인수로 이용한다.</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb400-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(vec1, vec2, <span class="dt">stringsAsFactors =</span> T)</a>
<a class="sourceLine" id="cb400-2" title="2">df</a></code></pre></div>
<pre><code>##    vec1 vec2
## 1   one    1
## 2   two    2
## 3 three    3</code></pre>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb402-1" title="1"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ vec1: Factor w/ 3 levels &quot;one&quot;,&quot;three&quot;,..: 1 3 2
##  $ vec2: num  1 2 3</code></pre>
<ul>
<li>vec1 컬럼의 데이터 유형이 <code>Factor</code>로 바뀌었다.</li>
</ul>
</div>
<div id="데이터-프레임에-새로운-컬럼-추가" class="section level4">
<h4><span class="header-section-number">2.1.3.3</span> 데이터 프레임에 새로운 컬럼 추가</h4>
<p>다음과 같이 새로운 컬럼을 추가할 수도 있다.</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb404-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">col1=</span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;e&#39;</span>) , <span class="dt">col2=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>))</a>
<a class="sourceLine" id="cb404-2" title="2">df<span class="op">$</span>col3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb404-3" title="3">df</a></code></pre></div>
<pre><code>##   col1 col2 col3
## 1    a    2    1
## 2    b    4    2
## 3    c    6    3
## 4    d    8    4
## 5    e   10    5</code></pre>
<ul>
<li><code>df$col3 &lt;- c(1,2,3,4,5)</code> : 2개의 컬럼으로 구성된 <code>df1</code>에 <code>col3</code> 컬럼을 추가한다. 그 값은 c(1, 2, 3, 4, 5).</li>
</ul>
</div>
<div id="데이터-프레임의-컬럼-삭제" class="section level4">
<h4><span class="header-section-number">2.1.3.4</span> 데이터 프레임의 컬럼 삭제</h4>
<p>다음과 같이 기존의 컬럼을 제거할 수 있다.</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb406-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">col1 =</span> <span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;e&#39;</span>), </a>
<a class="sourceLine" id="cb406-2" title="2">                 <span class="dt">col2 =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>))</a>
<a class="sourceLine" id="cb406-3" title="3">df<span class="op">$</span>col2 &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb406-4" title="4">df</a></code></pre></div>
<pre><code>##   col1
## 1    a
## 2    b
## 3    c
## 4    d
## 5    e</code></pre>
<ul>
<li>제거하고자 하는 컬럼의 값을 <code>NULL</code>로 대입해 주면 된다.</li>
</ul>
</div>
</div>
<div id="행과-열-접근하기" class="section level3">
<h3><span class="header-section-number">2.1.4</span> 행과 열 접근하기</h3>
<div id="데이터-세트" class="section level4">
<h4><span class="header-section-number">2.1.4.1</span> 데이터 세트</h4>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb408-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">col1=</span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;e&#39;</span>) , <span class="dt">col2=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>))</a></code></pre></div>
</div>
<div id="컬럼-이름으로-접근하기" class="section level4">
<h4><span class="header-section-number">2.1.4.2</span> 컬럼 이름으로 접근하기</h4>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb409-1" title="1">df<span class="op">$</span>col1 <span class="co">#column이름으로 접근하기</span></a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</code></pre>
</div>
<div id="인덱싱-위치행열-번호로-접근하기" class="section level4">
<h4><span class="header-section-number">2.1.4.3</span> 인덱싱 : 위치(행/열 번호)로 접근하기</h4>
<p>행 번호 접근 : 첫번째 행의 모든 열</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb411-1" title="1">df[<span class="dv">1</span>,] </a></code></pre></div>
<pre><code>##   col1 col2
## 1    a    2</code></pre>
<ul>
<li><code>[행 번호,열 번호]</code>로 구성되는 대괄호 안에서 <code>열 번호</code>를 생략하면 모든 열을 표시</li>
</ul>
<p>열 번호 접근 : 2번째 열의 모든 행</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb413-1" title="1">df[,<span class="dv">2</span>] </a></code></pre></div>
<pre><code>## [1]  2  4  6  8 10</code></pre>
<ul>
<li><code>[행 번호,열 번호]</code>로 구성되는 대괄호 안에서 <code>행 번호</code>를 생략하면 모든 행을 표시</li>
</ul>
</div>
</div>
<div id="연습문제-2" class="section level3">
<h3><span class="header-section-number">2.1.5</span> 연습문제</h3>
<p><strong>R에 기본 내장되어 있는 <code>iris</code> 데이터를 활용하여 아래 질문에 답하시오.</strong></p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb415-1" title="1"><span class="kw">head</span>(iris)</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<ol style="list-style-type: decimal">
<li><strong>첫번째, 3번째 컬럼을 선택하시오.</strong></li>
</ol>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb417-1" title="1"><span class="kw">head</span>(iris[, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)])</a></code></pre></div>
<pre><code>##   Sepal.Length Petal.Length
## 1          5.1          1.4
## 2          4.9          1.4
## 3          4.7          1.3
## 4          4.6          1.5
## 5          5.0          1.4
## 6          5.4          1.7</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><strong>3번째 컬럼을 빼고 선택하시오.</strong></li>
</ol>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb419-1" title="1"><span class="kw">head</span>(iris[, <span class="dv">-3</span>])</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Width Species
## 1          5.1         3.5         0.2  setosa
## 2          4.9         3.0         0.2  setosa
## 3          4.7         3.2         0.2  setosa
## 4          4.6         3.1         0.2  setosa
## 5          5.0         3.6         0.2  setosa
## 6          5.4         3.9         0.4  setosa</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><strong>각 row의 <code>Sepal.Length</code>와 <code>Sepal.Width</code>의 값을 더하여 <code>Sepal.Sum</code>이라는 컬럼을 추가하시오.</strong></li>
</ol>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb421-1" title="1">Sepal.Sum &lt;-<span class="st"> </span>iris<span class="op">$</span>Sepal.Length <span class="op">+</span><span class="st"> </span>iris<span class="op">$</span>Sepal.Width</a>
<a class="sourceLine" id="cb421-2" title="2"><span class="kw">head</span>(<span class="kw">cbind</span>(iris[, <span class="dv">-3</span>], Sepal.Sum))</a></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Width Species Sepal.Sum
## 1          5.1         3.5         0.2  setosa       8.6
## 2          4.9         3.0         0.2  setosa       7.9
## 3          4.7         3.2         0.2  setosa       7.9
## 4          4.6         3.1         0.2  setosa       7.7
## 5          5.0         3.6         0.2  setosa       8.6
## 6          5.4         3.9         0.4  setosa       9.3</code></pre>
<p><strong>참고) <code>df[1,]</code> 과 <code>df[1, ,drop=T]</code>의 차이는?</strong></p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb423-1" title="1">df[<span class="dv">1</span>,]</a></code></pre></div>
<pre><code>##   col1 col2
## 1    a    2</code></pre>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb425-1" title="1"><span class="kw">class</span>(df[<span class="dv">1</span>,])</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<ul>
<li><code>df[1,]</code> : <code>df</code>의 첫 번째 행을 출력. 그 결과는 데이터 프레임</li>
</ul>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb427-1" title="1">df[<span class="dv">1</span>, ,drop=T]</a></code></pre></div>
<pre><code>## $col1
## [1] &quot;a&quot;
## 
## $col2
## [1] 2</code></pre>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb429-1" title="1"><span class="kw">class</span>(df[<span class="dv">1</span>, ,<span class="dt">drop=</span>T])</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<ul>
<li><code>df[1, , drop=T]</code> : <code>df</code>의 첫 번째 행을 출력하되, <code>drop=T</code>에 의해 그 결과를 list로 출력함.</li>
</ul>
</div>
<div id="행과-열의-이름-지정하기" class="section level3">
<h3><span class="header-section-number">2.1.6</span> 행과 열의 이름 지정하기</h3>
<div id="데이터-세트-1" class="section level4">
<h4><span class="header-section-number">2.1.6.1</span> 데이터 세트</h4>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb431-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a=</span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dt">b=</span><span class="dv">4</span><span class="op">:</span><span class="dv">6</span>,<span class="dt">c=</span><span class="dv">7</span><span class="op">:</span><span class="dv">9</span>); df</a></code></pre></div>
<pre><code>##   a b c
## 1 1 4 7
## 2 2 5 8
## 3 3 6 9</code></pre>
</div>
<div id="컬럼-이름-확인-colnames-함수" class="section level4">
<h4><span class="header-section-number">2.1.6.2</span> 컬럼 이름 확인 : <strong><code>colnames()</code></strong> 함수</h4>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb433-1" title="1"><span class="kw">colnames</span>(df)</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<ul>
<li><code>df</code>의 컬럼 이름이 <code>a</code>, <code>b</code>, <code>c</code> 임을 확인할 수 있다.</li>
</ul>
</div>
<div id="컬럼-이름-변경하기" class="section level4">
<h4><span class="header-section-number">2.1.6.3</span> 컬럼 이름 변경하기</h4>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb435-1" title="1"><span class="kw">colnames</span>(df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;열1&#39;</span>,<span class="st">&#39;열2&#39;</span>,<span class="st">&#39;열3&#39;</span>)</a>
<a class="sourceLine" id="cb435-2" title="2"><span class="kw">colnames</span>(df)</a></code></pre></div>
<pre><code>## [1] &quot;열1&quot; &quot;열2&quot; &quot;열3&quot;</code></pre>
<ul>
<li><code>colnames(df) &lt;- c('열1','열2','열3')</code> : 새로운 컬럼명 지정하기</li>
</ul>
</div>
<div id="행-이름-확인-rownames-함수" class="section level4">
<h4><span class="header-section-number">2.1.6.4</span> 행 이름 확인 : <strong><code>rownames()</code></strong> 함수</h4>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb437-1" title="1"><span class="kw">rownames</span>(df)</a></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
</div>
<div id="행-이름-변경하기" class="section level4">
<h4><span class="header-section-number">2.1.6.5</span> 행 이름 변경하기</h4>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb439-1" title="1"><span class="kw">rownames</span>(df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;행1&#39;</span>,<span class="st">&#39;행2&#39;</span>,<span class="st">&#39;행3&#39;</span>)</a>
<a class="sourceLine" id="cb439-2" title="2"><span class="kw">rownames</span>(df)</a></code></pre></div>
<pre><code>## [1] &quot;행1&quot; &quot;행2&quot; &quot;행3&quot;</code></pre>
</div>
<div id="행과-열의-이름-동시에-확인하기-names-함수" class="section level4">
<h4><span class="header-section-number">2.1.6.6</span> 행과 열의 이름 동시에 확인하기 : <strong><code>names()</code></strong> 함수</h4>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb441-1" title="1"><span class="kw">names</span>(df)</a></code></pre></div>
<pre><code>## [1] &quot;열1&quot; &quot;열2&quot; &quot;열3&quot;</code></pre>
</div>
</div>
<div id="데이터-타입-변환" class="section level3">
<h3><span class="header-section-number">2.1.7</span> 데이터 타입 변환</h3>
<div id="데이터-타입만-알고-싶을때-class-함수" class="section level4">
<h4><span class="header-section-number">2.1.7.1</span> 데이터 타입‘만’ 알고 싶을때 : <code>class()</code> 함수</h4>
<p>데이터 타입은 <code>class()</code> 함수로 확인할 수 있다.</p>
<p><strong>숫자형 벡터</strong></p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb443-1" title="1"><span class="kw">class</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p><strong>문자형 벡터</strong></p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb445-1" title="1"><span class="kw">class</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</a></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p><strong>논리형 벡터</strong></p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb447-1" title="1"><span class="kw">class</span>(<span class="kw">c</span>(T, <span class="ot">FALSE</span>))</a></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<p><strong>날짜형 벡터</strong></p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb449-1" title="1"><span class="kw">class</span>(<span class="kw">as.Date</span>(<span class="kw">c</span>(<span class="st">&quot;2020-09-01&quot;</span>, <span class="st">&quot;2020-09-31&quot;</span>)))</a></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<ul>
<li>문자형의 날짜를 as.Date() 함수를 이용하여 날짜형(Date)로 변경해야 함.</li>
</ul>
<p><strong>행렬</strong></p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb451-1" title="1"><span class="kw">class</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)))</a></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<ul>
<li>행렬은 배열의 특수한 형태임.</li>
</ul>
<p><strong>리스트</strong></p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb453-1" title="1"><span class="kw">class</span>(<span class="kw">list</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<ul>
<li>list() 함수에 의해 데이터 구조가 리스트로 지정됨.</li>
</ul>
<p><strong>데이터 프레임</strong></p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb455-1" title="1"><span class="kw">class</span>(<span class="kw">data.frame</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
</div>
<div id="데이터-타입과-데이터-모양에-대한-추가정보까지-str-함수" class="section level4">
<h4><span class="header-section-number">2.1.7.2</span> 데이터 타입과 데이터 모양에 대한 추가정보까지 : <code>str()</code> 함수</h4>
<p><strong><code>str()</code></strong> 함수는 데이터의 구조에 대한 요약 정보를 보여준다.</p>
<div id="숫자형-벡터" class="section level5">
<h5><span class="header-section-number">2.1.7.2.1</span> 숫자형 벡터</h5>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb457-1" title="1"><span class="kw">str</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a></code></pre></div>
<pre><code>##  num [1:2] 1 2</code></pre>
<ul>
<li>데이터 유형(<code>num</code>)과 요소의 갯수(<code>[1:2]</code>), 그리고 데이터 값( <code>1  2</code> ) 등을 확인할 수 있다.</li>
</ul>
</div>
<div id="행렬" class="section level5">
<h5><span class="header-section-number">2.1.7.2.2</span> 행렬</h5>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb459-1" title="1"><span class="kw">str</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)))</a></code></pre></div>
<pre><code>##  num [1:2, 1] 1 2</code></pre>
<ul>
<li>데이터 유형(<code>num</code>), 요소의 갯수(<code>[1:2, 1]</code>), 여기서 행의 갯수는 <code>[1:2]</code>, 열의 갯수가 <code>1</code>개 임., 그리고 데이터 값( <code>1  2</code> ) 등을 확인할 수 있다.</li>
</ul>
</div>
<div id="리스트" class="section level5">
<h5><span class="header-section-number">2.1.7.2.3</span> 리스트</h5>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb461-1" title="1"><span class="kw">str</span>(<span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)))</a></code></pre></div>
<pre><code>## List of 1
##  $ : num [1:2] 1 2</code></pre>
<ul>
<li><code>List of 1</code> : 데이터 구조가 <code>List'형,  컬럼의 갯수는</code>1`개</li>
<li><code>$ : num [1:2] 1 2</code> : 컬럼 명이 지정되어 있지 않으며(<code>$</code> 다음에 컬럼 이름이 표시됨), 데이터 유형은 num, 요소의 갯수는 [1:2], 실제 데이터는 <code>1 2</code></li>
</ul>
</div>
<div id="데이터-프레임" class="section level5">
<h5><span class="header-section-number">2.1.7.2.4</span> 데이터 프레임</h5>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb463-1" title="1"><span class="kw">str</span>(<span class="kw">data.frame</span>(<span class="dv">1</span>,<span class="dv">2</span>))</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1 obs. of  2 variables:
##  $ X1: num 1
##  $ X2: num 2</code></pre>
<ul>
<li><code>'data.frame':    1 obs. of  2 variables:</code> : 데이터 구조는 <code>data.frame</code>, 행의 갯수는 1개(<code>1 obs.</code>), 열의 갯수는 2개(<code>2 variables</code>)</li>
<li><code>$ X1: num 1</code> : 첫 번째 열은 <code>X1</code>(<code>$ X1</code>), 이 열의 데이터 유형은 숫자형(num), 값은 <code>1</code></li>
<li><code>$ X2: num 2</code> : 두 번째 열은 <code>X2</code>(<code>$ X2</code>), 이 열의 데이터 유형은 숫자형(num), 값은 <code>2</code></li>
</ul>
</div>
</div>
<div id="데이터-유형만-확인" class="section level4">
<h4><span class="header-section-number">2.1.7.3</span> 데이터 유형만 확인</h4>
<div id="숫자형-확인-is.numeric-함수" class="section level5">
<h5><span class="header-section-number">2.1.7.3.1</span> 숫자형 확인 : <code>is.numeric()</code> 함수</h5>
<p>숫사형 벡터의 확인</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb465-1" title="1"><span class="kw">is.numeric</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>문자형 벡터의 확인</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb467-1" title="1"><span class="kw">is.numeric</span>(<span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>))</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="행렬-확인-is.matrix-함수" class="section level5">
<h5><span class="header-section-number">2.1.7.3.2</span> 행렬 확인 : <code>is.matrix()</code> 함수</h5>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb469-1" title="1"><span class="kw">is.matrix</span>(<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="관련-함수들" class="section level5">
<h5><span class="header-section-number">2.1.7.3.3</span> 관련 함수들</h5>
<p>다음 함수들을 사용하여 데이터 타입을 손쉽게 판단할 수 있다.</p>
<table>
<thead>
<tr class="header">
<th>함수</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>is.factor(x)</code></td>
<td>주어진 객체 <code>x</code>가 팩터인가</td>
</tr>
<tr class="even">
<td><code>is.numeric(x)</code></td>
<td>주어진 객체 <code>x</code>가 숫자를 저장한 벡터인가</td>
</tr>
<tr class="odd">
<td><code>is.character(x)</code></td>
<td>주어진 객체 <code>x</code>가 문자열을 저장한 벡터인가</td>
</tr>
<tr class="even">
<td><code>is.matrix(x)</code></td>
<td>주어진 객체 <code>x</code>가 행렬인가</td>
</tr>
<tr class="odd">
<td><code>is.array(x)</code></td>
<td>주어진 객체 <code>x</code>가 배열인가</td>
</tr>
<tr class="even">
<td><code>is.data.frame(x)</code></td>
<td>주어진 객체 <code>x</code>가 데이터 프레임인가</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="데이터-구조간의-변환" class="section level4">
<h4><span class="header-section-number">2.1.7.4</span> 데이터 구조간의 변환</h4>
<div id="list를-vector로" class="section level5">
<h5><span class="header-section-number">2.1.7.4.1</span> list를 vector로</h5>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb471-1" title="1">lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb471-2" title="2"><span class="kw">unlist</span>(lst)</a></code></pre></div>
<pre><code>## [1] 1 2 3 4</code></pre>
</div>
<div id="list를-dataframe으로" class="section level5">
<h5><span class="header-section-number">2.1.7.4.2</span> list를 dataframe으로</h5>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb473-1" title="1">lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="dt">y=</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>))</a>
<a class="sourceLine" id="cb473-2" title="2"><span class="kw">data.frame</span>(lst)</a></code></pre></div>
<pre><code>##   x y
## 1 1 3
## 2 2 4</code></pre>
</div>
<div id="matrix를-데이터-프레임으로" class="section level5">
<h5><span class="header-section-number">2.1.7.4.3</span> matrix를 데이터 프레임으로</h5>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb475-1" title="1">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="dt">ncol=</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb475-2" title="2"><span class="kw">data.frame</span>(mat)</a></code></pre></div>
<pre><code>##   X1 X2
## 1  1  3
## 2  2  4</code></pre>
</div>
<div id="벡터를-factor로-factor를-벡터" class="section level5">
<h5><span class="header-section-number">2.1.7.4.4</span> 벡터를 factor로, factor를 벡터</h5>
<p>문자열을 Factor로</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb477-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;m&quot;</span>,<span class="st">&quot;f&quot;</span>)</a>
<a class="sourceLine" id="cb477-2" title="2"><span class="kw">as.factor</span>(x)</a></code></pre></div>
<pre><code>## [1] m f
## Levels: f m</code></pre>
<ul>
<li><code>Levels</code> 로 Factor임을 확인함.</li>
</ul>
<p>Factor를 다시 숫자형으로</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb479-1" title="1"><span class="kw">as.numeric</span>(<span class="kw">as.factor</span>(x))</a></code></pre></div>
<pre><code>## [1] 2 1</code></pre>
<p>타입을 <strong>강제로 변환(Coercing)</strong>하고자 할 때도 있을 것이다.
문자열 벡터를 팩터로 변환하는 경우 등이 그 예다.
이러한 변환을 하는 한 가지 방법은 타입 이름이 ‘<code>typename</code>’이라 할 때 ‘<code>as.typename( )</code>’이라는 함수를 사용하는 것이다.</p>
</div>
<div id="관련-함수-목록" class="section level5">
<h5><span class="header-section-number">2.1.7.4.5</span> 관련 함수 목록</h5>
<p>다음에 관련 함수의 목록을 보였다.</p>
<table>
<thead>
<tr class="header">
<th>함수</th>
<th>의미</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>as.factor(x)</code></td>
<td>주어진 객체 <code>x</code>를 팩터로 변환</td>
</tr>
<tr class="even">
<td><code>as.numeric(x)</code></td>
<td>주어진 객체 <code>x</code>를 숫자를 저장한 벡터로 변환</td>
</tr>
<tr class="odd">
<td><code>as.character(x)</code></td>
<td>주어진 객체 <code>x</code>를 문자열을 저장한 벡터로 변환</td>
</tr>
<tr class="even">
<td><code>as.matrix(x)</code></td>
<td>주어진 객체 <code>x</code>를 행렬로 변환</td>
</tr>
<tr class="odd">
<td><code>as.array(x)</code></td>
<td>주어진 객체 <code>x</code>를 배열로 변환</td>
</tr>
<tr class="even">
<td><code>as.data.frame(x)</code></td>
<td>주어진 객체 <code>x</code>를 데이터 프레임으로 변환</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="연습문제-3" class="section level3">
<h3><span class="header-section-number">2.1.8</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><strong><code>남</code>, <code>여</code>를 <code>1</code>,<code>2</code> 로 바꿔보자</strong></li>
</ol>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb481-1" title="1">vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;남&#39;</span>,<span class="st">&#39;여&#39;</span>,<span class="st">&#39;남&#39;</span>,<span class="st">&#39;남&#39;</span>,<span class="st">&#39;여&#39;</span>)</a>
<a class="sourceLine" id="cb481-2" title="2">vec &lt;-<span class="st"> </span><span class="kw">ifelse</span>(vec <span class="op">==</span><span class="st"> &quot;남&quot;</span>, <span class="st">&quot;여&quot;</span>, <span class="st">&quot;남&quot;</span>); vec</a></code></pre></div>
<pre><code>## [1] &quot;여&quot; &quot;남&quot; &quot;여&quot; &quot;여&quot; &quot;남&quot;</code></pre>
<p>참고 : <strong><code>남</code>, <code>여</code>를 <code>2</code>, <code>1</code> 로 바꾸면?</strong></p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb483-1" title="1">vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;남&#39;</span>,<span class="st">&#39;여&#39;</span>,<span class="st">&#39;남&#39;</span>,<span class="st">&#39;남&#39;</span>,<span class="st">&#39;여&#39;</span>)</a>
<a class="sourceLine" id="cb483-2" title="2"><span class="kw">as.numeric</span>(<span class="kw">factor</span>(vec, <span class="dt">levels=</span><span class="kw">c</span>(<span class="st">&#39;여&#39;</span>,<span class="st">&#39;남&#39;</span>)))</a></code></pre></div>
<pre><code>## [1] 2 1 2 2 1</code></pre>
</div>
<div id="실습-과제" class="section level3">
<h3><span class="header-section-number">2.1.9</span> 실습 과제</h3>
<p><strong>첨부한 파일을 다운 받고 R에서 변수 <code>data</code>로 불러들여라</strong>.</p>
<p><a href="https://insightteller.tistory.com/attachment/cfile2.uf@99A3723359F55A7E16D9D1.csv">toyota_sample.csv</a></p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb485-1" title="1">data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://insightteller.tistory.com/attachment/cfile2.uf@99A3723359F55A7E16D9D1.csv&quot;</span>)</a></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   Id = col_double(),
##   Model = col_character(),
##   Price = col_double(),
##   Age = col_double(),
##   Mfg_Month = col_double(),
##   Mfg_Year = col_double(),
##   KM = col_double(),
##   Fuel_Type = col_character()
## )</code></pre>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb487-1" title="1">data</a></code></pre></div>
<pre><code>## # A tibble: 7 x 8
##      Id Model                     Price   Age Mfg_Month Mfg_Year    KM Fuel_Type
##   &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    
## 1     1 TOYOTA Corolla 2.0 D4D H~ 13500    23        10     2002 46986 Diesel   
## 2     2 TOYOTA Corolla 2.0 D4D H~ 13750    23        10     2002 72937 Diesel   
## 3     3 TOYOTA Corolla 2.0 D4D H~ 13950    24         9     2002 41711 Diesel   
## 4     4 TOYOTA Corolla 2.0 D4D H~ 14950    26         7     2002 48000 Diesel   
## 5     5 TOYOTA Corolla 2.0 D4D H~ 13750    30         3     2002 38500 Diesel   
## 6     6 TOYOTA Corolla 2.0 D4D H~ 12950    32         1     2002 61000 Diesel   
## 7     7 ?TOYOTA Corolla 2.0 D4D ~ 16900    27         6     2002 94612 Diesel</code></pre>
</div>
<div id="apply-함수-이해하기" class="section level3">
<h3><span class="header-section-number">2.1.10</span> <code>apply()</code> 함수 이해하기</h3>
<ul>
<li>행렬 혹은 data.frame에서 각 row, column에 대해 평균을 계산한다든지, 특정 함수를 적용하고 싶을 때가 있다.</li>
<li>이럴 때, 가장 기본적으로 생각하는 게 <code>for()</code> loop를 활용하여 각 row(혹은 column) 별로 함수를 적용하는 것이다.</li>
</ul>
<p>예를 들어,</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb489-1" title="1">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>), <span class="dt">nrow=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb489-2" title="2"><span class="co"># 각 row의 평균을 계산하고 싶다면</span></a>
<a class="sourceLine" id="cb489-3" title="3"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(mat))){</a>
<a class="sourceLine" id="cb489-4" title="4">  <span class="kw">print</span>(<span class="kw">mean</span>(mat[i,]))</a>
<a class="sourceLine" id="cb489-5" title="5">}</a></code></pre></div>
<pre><code>## [1] 4
## [1] 5
## [1] 6</code></pre>
<p>그런데 <strong>많은 양의 데이터를 <code>for()</code> loop 하는 것은 비효율적</strong>이다.</p>
<ul>
<li>매번 <code>for()</code> loop를 돌 때마다 함수를 불러와야 하기 때문이다.</li>
<li>따라서 최대한 <code>for()</code> loop를 줄이는 것이 중요하다!!</li>
<li>그 때 사용하는 함수가 바로 <strong><code>apply()</code></strong> 함수이다.</li>
<li><code>apply()</code> 함수는 한 번만 함수를 불러와서 모든 데이터에 적용하기 때문에 훨씬 시간을 줄일 수 있다.</li>
</ul>
<div id="데이터-세트-2" class="section level4">
<h4><span class="header-section-number">2.1.10.1</span> 데이터 세트</h4>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb491-1" title="1">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>), <span class="dt">nrow=</span><span class="dv">3</span>)</a></code></pre></div>
</div>
<div id="행별로-함수-적용-margin-1" class="section level4">
<h4><span class="header-section-number">2.1.10.2</span> 행별로 함수 적용 : <code>margin = 1</code></h4>
<p><code>mat</code> 데이터 세트의 행별(<code>1</code>) 평균값(<code>mean</code>) 산출</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb492-1" title="1"><span class="kw">apply</span>(mat, <span class="dv">1</span>, mean)             <span class="co"># mean이라는 함수를 row(1)로 적용</span></a></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<p><code>mat</code> 데이터 세트의 행별(<code>1</code>) 범위(<code>range</code>) 산출</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb494-1" title="1"><span class="kw">apply</span>(mat, <span class="dv">1</span>, range)            <span class="co"># range 함수는 각행의 최소, 최댓값 2개를 반환함</span></a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    7    8    9</code></pre>
</div>
<div id="열별로-함수-적용-margin-2" class="section level4">
<h4><span class="header-section-number">2.1.10.3</span> 열별로 함수 적용 : <code>margin = 2</code></h4>
<p><code>mat</code> 데이터 세트의 열별(<code>2</code>) 평균값(<code>mean</code>) 산출</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb496-1" title="1"><span class="kw">apply</span>(mat, <span class="dv">2</span>, mean)             <span class="co"># mean이라는 함수를 column(2) 별로 적용</span></a></code></pre></div>
<pre><code>## [1] 2 5 8</code></pre>
</div>
</div>
<div id="연습문제-4" class="section level3">
<h3><span class="header-section-number">2.1.11</span> 연습문제</h3>
<p><code>iris</code> 데이터 세트에 적용해보자</p>
<ol style="list-style-type: decimal">
<li><strong><code>apply()</code> 함수를 활용하여 <code>iris</code>의 <code>Species</code>를 제외한 4개 변수에 대해 평균을 아래와 같이 계산하라.</strong></li>
</ol>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb498-1" title="1"><span class="kw">apply</span>(iris[, <span class="dv">-5</span>], <span class="dv">2</span>, mean)</a></code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
##     5.843333     3.057333     3.758000     1.199333</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><strong><code>apply()</code> 함수를 활용하여 <code>Sepal.Length</code>, <code>Sepal.Width</code>의 최소, 최대값을 아래와 같이 구하라. (최소, 최댓값을 구하는 함수는 <code>range</code>)</strong></li>
</ol>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb500-1" title="1"><span class="kw">apply</span>(iris[, <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)], <span class="dv">2</span>, range)</a></code></pre></div>
<pre><code>##      Sepal.Length Sepal.Width
## [1,]          4.3         2.0
## [2,]          7.9         4.4</code></pre>
<div id="list-벡터에-대한-for-loop-계산" class="section level4">
<h4><span class="header-section-number">2.1.11.1</span> list, 벡터에 대한 for loop 계산</h4>
<ul>
<li>데이터 프레임과 마찬가지로 list, vector에 대해서도 <code>for()</code> loop를 최소화 하는 것이 좋다.</li>
<li>대신, <code>apply()</code>와 비슷하게 <strong><code>lapply()</code></strong>, <strong><code>sapply()</code></strong>를 사용한다.</li>
<li>좀 더 구체적으로 예를 들어보면, <code>list(1,2,3)</code>을 제곱한 값을 반환하고 싶다고 하자.</li>
<li>그런데 아래와 같이 계산하면 실행이 안 된다. list는 vector처럼 연산 함수가 적용되지 않기 떄문이다.</li>
</ul>
</div>
<div id="lapply-함수와-sapply-함수" class="section level4">
<h4><span class="header-section-number">2.1.11.2</span> <code>lapply()</code> 함수와 <code>sapply()</code> 함수</h4>
<p>이럴 때, <code>for()</code> loop이 아닌 <code>lapply()</code> 함수 또는 <code>sapply()</code>함수를 사용한다.</p>
<pre><code>`lapply(벡터 혹은 리스트, 함수)`
`sapply(벡터 혹은 리스트, 함수)`</code></pre>
<div id="lapply-함수" class="section level5">
<h5><span class="header-section-number">2.1.11.2.1</span> <code>lapply()</code> 함수</h5>
<p>앞에 예를 들었듯이, <code>list(1,2,3)</code>을 제곱하고 싶다면,</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb503-1" title="1">lst &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb503-2" title="2"><span class="kw">lapply</span>(lst, <span class="cf">function</span>(x){x<span class="op">^</span><span class="dv">2</span>})</a></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 4
## 
## [[3]]
## [1] 9</code></pre>
</div>
<div id="sapply-함수" class="section level5">
<h5><span class="header-section-number">2.1.11.2.2</span> <code>sapply()</code> 함수</h5>
<p>그런데 <code>lapply()</code>의 결과는 list로 나오기 때문에, 벡터로 나오게 하고 싶다면 <code>sapply()</code>를 이용한다.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb505-1" title="1"><span class="kw">sapply</span>(lst, <span class="cf">function</span>(x){x<span class="op">^</span><span class="dv">2</span>})</a></code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
</div>
<div id="iris-데이터-세트의-예" class="section level5">
<h5><span class="header-section-number">2.1.11.2.3</span> <code>iris</code> 데이터 세트의 예</h5>
<p><strong><code>lapply()</code></strong> 함수를 이용하여, 모든 행에 대하여 <code>1:4</code>열의 합계(<code>sum</code>)를 구한다.</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb507-1" title="1">lst &lt;-<span class="st"> </span><span class="kw">lapply</span>(iris[, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], sum)</a>
<a class="sourceLine" id="cb507-2" title="2"><span class="kw">class</span>(lst)</a></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p><strong><code>sapply()</code></strong> 함수를 이용하여, 모든 행에 대하여 <code>1:4</code>열의 합계(<code>sum</code>)를 구한다.</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb509-1" title="1">vec &lt;-<span class="st"> </span><span class="kw">sapply</span>(iris[,<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], sum)</a>
<a class="sourceLine" id="cb509-2" title="2"><span class="kw">class</span>(vec)</a></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<ul>
<li><code>lapply()</code>, <code>sapply()</code>도 data.frame 에 적용할 수 있는데,</li>
<li><code>apply()</code>는 결과값이 <em>data.frame</em>인 반면,</li>
<li><code>lapply()</code>, <code>sapply()</code>는 결과값이 각각 <em>list</em>, <em>vector</em> 라는 차이가 있다.</li>
<li>그리고 기본적으로 <strong>각 column</strong>에 대해 함수가 적용된다.</li>
</ul>
<p>좀 더 예를 들면,</p>
<p><code>iris</code> 데이터 세트의 <strong>각 열의 데이터 타입</strong>을 보고 싶다면?</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb511-1" title="1"><span class="kw">sapply</span>(iris, class)</a></code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species 
##    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;    &quot;numeric&quot;     &quot;factor&quot;</code></pre>
<p>3보다 큰 값을 갖는지 확인</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb513-1" title="1">y &lt;-<span class="st"> </span><span class="kw">sapply</span>(iris[, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], <span class="cf">function</span>(x){ x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span> })</a>
<a class="sourceLine" id="cb513-2" title="2"><span class="kw">head</span>(y)</a></code></pre></div>
<pre><code>##      Sepal.Length Sepal.Width Petal.Length Petal.Width
## [1,]         TRUE        TRUE        FALSE       FALSE
## [2,]         TRUE       FALSE        FALSE       FALSE
## [3,]         TRUE        TRUE        FALSE       FALSE
## [4,]         TRUE        TRUE        FALSE       FALSE
## [5,]         TRUE        TRUE        FALSE       FALSE
## [6,]         TRUE        TRUE        FALSE       FALSE</code></pre>
</div>
</div>
</div>
<div id="연습문제-5" class="section level3">
<h3><span class="header-section-number">2.1.12</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><strong>iris 데이터를 0~1 사이 값으로 바꿔라.</strong></li>
</ol>
<p><strong>hint</strong>: 서로 다른 변수의 데이터가 scale이 다를 경우(어떤 변수는 -10~0 사이인데, 다른 변수는 10~1000인 경우), 정규분포를 활용한 정규화 뿐만 아니라, min, max를 활용하여 0~1사이로 바꾸는 방법도 있다. 즉, 다음 함수를 각 row에 적용하면 된다. <code>(x−min(x)) / (max(x)−min(x))</code></p>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb515-1" title="1">min &lt;-<span class="st"> </span><span class="kw">sapply</span>(iris[, <span class="dv">-5</span>], min); min</a></code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
##          4.3          2.0          1.0          0.1</code></pre>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb517-1" title="1">max &lt;-<span class="st"> </span><span class="kw">sapply</span>(iris[, <span class="dv">-5</span>], max); max</a></code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
##          7.9          4.4          6.9          2.5</code></pre>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb519-1" title="1">ran &lt;-<span class="st"> </span>max <span class="op">-</span><span class="st"> </span>min; ran</a></code></pre></div>
<pre><code>## Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
##          3.6          2.4          5.9          2.4</code></pre>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb521-1" title="1">x &lt;-<span class="st"> </span><span class="kw">apply</span>(iris[, <span class="dv">-5</span>], <span class="dv">1</span>, <span class="cf">function</span>(x) {(x <span class="op">-</span><span class="st"> </span>min) <span class="op">/</span><span class="st"> </span>ran})</a>
<a class="sourceLine" id="cb521-2" title="2"><span class="kw">head</span>(<span class="kw">t</span>(x))</a></code></pre></div>
<pre><code>##      Sepal.Length Sepal.Width Petal.Length Petal.Width
## [1,]   0.22222222   0.6250000   0.06779661  0.04166667
## [2,]   0.16666667   0.4166667   0.06779661  0.04166667
## [3,]   0.11111111   0.5000000   0.05084746  0.04166667
## [4,]   0.08333333   0.4583333   0.08474576  0.04166667
## [5,]   0.19444444   0.6666667   0.06779661  0.04166667
## [6,]   0.30555556   0.7916667   0.11864407  0.12500000</code></pre>
</div>
<div id="apply-함수의-사촌들" class="section level3">
<h3><span class="header-section-number">2.1.13</span> <code>apply()</code> 함수의 사촌들</h3>
<p>이제부터는 <code>apply()</code> 함수와 비슷한 원리지만, 각 상황에 맞게 <code>tapply()</code>, <code>mapply()</code> 가 있는데, 자주 사용되지는 않지만, 간단히 살펴보기로 한다.</p>
<div id="tapply" class="section level4">
<h4><span class="header-section-number">2.1.13.1</span> <code>tapply()</code></h4>
<p><code>tapply()</code> : 각 집단에 따라 데이터를 처리하고 싶을때</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb523-1" title="1"><span class="kw">str</span>(iris)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb525-1" title="1"><span class="kw">tapply</span>(iris<span class="op">$</span>Sepal.Length, iris<span class="op">$</span>Species, mean)</a></code></pre></div>
<pre><code>##     setosa versicolor  virginica 
##      5.006      5.936      6.588</code></pre>
</div>
</div>
<div id="연습문제-6" class="section level3">
<h3><span class="header-section-number">2.1.14</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><strong><code>Species</code> 별 <code>Sepal.Width</code> 의 분산은?</strong></li>
</ol>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb527-1" title="1"><span class="kw">tapply</span>(iris<span class="op">$</span>Sepal.Width, iris<span class="op">$</span>Species, var)</a></code></pre></div>
<pre><code>##     setosa versicolor  virginica 
## 0.14368980 0.09846939 0.10400408</code></pre>
<div id="mapply" class="section level4">
<h4><span class="header-section-number">2.1.14.1</span> <code>mapply()</code></h4>
<p>여러 벡터에 동일한 함수를 적용하고 싶을때 사용한다. 아래와 같이 최대공약수를 구하는 함수 <code>gcd()</code>가 있다고 하자.</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb529-1" title="1">gcd &lt;-<span class="st"> </span><span class="cf">function</span>(a,b) {</a>
<a class="sourceLine" id="cb529-2" title="2">  <span class="cf">if</span> (b<span class="op">==</span><span class="dv">0</span>) <span class="kw">return</span>(a)</a>
<a class="sourceLine" id="cb529-3" title="3">  <span class="cf">else</span> <span class="kw">return</span>(<span class="kw">gcd</span>(b, a<span class="op">%%</span>b))</a>
<a class="sourceLine" id="cb529-4" title="4">}</a>
<a class="sourceLine" id="cb529-5" title="5"></a>
<a class="sourceLine" id="cb529-6" title="6"><span class="kw">gcd</span>(<span class="dv">6</span>,<span class="dv">4</span>)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>그러나, 아래와 같이 두 벡터의 각 원소간 값을 input으로 하고 싶을때 아래와 같은 문법은 오류가 발생합니다.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb531-1" title="1"><span class="kw">gcd</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>), <span class="kw">c</span>(<span class="dv">12</span>,<span class="dv">15</span>,<span class="dv">18</span>))</a></code></pre></div>
<pre><code>## Warning in if (b == 0) return(a) else return(gcd(b, a%%b)): length &gt; 1 이라는 조
## 건이 있고, 첫번째 요소만이 사용될 것입니다

## Warning in if (b == 0) return(a) else return(gcd(b, a%%b)): length &gt; 1 이라는 조
## 건이 있고, 첫번째 요소만이 사용될 것입니다

## Warning in if (b == 0) return(a) else return(gcd(b, a%%b)): length &gt; 1 이라는 조
## 건이 있고, 첫번째 요소만이 사용될 것입니다</code></pre>
<pre><code>## [1] 3 6 9</code></pre>
<p>이 경우 <code>mapply()</code> 함수 활용</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb534-1" title="1"><span class="kw">mapply</span>(gcd, <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>), <span class="kw">c</span>(<span class="dv">12</span>,<span class="dv">15</span>,<span class="dv">18</span>))</a></code></pre></div>
<pre><code>## [1] 3 3 9</code></pre>
<pre><code>**최대공약수 함수** : 여기서 중요한 부분은 “**유클리드 호제법**”이다.

간단히 말하자면, &quot;**두 양의 정수 A &gt;= B에 대해, A가 B의 배수인 경우에 최대공약수는 B이며, 그렇지 않은 경우에는 최대공약수는 B와 A%%B (A를 B로 나눈 나머지)의 최대공약수이다.**&quot;라고 할 수 있습니다.

이를 코드로 표현하면 다음과 같다.</code></pre>
<pre><code>gcd &lt;- function(a,b) {
  if (b==0) return(a)
  else return(gcd(b, a%%b))
}</code></pre>
<p>출처: <a href="https://kjwsx23.tistory.com/259" class="uri">https://kjwsx23.tistory.com/259</a> [香格里拉]</p>
<hr />
</div>
</div>
<div id="참고-sampling" class="section level3 unnumbered">
<h3>[참고 : Sampling]</h3>
<p>기계학습 모델링을 사용하다 보면, 무작위로 데이터를 추출해야 할 경우가 생긴다. 이럴 때 <code>sample()</code> 함수를 사용한다.</p>
<div class="sourceCode" id="cb538"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb538-1" title="1"><span class="co"># 1~10에서 무작위로 5개 추출</span></a>
<a class="sourceLine" id="cb538-2" title="2"><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">5</span>)                     <span class="co"># 중복 허락 하지 않고.</span></a></code></pre></div>
<pre><code>## [1] 3 9 4 2 1</code></pre>
<div class="sourceCode" id="cb540"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb540-1" title="1"><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">5</span>, <span class="dt">replace=</span>T)          <span class="co"># 중복을 허락해서 추출</span></a></code></pre></div>
<pre><code>## [1] 8 5 7 9 6</code></pre>
<p><code>iris</code> 데이터에서 임의로 전체의 15% 데이터 추출하기</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb542-1" title="1">index &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(iris)               <span class="co"># 1부터 iris 행의 개수</span></a>
<a class="sourceLine" id="cb542-2" title="2">train_idx &lt;-<span class="st"> </span><span class="kw">sample</span>(index, <span class="kw">round</span>(<span class="kw">nrow</span>(iris)<span class="op">*</span><span class="fl">0.15</span>))</a>
<a class="sourceLine" id="cb542-3" title="3"><span class="kw">head</span>(iris[train_idx,])</a></code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
## 128          6.1         3.0          4.9         1.8  virginica
## 74           6.1         2.8          4.7         1.2 versicolor
## 111          6.5         3.2          5.1         2.0  virginica
## 130          7.2         3.0          5.8         1.6  virginica
## 54           5.5         2.3          4.0         1.3 versicolor
## 99           5.1         2.5          3.0         1.1 versicolor</code></pre>
<p>출처: <a href="https://insightteller.tistory.com/entry/R-기초-실습-3-dataframe?category=628138" class="uri">https://insightteller.tistory.com/entry/R-기초-실습-3-dataframe?category=628138</a> [Be a Insight teller]</p>
</div>
<div id="reference" class="section level3 unnumbered">
<h3>Reference</h3>
<ul>
<li><a href="https://rfriend.tistory.com/225">Concatenating a list of data frames</a></li>
</ul>
</div>
</div>
<div id="tibble" class="section level2">
<h2><span class="header-section-number">2.2</span> tibble</h2>
<ul>
<li><p><strong>티블(tibbles)</strong>은 데이터 프레임을 현대적으로 재구성한 것이다.</p></li>
<li><p>이것은 시간 성능 테스트를 통과했고,</p></li>
<li><p>데이터 프레임이 가지고 있던 편리했지만 지금은 불만스러운 특징들(예를 들어, <strong>문자 벡터를 factor 형으로 변환</strong>하는 것)을 제거하고 있다.</p></li>
<li><p>티블은 <code>tidyverse</code> 생태계를 구성하는 한 멤버로 <code>tidyverse</code>를 설치하게 되면 즉시 활용할 수 있다.</p></li>
<li><p>데이터프레임을 생성하고, 강제변환시키고, 외부 데이터를 데이터프레임으로 가져오는 방법에 사용되는 함수를 비교하면 다음과 같다.</p></li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">작업유형</th>
<th align="left">데이터프레임 명령어</th>
<th align="left">티블 명령어</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">생성</td>
<td align="left"><code>data.frame()</code></td>
<td align="left"><code>data_frame()</code>, <code>tibble()</code>, <code>tribble()</code></td>
</tr>
<tr class="even">
<td align="left">강제변환 (Coercion)</td>
<td align="left"><code>as.data.frame()</code></td>
<td align="left"><code>as_tibble()</code></td>
</tr>
<tr class="odd">
<td align="left">데이터 불러오기</td>
<td align="left"><code>read.*()</code></td>
<td align="left"><code>read_delim()</code>, <code>read_csv()</code>, <code>read_csv2()</code>, <code>read_tsv()</code></td>
</tr>
</tbody>
</table>
<div id="티블-생성" class="section level3">
<h3><span class="header-section-number">2.2.1</span> 티블 생성</h3>
<ul>
<li><code>tibble()</code> 은 데이터 프레임을 생성하는 좋은 방법이다.</li>
<li>데이터 프레임의 좋은 점들을 압축하고 있다.<br />
</li>
<li><code>tribble()</code> 함수를 사용해서 좀 더 직관적으로 데이터프레임을 생성할 수도 있다.</li>
</ul>
<div id="데이터-프레임과-티블-생성" class="section level4">
<h4><span class="header-section-number">2.2.1.1</span> 데이터 프레임과 티블 생성</h4>
<div id="데이터프레임data.frame의-생성-data.frame-함수" class="section level5">
<h5><span class="header-section-number">2.2.1.1.1</span> 데이터프레임(data.frame)의 생성 : <code>data.frame()</code> 함수</h5>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb544-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])</a>
<a class="sourceLine" id="cb544-2" title="2"><span class="kw">str</span>(df)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ X1.5        : int  1 2 3 4 5
##  $ letters.1.5.: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
</div>
<div id="티블tibble의-생성-tibble-함수" class="section level5">
<h5><span class="header-section-number">2.2.1.1.2</span> 티블(tibble)**의 생성 : <code>tibble()</code> 함수</h5>
<p>벡터 데이터 세트</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb546-1" title="1">a_value &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span>; a_value</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb548-1" title="1">b_value &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]; b_value</a></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</code></pre>
<p>벡터 결합에 의한 티블의 생성</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb550-1" title="1">tb1 &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">a =</span> a_value, <span class="dt">b =</span> b_value); tb1</a></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##       a b    
##   &lt;int&gt; &lt;chr&gt;
## 1     1 a    
## 2     2 b    
## 3     3 c    
## 4     4 d    
## 5     5 e</code></pre>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb552-1" title="1"><span class="kw">str</span>(tb1)</a></code></pre></div>
<pre><code>## tibble [5 x 2] (S3: tbl_df/tbl/data.frame)
##  $ a: int [1:5] 1 2 3 4 5
##  $ b: chr [1:5] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...</code></pre>
<p>티블의 생성</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb554-1" title="1">tb2 &lt;-<span class="st"> </span><span class="kw">tribble</span>( <span class="op">~</span>a, <span class="op">~</span>b, </a>
<a class="sourceLine" id="cb554-2" title="2">       <span class="co">#---|----</span></a>
<a class="sourceLine" id="cb554-3" title="3">          <span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, </a>
<a class="sourceLine" id="cb554-4" title="4">          <span class="dv">2</span>, <span class="st">&quot;b&quot;</span>)</a>
<a class="sourceLine" id="cb554-5" title="5">tb2</a></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##       a b    
##   &lt;dbl&gt; &lt;chr&gt;
## 1     1 a    
## 2     2 b</code></pre>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb556-1" title="1"><span class="kw">str</span>(tb2)</a></code></pre></div>
<pre><code>## tibble [2 x 2] (S3: tbl_df/tbl/data.frame)
##  $ a: num [1:2] 1 2
##  $ b: chr [1:2] &quot;a&quot; &quot;b&quot;</code></pre>
<ul>
<li><code>~a, ~b</code> : 컬럼의 지정</li>
<li><code>#---|----</code> : 컬럼 이름과 데이터 구분을 위해 삽입. <code>#</code>로 R은 주석 처리함.</li>
<li><code>1, "a",</code> : 이하는 데이터 값</li>
</ul>
</div>
</div>
<div id="데이터-프레임을-티블로-변환하기-as_tibble-함수" class="section level4">
<h4><span class="header-section-number">2.2.1.2</span> 데이터 프레임을 티블로 변환하기 : <code>as_tibble()</code> 함수</h4>
<p>데이터프레임을 티블로 강제 변환해야 할 경우가 있다. <code>as_tibble()</code> 를 사용하면 된다.</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb558-1" title="1"><span class="kw">str</span>(iris)             <span class="co"># 데이터 프레임</span></a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb560-1" title="1"><span class="kw">str</span>(<span class="kw">as_tibble</span>(iris))  <span class="co"># 티블</span></a></code></pre></div>
<pre><code>## tibble [150 x 5] (S3: tbl_df/tbl/data.frame)
##  $ Sepal.Length: num [1:150] 5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num [1:150] 3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num [1:150] 1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num [1:150] 0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div id="개별-벡터를-티블로-만들기" class="section level4">
<h4><span class="header-section-number">2.2.1.3</span> 개별 벡터를 티블로 만들기</h4>
<ul>
<li><code>tibble()</code> 을 사용하여 개별 벡터로부터 새로운 티블을 만들 수 있다.</li>
<li><code>tibble()</code> 은 길이가 1인 입력을 자동으로 재사용하며, 여기에서 보이는 것처럼, 방금 만든 변수를 참조할 수도 있다.</li>
</ul>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb562-1" title="1">tb1 &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb562-2" title="2">           <span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, </a>
<a class="sourceLine" id="cb562-3" title="3">           <span class="dt">y =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb562-4" title="4">           <span class="dt">z =</span> x <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb562-5" title="5">)</a>
<a class="sourceLine" id="cb562-6" title="6">tb1</a></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##       x     y     z
##   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     1     2
## 2     2     1     5
## 3     3     1    10
## 4     4     1    17
## 5     5     1    26</code></pre>
<ul>
<li>z 컬럼은 계산된 컬럼(computed column)이다.</li>
</ul>
</div>
<div id="tribble로-티블-만들기" class="section level4">
<h4><span class="header-section-number">2.2.1.4</span> <code>tribble()</code>로 티블 만들기</h4>
<ul>
<li>티블을 만드는 또 다른 방법은 <code>tribble()</code> (전치된(<strong>tr</strong>ansposed) 티블의 줄임말)을 사용하는 것이다.</li>
<li><code>tribble()</code> 은 코드로 데이터 입력을 하기 위해 고안되었다.</li>
<li><strong>열 헤더</strong>는 공식으로 정의되고 (즉, <code>~</code>로 시작), <strong>데이터</strong>은 쉼표로 구분된다.</li>
<li>이렇게 하면 적은 양의 데이터를 읽기 쉬운 형태로 배치할 수 있다.</li>
</ul>
<div id="티블-생성-1" class="section level5">
<h5><span class="header-section-number">2.2.1.4.1</span> 티블 생성</h5>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb564-1" title="1"><span class="kw">tribble</span>(</a>
<a class="sourceLine" id="cb564-2" title="2">  <span class="op">~</span>x, <span class="op">~</span>y, <span class="op">~</span>z,</a>
<a class="sourceLine" id="cb564-3" title="3">  <span class="co">#--|--|----</span></a>
<a class="sourceLine" id="cb564-4" title="4">  <span class="st">&quot;a&quot;</span>, <span class="dv">2</span>, <span class="fl">3.6</span>,</a>
<a class="sourceLine" id="cb564-5" title="5">  <span class="st">&quot;b&quot;</span>, <span class="dv">1</span>, <span class="fl">8.5</span></a>
<a class="sourceLine" id="cb564-6" title="6">)</a></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   x         y     z
##   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a         2   3.6
## 2 b         1   8.5</code></pre>
<ul>
<li>컬럼명을 지정할 때, <strong><code>~</code></strong> 를 이용한다.</li>
<li>각 컬럼의 데이터 타입( <em><code>&lt;chr&gt;</code>, <code>&lt;dbl&gt;</code>, <code>&lt;dbl&gt;</code></em> )은 자동으로 인식하여 결정된다.</li>
</ul>
</div>
</div>
<div id="tibble의-특징" class="section level4">
<h4><span class="header-section-number">2.2.1.5</span> <code>tibble()</code>의 특징</h4>
<ul>
<li><code>data.frame()</code> 에 비해 <code>tibble()</code> 은 동작의 규모가 훨씬 작다는 것에 주의해야 한다.</li>
<li>즉, 입력의 유형을 절대로 변경하지 않고 (예를 들어, 문자열을 팩터형으로 변환하지 않는다!), 변수의 이름을 바꾸거나, 행 이름을 생성하지 않는다.</li>
</ul>
<ol style="list-style-type: decimal">
<li><code>tibble()</code>은 입력 데이터의 <strong>데이터 타입을 변경하지 않는다</strong>.
<ul>
<li>(즉, <code>stringsAsFactors = FALSE</code>이 필요하지 않다!).</li>
<li>문자형 변수를 이용하는데 보다 편리하다.</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb566-1" title="1">letters</a></code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;
## [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb568-1" title="1"><span class="kw">tibble</span>(<span class="dt">x =</span> letters)</a></code></pre></div>
<pre><code>## # A tibble: 26 x 1
##    x    
##    &lt;chr&gt;
##  1 a    
##  2 b    
##  3 c    
##  4 d    
##  5 e    
##  6 f    
##  7 g    
##  8 h    
##  9 i    
## 10 j    
## # ... with 16 more rows</code></pre>
<ul>
<li>이러한 점이 <strong>list 형 컬럼의 사용</strong>을 용이하게 해 준다:</li>
</ul>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb570-1" title="1">tbl &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">20</span>))</a>
<a class="sourceLine" id="cb570-2" title="2">tbl<span class="op">$</span>y</a></code></pre></div>
<pre><code>## [[1]]
## [1] 1 2 3 4 5
## 
## [[2]]
##  [1]  1  2  3  4  5  6  7  8  9 10
## 
## [[3]]
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb572-1" title="1">tbl<span class="op">$</span>y[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [[1]]
## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb574-1" title="1">tbl<span class="op">$</span>y[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p><strong>list 형의 컬럼</strong>은 <strong><code>do()</code></strong> 함수에 의해 보통 생성되지만, 수작업으로 생성하는 것이 유용할 수 있다.</p>
<div id="do-함수의-이용-예-참고-바람" class="section level5 unnumbered">
<h5><code>do()</code> 함수의 이용 예 : [참고 바람]</h5>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb576-1" title="1">by_cyl &lt;-<span class="st"> </span><span class="kw">group_by</span>(mtcars, cyl)</a>
<a class="sourceLine" id="cb576-2" title="2"><span class="kw">do</span>(by_cyl, <span class="kw">head</span>(., <span class="dv">2</span>))</a></code></pre></div>
<pre><code>## # A tibble: 6 x 11
## # Groups:   cyl [3]
##     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
## 2  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
## 3  21       6  160    110  3.9   2.62  16.5     0     1     4     4
## 4  21       6  160    110  3.9   2.88  17.0     0     1     4     4
## 5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
## 6  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4</code></pre>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb578-1" title="1">models &lt;-<span class="st"> </span>by_cyl <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">do</span>(<span class="dt">mod =</span> <span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>disp, <span class="dt">data =</span> .))</a>
<a class="sourceLine" id="cb578-2" title="2">models</a></code></pre></div>
<pre><code>## # A tibble: 3 x 2
## # Rowwise: 
##     cyl mod   
##   &lt;dbl&gt; &lt;list&gt;
## 1     4 &lt;lm&gt;  
## 2     6 &lt;lm&gt;  
## 3     8 &lt;lm&gt;</code></pre>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb580-1" title="1"><span class="kw">summarise</span>(models, <span class="dt">rsq =</span> <span class="kw">summary</span>(mod)<span class="op">$</span>r.squared)</a></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 1
##      rsq
##    &lt;dbl&gt;
## 1 0.648 
## 2 0.0106
## 3 0.270</code></pre>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb583-1" title="1">models <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">do</span>(<span class="kw">data.frame</span>(<span class="dt">coef =</span> <span class="kw">coef</span>(.<span class="op">$</span>mod)))</a></code></pre></div>
<pre><code>## # A tibble: 6 x 1
## # Rowwise: 
##       coef
##      &lt;dbl&gt;
## 1 40.9    
## 2 -0.135  
## 3 19.1    
## 4  0.00361
## 5 22.0    
## 6 -0.0196</code></pre>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb585-1" title="1">models <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">do</span>(<span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb585-2" title="2">  <span class="dt">var =</span> <span class="kw">names</span>(<span class="kw">coef</span>(.<span class="op">$</span>mod)),</a>
<a class="sourceLine" id="cb585-3" title="3">  <span class="kw">coef</span>(<span class="kw">summary</span>(.<span class="op">$</span>mod)))</a>
<a class="sourceLine" id="cb585-4" title="4">)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 5
## # Rowwise: 
##   var         Estimate Std..Error t.value   Pr...t..
##   &lt;chr&gt;          &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;
## 1 (Intercept) 40.9        3.59     11.4   0.00000120
## 2 disp        -0.135      0.0332   -4.07  0.00278   
## 3 (Intercept) 19.1        2.91      6.55  0.00124   
## 4 disp         0.00361    0.0156    0.232 0.826     
## 5 (Intercept) 22.0        3.35      6.59  0.0000259 
## 6 disp        -0.0196     0.00932  -2.11  0.0568</code></pre>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb587-1" title="1">models &lt;-<span class="st"> </span>by_cyl <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">do</span>(</a>
<a class="sourceLine" id="cb587-2" title="2">  <span class="dt">mod_linear =</span> <span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span>disp, <span class="dt">data =</span> .),</a>
<a class="sourceLine" id="cb587-3" title="3">  <span class="dt">mod_quad =</span> <span class="kw">lm</span>(mpg <span class="op">~</span><span class="st"> </span><span class="kw">poly</span>(disp, <span class="dv">2</span>), <span class="dt">data =</span> .)</a>
<a class="sourceLine" id="cb587-4" title="4">)</a>
<a class="sourceLine" id="cb587-5" title="5">models</a></code></pre></div>
<pre><code>## # A tibble: 3 x 3
## # Rowwise: 
##     cyl mod_linear mod_quad
##   &lt;dbl&gt; &lt;list&gt;     &lt;list&gt;  
## 1     4 &lt;lm&gt;       &lt;lm&gt;    
## 2     6 &lt;lm&gt;       &lt;lm&gt;    
## 3     8 &lt;lm&gt;       &lt;lm&gt;</code></pre>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb589-1" title="1">compare &lt;-<span class="st"> </span>models <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">do</span>(<span class="dt">aov =</span> <span class="kw">anova</span>(.<span class="op">$</span>mod_linear, .<span class="op">$</span>mod_quad))</a>
<a class="sourceLine" id="cb589-2" title="2">compare<span class="op">$</span>aov</a></code></pre></div>
<pre><code>## [[1]]
## Analysis of Variance Table
## 
## Model 1: mpg ~ disp
## Model 2: mpg ~ poly(disp, 2)
##   Res.Df    RSS Df Sum of Sq      F  Pr(&gt;F)  
## 1      9 71.509                              
## 2      8 47.784  1    23.726 3.9722 0.08139 .
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## [[2]]
## Analysis of Variance Table
## 
## Model 1: mpg ~ disp
## Model 2: mpg ~ poly(disp, 2)
##   Res.Df     RSS Df Sum of Sq      F Pr(&gt;F)
## 1      5 12.5424                           
## 2      4  7.4506  1    5.0918 2.7336 0.1736
## 
## [[3]]
## Analysis of Variance Table
## 
## Model 1: mpg ~ disp
## Model 2: mpg ~ poly(disp, 2)
##   Res.Df    RSS Df Sum of Sq      F  Pr(&gt;F)  
## 1     12 62.183                              
## 2     11 47.551  1    14.632 3.3848 0.09292 .
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><code>tibble()</code>은 <strong>변수의 이름을 조정하지 않는다</strong>.
<ul>
<li>티블은 R 변수명으로는 유효하지 않은 이름(비구문론적 이름)도 열 이름으로 가질 수 있다.</li>
<li>예를 들어, 문자로 시작하지 않거나 공백과 같은 비정상적인 문자가 포함될 수 있다.</li>
<li>이 변수들을 참조하려면 역따옴표(backticks, ``)로 감싸야 한다.</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb591-1" title="1"><span class="kw">names</span>(<span class="kw">data.frame</span>(<span class="st">&quot;crazy name&quot;</span> =<span class="st"> </span><span class="dv">1</span>))</a></code></pre></div>
<pre><code>## [1] &quot;crazy.name&quot;</code></pre>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb593-1" title="1"><span class="kw">names</span>(<span class="kw">tibble</span>(<span class="st">&#39;crazy name&#39;</span> =<span class="st"> </span><span class="dv">1</span>))</a></code></pre></div>
<pre><code>## [1] &quot;crazy name&quot;</code></pre>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb595-1" title="1">tb &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb595-2" title="2">  <span class="st">`</span><span class="dt">:)</span><span class="st">`</span> =<span class="st"> &quot;smile&quot;</span>, </a>
<a class="sourceLine" id="cb595-3" title="3">  <span class="st">`</span><span class="dt"> </span><span class="st">`</span> =<span class="st"> &quot;space&quot;</span>,</a>
<a class="sourceLine" id="cb595-4" title="4">  <span class="st">`</span><span class="dt">2000</span><span class="st">`</span> =<span class="st"> &quot;number&quot;</span></a>
<a class="sourceLine" id="cb595-5" title="5">)</a>
<a class="sourceLine" id="cb595-6" title="6">tb</a></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   `:)`  ` `   `2000`
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 smile space number</code></pre>
<pre><code>- `names(data.frame(&quot;crazy name&quot; = 1))`와 같이 데이터 프레임의 경우는 컬럼명에 공란을 허용하지 않으며, 자동으로 공란을 점(`.`)으로 변경하여 `crazy.name`으로 컬럼명을 조정한다.
- `names(tibble(&#39;crazy name&#39; = 1))`와 같이 `tibble()` 함수는 공란이 있는 컬럼명을 허용한다.
- `tb`의 경우, 컬럼명에 기호, 공란 그리고 숫자 등이 허용됨을 알 수 있다. 다만, 컬럼명을 지정할 때 역따옴표(` )를 사용한다. 
- `ggplot2`, `dplyr` 및 `tidyr` 과 같은 다른 패키지에서 이러한 변수로 작업할 때도 역따옴표(` )가 필요하다.</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><code>tibble()</code>은 <strong>인수들을 천천히 그리고 순차적으로 평가</strong>한다:</li>
</ol>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb598-1" title="1"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">y =</span> x <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)</a></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##       x     y
##   &lt;int&gt; &lt;dbl&gt;
## 1     1     1
## 2     2     4
## 3     3     9
## 4     4    16
## 5     5    25</code></pre>
<ol start="4" style="list-style-type: decimal">
<li><code>tibble()</code>은 <code>row.names()</code>를 사용하지 않는다.
<ul>
<li>타이디 데이터의 중요한 점은 일관되게 변수를 저장한다는 것이다.</li>
<li>따라서 이것은 변수를 특별한 속성으로 저장하지 않는다.</li>
</ul></li>
<li><code>tibble()</code> 길이가 1인 벡터만을 리싸이클(recycling, 자동 반복) 한다.
<ul>
<li>이 보다 더 큰 길이의 벡터를 리싸이클링하는 것은 종종 버그의 원인이 된다.</li>
</ul></li>
</ol>
</div>
</div>
</div>
<div id="강제변환coercion" class="section level3">
<h3><span class="header-section-number">2.2.2</span> 강제변환(Coercion)</h3>
<ul>
<li><code>tibble()</code>함수를 보완하기 위해, 티블은 오브젝트를 티블로 변환하기 위해 <code>as.data.frame()</code>함수보다 더 단순한 <code>as_tibble()</code>함수를 제공하고 있다.<br />
</li>
<li>그리고 실제로 <code>as.data.frame()</code> 함수와 같이 작동하지만 <code>do.call(cbind, lapply(x, data.frame))</code>과 비슷하다.
<ul>
<li>즉, 각 요소들을 하나의 데이터 프레임으로 변환한 다음 <code>cbind()</code> 함수로 그것들을 함께 결합해 준다.</li>
</ul></li>
</ul>
<p><code>as_tibble()</code>함수가 성능 향상을 위해 작성되었다:</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb600-1" title="1">l &lt;-<span class="st"> </span><span class="kw">replicate</span>(<span class="dv">26</span>, <span class="kw">sample</span>(<span class="dv">100</span>), <span class="dt">simplify =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb600-2" title="2"><span class="kw">names</span>(l) &lt;-<span class="st"> </span>letters</a>
<a class="sourceLine" id="cb600-3" title="3"></a>
<a class="sourceLine" id="cb600-4" title="4">timing &lt;-<span class="st"> </span>bench<span class="op">::</span><span class="kw">mark</span>(</a>
<a class="sourceLine" id="cb600-5" title="5">  <span class="kw">as_tibble</span>(l),</a>
<a class="sourceLine" id="cb600-6" title="6">  <span class="kw">as.data.frame</span>(l),</a>
<a class="sourceLine" id="cb600-7" title="7">  <span class="dt">check =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb600-8" title="8">)</a>
<a class="sourceLine" id="cb600-9" title="9"></a>
<a class="sourceLine" id="cb600-10" title="10">timing</a></code></pre></div>
<pre><code>## # A tibble: 2 x 6
##   expression            min   median `itr/sec` mem_alloc `gc/sec`
##   &lt;bch:expr&gt;       &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;
## 1 as_tibble(l)      167.4us  222.1us     3963.     1.8KB     8.56
## 2 as.data.frame(l)   1.06ms   1.32ms      726.    4.91KB    12.8</code></pre>
<ul>
<li><code>as.data.frame()</code>의 처리 속도는 상호작용으로 사용될 때 병목현상의 일어나지 않지만,</li>
<li>하나의 tidy 데이터 프레임에 많은 정제되지 않은 데이터를 입력할 때는 문제가 될 수 있다.</li>
</ul>
</div>
<div id="티블과-데이터-프레임의-비교" class="section level3">
<h3><span class="header-section-number">2.2.3</span> 티블과 데이터 프레임의 비교</h3>
<p>티블과 데이터 프레임 사이에는 <strong>3가지의 중요한 차이점</strong>이 있다 : <strong>화면 출력, 서브세팅, 자동 반복 원칙</strong> 등</p>
<div id="화면-출력printing" class="section level4">
<h4><span class="header-section-number">2.2.3.1</span> 화면 출력(Printing)</h4>
<ul>
<li>티블을 출력하면, 처음의 10개 행과 한 화면에 맞게 모든 열을 보여준다.</li>
<li>또한 각 열의 데이터 타입을 요약해서 보여주고, 폰트 스타일과 강조를 위한 색상을 사용한다.</li>
</ul>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb602-1" title="1"><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">-5</span><span class="op">:</span><span class="dv">1000</span>)</a></code></pre></div>
<pre><code>## # A tibble: 1,006 x 1
##        x
##    &lt;int&gt;
##  1    -5
##  2    -4
##  3    -3
##  4    -2
##  5    -1
##  6     0
##  7     1
##  8     2
##  9     3
## 10     4
## # ... with 996 more rows</code></pre>
<p>티블은 큰 데이터 프레임을 화면출력할 때 실수로 콘솔을 넘어가지 않도록 설계되었다.</p>
<p>그러나 때로는 기본 디스플레이보다 더 많은 출력이 필요하곤 한다.</p>
<p>도움이 되는 몇 가지 옵션이 있다.</p>
<p><code>options</code> 를 설정하여 기본 출력 동작을 제어할 수도 있다.</p>
<ol style="list-style-type: decimal">
<li><code>options(tibble.print_max = n, tibble.print_min = m)</code>: <code>n</code> 행 이상이 있는 경우, <strong><code>m</code>행만 출력</strong>한다.
<ul>
<li><strong>모든 행을 표시</strong>하려면 <code>options(dplyr.print_min = Inf)</code> 을 사용하라.</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb604-1" title="1"><span class="co"># 최소 10줄</span></a>
<a class="sourceLine" id="cb604-2" title="2"><span class="kw">options</span>(<span class="dt">tibble.print_max =</span> <span class="dv">20</span>, <span class="dt">tibble.print_min =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb604-3" title="3"><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">26</span>, <span class="dt">b =</span> letters) </a></code></pre></div>
<pre><code>## # A tibble: 26 x 2
##        a b    
##    &lt;int&gt; &lt;chr&gt;
##  1     1 a    
##  2     2 b    
##  3     3 c    
##  4     4 d    
##  5     5 e    
##  6     6 f    
##  7     7 g    
##  8     8 h    
##  9     9 i    
## 10    10 j    
## # ... with 16 more rows</code></pre>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb606-1" title="1"><span class="co"># 최소 3줄</span></a>
<a class="sourceLine" id="cb606-2" title="2"><span class="kw">options</span>(<span class="dt">tibble.print_max =</span> <span class="dv">5</span>, <span class="dt">tibble.print_min =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb606-3" title="3"><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">26</span>, <span class="dt">b =</span> letters) </a></code></pre></div>
<pre><code>## # A tibble: 26 x 2
##       a b    
##   &lt;int&gt; &lt;chr&gt;
## 1     1 a    
## 2     2 b    
## 3     3 c    
## # ... with 23 more rows</code></pre>
<ul>
<li>첫 번째 티블의 경우, 행의 갯수가 26개로 20개(`<code>tibble.print_max = 20</code>)를 초과하므로, 10개의 행(<code>tibble.print_min = 10</code>)만 출력하고 있다.</li>
<li>두 번째 티블의 경우, 행의 갯수가 26개로 5개(`<code>tibble.print_max = 5</code>)를 초과하므로, 3개의 행(<code>tibble.print_min = 3</code>)만 출력하고 있다.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><code>options(tibble.width = Inf)</code> 을 사용하면 화면 너비와 상관없이 <strong>모든 열을 출력</strong>한다.</li>
</ol>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb608-1" title="1">nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb608-2" title="2"><span class="st">  </span><span class="kw">print</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">width =</span> <span class="ot">Inf</span>)</a></code></pre></div>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
##    arr_delay carrier flight tailnum origin dest  air_time distance  hour minute
##        &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1        11 UA        1545 N14228  EWR    IAH        227     1400     5     15
##  2        20 UA        1714 N24211  LGA    IAH        227     1416     5     29
##  3        33 AA        1141 N619AA  JFK    MIA        160     1089     5     40
##  4       -18 B6         725 N804JB  JFK    BQN        183     1576     5     45
##  5       -25 DL         461 N668DN  LGA    ATL        116      762     6      0
##  6        12 UA        1696 N39463  EWR    ORD        150      719     5     58
##  7        19 B6         507 N516JB  EWR    FLL        158     1065     6      0
##  8       -14 EV        5708 N829AS  LGA    IAD         53      229     6      0
##  9        -8 B6          79 N593JB  JFK    MCO        140      944     6      0
## 10         8 AA         301 N3ALAA  LGA    ORD        138      733     6      0
##    time_hour          
##    &lt;dttm&gt;             
##  1 2013-01-01 05:00:00
##  2 2013-01-01 05:00:00
##  3 2013-01-01 05:00:00
##  4 2013-01-01 05:00:00
##  5 2013-01-01 06:00:00
##  6 2013-01-01 05:00:00
##  7 2013-01-01 06:00:00
##  8 2013-01-01 06:00:00
##  9 2013-01-01 06:00:00
## 10 2013-01-01 06:00:00
## # ... with 336,766 more rows</code></pre>
</div>
<div id="서브세팅subsetting" class="section level4">
<h4><span class="header-section-number">2.2.3.2</span> 서브세팅(Subsetting)</h4>
<ul>
<li><p>티블은 <code>data.frame</code> 보다 좀 더 엄격하다.</p></li>
<li><p>절대로 부분 매칭을 사용하지 않으며, 접근하려는 열이 존재하지 않는 경우에는 경고를 생성한다.</p></li>
<li><p>변수 하나(단일 열)를 추출하려면 새로운 도구인 <code>$</code> 및 <code>[[]]</code> 이 필요하다.</p></li>
<li><p><code>[[]]</code> 는 이름이나 위치로 추출할 수 있다.</p></li>
<li><p><code>$</code> 는 이름으로만 추출할 수 있지만 타이핑을 조금 덜 해도 된다.</p></li>
</ul>
<div id="데이터-세트-3" class="section level5">
<h5><span class="header-section-number">2.2.3.2.1</span> 데이터 세트</h5>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb610-1" title="1"><span class="kw">set.seed</span>(<span class="dv">1234</span>)</a>
<a class="sourceLine" id="cb610-2" title="2">df &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb610-3" title="3">  <span class="dt">x =</span> <span class="kw">runif</span>(<span class="dv">5</span>),</a>
<a class="sourceLine" id="cb610-4" title="4">  <span class="dt">y =</span> <span class="kw">rnorm</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb610-5" title="5">)</a>
<a class="sourceLine" id="cb610-6" title="6">df</a></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##       x       y
##   &lt;dbl&gt;   &lt;dbl&gt;
## 1 0.114  0.359 
## 2 0.622 -0.730 
## 3 0.609  0.0357
## 4 0.623  0.113 
## 5 0.861  1.43</code></pre>
</div>
<div id="이름으로-추출" class="section level5">
<h5><span class="header-section-number">2.2.3.2.2</span> 이름으로 추출</h5>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb612-1" title="1">df<span class="op">$</span>x</a></code></pre></div>
<pre><code>## [1] 0.1137034 0.6222994 0.6092747 0.6233794 0.8609154</code></pre>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb614-1" title="1">df[[<span class="st">&quot;x&quot;</span>]]</a></code></pre></div>
<pre><code>## [1] 0.1137034 0.6222994 0.6092747 0.6233794 0.8609154</code></pre>
</div>
<div id="위치로-추출" class="section level5">
<h5><span class="header-section-number">2.2.3.2.3</span> 위치로 추출</h5>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb616-1" title="1">df[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>## [1] 0.1137034 0.6222994 0.6092747 0.6233794 0.8609154</code></pre>
<hr />
</div>
<div id="파이프-연산자의-사용" class="section level5">
<h5><span class="header-section-number">2.2.3.2.4</span> 파이프 연산자(<code>%&gt;%</code>)의 사용</h5>
<p><strong>파이프 연산자(<code>%&gt;%</code>)</strong>를 사용하는 경우, 특별한 플레이스홀더(placeholder)인 <strong><code>.</code></strong>를 사용해야 한다.</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb618-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span>.<span class="op">$</span>x</a></code></pre></div>
<pre><code>## [1] 0.1137034 0.6222994 0.6092747 0.6233794 0.8609154</code></pre>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb620-1" title="1">df <span class="op">%&gt;%</span><span class="st"> </span>.[[<span class="st">&quot;x&quot;</span>]]</a></code></pre></div>
<pre><code>## [1] 0.1137034 0.6222994 0.6092747 0.6233794 0.8609154</code></pre>
<hr />
</div>
<div id="의-사용" class="section level5">
<h5><span class="header-section-number">2.2.3.2.5</span> <code>[]</code>의 사용</h5>
<p><code>[]</code>는 <strong>항상 또 다른 티블을 반환</strong>한다. 이러한 특징을 데이터 프레임과 비교하면, 데이터 프레임은 어떨 때는 데이터 프레임을 또 어떨 때는 벡터를 반환한다:</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb622-1" title="1"><span class="co"># data.frame() 함수</span></a>
<a class="sourceLine" id="cb622-2" title="2">df1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb622-3" title="3"><span class="kw">class</span>(df1[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])               <span class="co"># 데이터 프레임</span></a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb624-1" title="1"><span class="kw">class</span>(df1[, <span class="dv">1</span>])                 <span class="co"># 벡터</span></a></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb626-1" title="1"><span class="co"># tibble() 함수</span></a>
<a class="sourceLine" id="cb626-2" title="2">df2 &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb626-3" title="3"><span class="kw">class</span>(df2[, <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])               <span class="co"># tibble</span></a></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb628-1" title="1"><span class="kw">class</span>(df2[, <span class="dv">1</span>])                 <span class="co"># tibble</span></a></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<hr />
</div>
<div id="의-사용-1" class="section level5">
<h5><span class="header-section-number">2.2.3.2.6</span> <code>$</code>의 사용</h5>
<p>티블은 <code>$</code>를 사용하는데 있어서 엄격하다. 절대로 <strong>부분 매칭을 사용하지 않으며</strong>, 접근하려는 열이 존재하지 않는 경우에는 경고를 생성하거나 <code>NULL</code>을 반환한다.</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb630-1" title="1"><span class="co"># data.frame() 함수</span></a>
<a class="sourceLine" id="cb630-2" title="2">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">abc =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb630-3" title="3">df<span class="op">$</span>a                            <span class="co"># &#39;abc&#39; 열의 첫 글자로 부분 매칭을 함</span></a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb632-1" title="1"><span class="co"># tibble() 함수</span></a>
<a class="sourceLine" id="cb632-2" title="2">df2 &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">abc =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb632-3" title="3">df2<span class="op">$</span>a                           <span class="co"># NULL과 경고메시지 출력</span></a></code></pre></div>
<pre><code>## Warning: Unknown or uninitialised column: `a`.</code></pre>
<pre><code>## NULL</code></pre>
<ul>
<li><code>df</code> 변수의 경우, <code>data.frame()</code> 함수를 사용하고 있으며, 이 경우 <code>df$a</code>는 <code>abc</code> 컬럼명을 부분 매칭하고 있다.</li>
<li><code>df2</code> 변수의 경우, <code>tibble()</code> 함수를 사용하고 있으며, 이 경우 <code>df$a</code>는 부분 매칭을 허용하지 않는다. 따라서 <code>NULL</code>과 경고 메시지를 출력한다.</li>
</ul>
<hr />
</div>
<div id="drop-옵션의-사용" class="section level5">
<h5><span class="header-section-number">2.2.3.2.7</span> <code>drop =</code> 옵션의 사용</h5>
<p>1.4.1 버전 이후, 티블은 더 이상 <code>drop =</code> 인수를 무시하지 않는다:</p>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb635-1" title="1"><span class="co"># data.frame() 함수</span></a>
<a class="sourceLine" id="cb635-2" title="2">d1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb635-3" title="3">d1[, <span class="st">&quot;a&quot;</span>]</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb637-1" title="1">d1[, <span class="st">&quot;a&quot;</span>, drop =<span class="st"> </span><span class="ot">TRUE</span>]    <span class="co"># &#39;drop = TRUE&#39;가 디폴트 </span></a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb639-1" title="1">d1[, <span class="st">&quot;a&quot;</span>, drop =<span class="st"> </span><span class="ot">FALSE</span>]</a></code></pre></div>
<pre><code>##   a
## 1 1
## 2 2
## 3 3</code></pre>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb641-1" title="1"><span class="co"># tibble() 함수</span></a>
<a class="sourceLine" id="cb641-2" title="2">d2 &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb641-3" title="3">d2[, <span class="st">&quot;a&quot;</span>]</a></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##       a
##   &lt;int&gt;
## 1     1
## 2     2
## 3     3</code></pre>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb643-1" title="1">d2[, <span class="st">&quot;a&quot;</span>, drop =<span class="st"> </span><span class="ot">TRUE</span>]</a></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb645-1" title="1">d2[, <span class="st">&quot;a&quot;</span>, drop =<span class="st"> </span><span class="ot">FALSE</span>]   <span class="co"># &#39;drop = FALSE&#39;가 디폴트</span></a></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##       a
##   &lt;int&gt;
## 1     1
## 2     2
## 3     3</code></pre>
<pre><code>- `d1` 변수의 경우, `data.frame()` 함수를 사용하여 생성되었으며, 이 경우 요소 검색 시에 `drop = TRUE` 옵션이 작동하지 않는다.
- `d2` 변수의 경우, `tibble()` 함수를 사용하여 생성되었으며, 이 경우 요소 검색 시에 `drop = TRUE` 옵션이 작동한다.</code></pre>
</div>
</div>
<div id="자동-반복-recycling" class="section level4">
<h4><span class="header-section-number">2.2.3.3</span> 자동 반복 (Recycling)</h4>
<ul>
<li>티블을 생성할 때 오직 길이가 1인 값만이 자동 반복된다.</li>
<li>길이가 1이 아닌 첫 번째 열이 티블의 행 갯수를 결정하며, 충돌이 되면 에러가 발생한다.</li>
<li>이러한 점은 또한 때때로 프로그램에 있어서 중요한 <code>0</code> 개의 행을 가진 티블로 확장된다:</li>
</ul>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb648-1" title="1"><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##       a     b
##   &lt;dbl&gt; &lt;int&gt;
## 1     1     1
## 2     1     2
## 3     1     3</code></pre>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb650-1" title="1"><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">b =</span> <span class="dv">1</span>)</a></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##       a     b
##   &lt;int&gt; &lt;dbl&gt;
## 1     1     1
## 2     2     1
## 3     3     1</code></pre>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb652-1" title="1"><span class="co"># tibble(a = 1:3, c = 1:2)           # Error : Tibble columns must have compatible sizes.</span></a>
<a class="sourceLine" id="cb652-2" title="2"><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="kw">integer</span>())       <span class="co"># A tibble: 0 x 2   (0행, 2열)</span></a></code></pre></div>
<pre><code>## # A tibble: 0 x 2
## # ... with 2 variables: a &lt;dbl&gt;, b &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb654-1" title="1"><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="kw">integer</span>(), <span class="dt">b =</span> <span class="dv">1</span>)       <span class="co"># A tibble: 0 x 2   (0행, 2열)</span></a></code></pre></div>
<pre><code>## # A tibble: 0 x 2
## # ... with 2 variables: a &lt;int&gt;, b &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="이전-코드와-상호작용" class="section level3">
<h3><span class="header-section-number">2.2.4</span> 이전 코드와 상호작용</h3>
<ul>
<li>일부 오래된 함수는 티블에서 동작하지 않는다.</li>
<li>이러한 함수를 사용하려면 <code>as.data.frame()</code> 를 사용하여 티블을 <code>data.frame</code> 으로 되돌려야 한다.</li>
</ul>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb656-1" title="1">tb &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb656-2" title="2">  <span class="st">`</span><span class="dt">:)</span><span class="st">`</span> =<span class="st"> &quot;smile&quot;</span>, </a>
<a class="sourceLine" id="cb656-3" title="3">  <span class="st">`</span><span class="dt"> </span><span class="st">`</span> =<span class="st"> &quot;space&quot;</span>,</a>
<a class="sourceLine" id="cb656-4" title="4">  <span class="st">`</span><span class="dt">2000</span><span class="st">`</span> =<span class="st"> &quot;number&quot;</span></a>
<a class="sourceLine" id="cb656-5" title="5">)</a>
<a class="sourceLine" id="cb656-6" title="6"></a>
<a class="sourceLine" id="cb656-7" title="7">tb1 &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(tb)</a>
<a class="sourceLine" id="cb656-8" title="8">tb1</a></code></pre></div>
<pre><code>##      :)         2000
## 1 smile space number</code></pre>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb658-1" title="1"><span class="kw">str</span>(tb1)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1 obs. of  3 variables:
##  $ :)  : chr &quot;smile&quot;
##  $     : chr &quot;space&quot;
##  $ 2000: chr &quot;number&quot;</code></pre>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb660-1" title="1"><span class="kw">class</span>(tb1)</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<pre><code>- 오래된 함수 중 일부가 티블에서 작동하지 않는 주된 이유는 `[` 함수 때문이다. 
- 여기에서는 `[` 를 많이 사용하지 않는데, `dplyr::filter()` 와 `dplyr::select()` 가 더 명확한 코드로 해결할 수 있기 때문이다.
- ([벡터 서브셋하기](https://sulgik.github.io/r4ds/tibble.html#vector-subsetting)에서 좀 더 자세히 알 수 있다). </code></pre>
<ul>
<li><code>base</code> R의 데이터프레임을 사용하면 <code>[</code> 는 어떨 때는 <em>데이터프레임</em>을 반환하고, 또 어떨 때는 <em>벡터</em>를 반환한다.</li>
<li>티블에서 <code>[</code> 는 항상 다른 <strong>티블을 반환</strong>한다.</li>
</ul>
</div>
<div id="외부-데이터-가져오기-importing" class="section level3">
<h3><span class="header-section-number">2.2.5</span> 외부 데이터 가져오기 (importing)</h3>
<p><code>.csv</code> 파일 변수명이 흥미롭게 된 파일데이터를 기존 <code>read.csv()</code> 함수와 <code>read_csv()</code> 함수로 각각 불러오는 경우를 비교하여 보자. <strong><code>read_csv()</code></strong>가 원본 데이터를 깔끔하게 가져올 뿐만 아니라 속도도 빠르다.</p>
<div id="read_lines-함수-벡터" class="section level4">
<h4><span class="header-section-number">2.2.5.1</span> <code>read_lines()</code> 함수 → 벡터**</h4>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb663-1" title="1">file_url &lt;-<span class="st"> &quot;https://gist.githubusercontent.com/theoroe3/8bc989b644adc24117bc66f50c292fc8/raw/f677a2ad811a9854c9d174178b0585a87569af60/tibbles_data.csv&quot;</span></a>
<a class="sourceLine" id="cb663-2" title="2"></a>
<a class="sourceLine" id="cb663-3" title="3"><span class="kw">read_lines</span>(file_url)</a></code></pre></div>
<pre><code>## [1] &quot;&lt;-,8,%,name&quot; &quot;1,2,0.25,t&quot;  &quot;2,4,0.25,h&quot;  &quot;3,6,0.25,e&quot;  &quot;4,8,0.25,o&quot;</code></pre>
</div>
<div id="read.csv-함수-데이터프레임" class="section level4">
<h4><span class="header-section-number">2.2.5.2</span> <code>read.csv()</code> 함수 → 데이터프레임**</h4>
<p><code>read.csv()</code> 함수는 외부 데이터를 가져올 때, <strong>데이터 프레임</strong> 형태로 가져온다</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb665-1" title="1"><span class="kw">read.csv</span>(file_url)</a></code></pre></div>
<pre><code>##   X.. X8   X. name
## 1   1  2 0.25    t
## 2   2  4 0.25    h
## 3   3  6 0.25    e
## 4   4  8 0.25    o</code></pre>
</div>
<div id="read_csv-함수-티블" class="section level4">
<h4><span class="header-section-number">2.2.5.3</span> <code>read_csv()</code> 함수 → 티블**</h4>
<p><code>read_csv()</code> 함수는 외부 데이터를 가져올 때, <strong>티블</strong> 형태로 가져온다.</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb667-1" title="1"><span class="kw">read_csv</span>(file_url)</a></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   `&lt;-` = col_double(),
##   `8` = col_double(),
##   `%` = col_double(),
##   name = col_character()
## )</code></pre>
<pre><code>## # A tibble: 4 x 4
##    `&lt;-`   `8`   `%` name 
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
## 1     1     2  0.25 t    
## 2     2     4  0.25 h    
## 3     3     6  0.25 e    
## 4     4     8  0.25 o</code></pre>
</div>
</div>
<div id="연습문제-7" class="section level3">
<h3><span class="header-section-number">2.2.6</span> 연습문제</h3>
<ol style="list-style-type: decimal">
<li><p><strong>어떤 객체가 티블 인지 알 수 있는 방법은 무엇인가? (힌트: 일반 데이터프레임인 <code>mtcars</code> 를 화면 출력해보라.)</strong></p>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb670-1" title="1"><span class="kw">head</span>(mtcars)</a></code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb672-1" title="1"><span class="co"># mtcars</span></a>
<a class="sourceLine" id="cb672-2" title="2"><span class="kw">as.tibble</span>(mtcars)</a></code></pre></div>
<pre><code>## Warning: `as.tibble()` is deprecated as of tibble 2.0.0.
## Please use `as_tibble()` instead.
## The signature and semantics have changed, see `?as_tibble`.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<pre><code>## # A tibble: 32 x 11
##     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  21       6   160   110  3.9   2.62  16.5     0     1     4     4
## 2  21       6   160   110  3.9   2.88  17.0     0     1     4     4
## 3  22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
## # ... with 29 more rows</code></pre>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb675-1" title="1"><span class="kw">class</span>(mtcars)</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre></li>
<li><p><strong><code>data.frame</code> 과 이에 해당하는 티블에서 다음 연산들을 비교하고 차이를 밝혀보라. 차이점은 무엇인가? 데이터프레임의 기본 동작이 혼란스러운 점은 무엇인가?</strong></p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb677-1" title="1">  df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">xyz =</span> <span class="st">&quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb677-2" title="2">  df<span class="op">$</span>x</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb679-1" title="1">  df[, <span class="st">&quot;xyz&quot;</span>]</a></code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb681-1" title="1">  df[, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;xyz&quot;</span>)]</a></code></pre></div>
<pre><code>##   abc xyz
## 1   1   a</code></pre>
<ul>
<li><p>두 번쨰의 <code>df$x</code>의 경우 컬럼명에 <code>x</code>가 없지만 컬럼명과 부분 매칭을 해서 <code>xyz</code> 컬럼의 값들을 출력하고 있다.</p></li>
<li><p><code>tibble()</code> 함수를 이용하면 부분 매칭이 허용되지 않는다.</p></li>
</ul>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb683-1" title="1">  tbl &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">xyz =</span> <span class="st">&quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb683-2" title="2">  tbl<span class="op">$</span>x          <span class="co"># 컬럼명의 부분 매칭을 허용하지 않음.</span></a></code></pre></div>
<pre><code>## Warning: Unknown or uninitialised column: `x`.</code></pre>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb686"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb686-1" title="1">  tbl[, <span class="st">&quot;xyz&quot;</span>]</a></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   xyz  
##   &lt;chr&gt;
## 1 a</code></pre>
<div class="sourceCode" id="cb688"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb688-1" title="1">  tbl[, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;xyz&quot;</span>)]</a></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##     abc xyz  
##   &lt;dbl&gt; &lt;chr&gt;
## 1     1 a</code></pre></li>
<li><p><strong>객체에 변수 이름을 저장하고 있는 경우 (예: <code>var &lt;- "mpg"</code>), 티블에서 이 참조 변수를 어떻게 추출할 수 있는가?</strong></p>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb690-1" title="1">mtcars</a></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb692-1" title="1">t_cars &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(mtcars)</a>
<a class="sourceLine" id="cb692-2" title="2">var &lt;-<span class="st"> &quot;mpg&quot;</span></a>
<a class="sourceLine" id="cb692-3" title="3"></a>
<a class="sourceLine" id="cb692-4" title="4">t_cars<span class="op">$</span>var             <span class="co"># NULL과 경고 메시지 출력</span></a></code></pre></div>
<pre><code>## Warning: Unknown or uninitialised column: `var`.</code></pre>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb695"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb695-1" title="1">t_cars[[var]]</a></code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<ul>
<li>이렇게 티블의 컬럼을 변수명으로 하여 검색하려 할 때에, <code>$</code>를 사용하면 <code>NULL</code>과 경고 메시지가 출력된다.</li>
</ul></li>
<li><p><strong>다음의 데이터프레임에서 비구문론적 이름을 참조하는 방법을 연습해보라.</strong></p>
<ol style="list-style-type: decimal">
<li><strong>1 이라는 이름의 변수를 추출하기.</strong></li>
<li><strong>1 vs 2 의 산점도를 플롯팅 하기.</strong></li>
<li><strong>열 2 를 열 1 로 나누어, 3 이라는 새로운 열을 생성하기.</strong></li>
<li><strong>열의 이름을 one, two, three 로 변경하기.</strong></li>
</ol>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb697-1" title="1">test &lt;-<span class="st"> </span><span class="kw">tibble</span>(</a>
<a class="sourceLine" id="cb697-2" title="2">  <span class="st">`</span><span class="dt">1</span><span class="st">`</span> =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,</a>
<a class="sourceLine" id="cb697-3" title="3">  <span class="st">`</span><span class="dt">2</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">1</span><span class="st">`</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">length</span>(<span class="st">`</span><span class="dt">1</span><span class="st">`</span>))</a>
<a class="sourceLine" id="cb697-4" title="4">)</a>
<a class="sourceLine" id="cb697-5" title="5"></a>
<a class="sourceLine" id="cb697-6" title="6"><span class="co">## 1.</span></a>
<a class="sourceLine" id="cb697-7" title="7">test[[<span class="st">&quot;1&quot;</span>]]</a></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb699-1" title="1"><span class="co">## 2.</span></a>
<a class="sourceLine" id="cb699-2" title="2"><span class="kw">ggplot</span>(test, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">`</span><span class="dt">1</span><span class="st">`</span>, <span class="dt">y =</span> <span class="st">`</span><span class="dt">2</span><span class="st">`</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb699-3" title="3"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-224-1.png" width="672" /></p>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb700-1" title="1"><span class="co">## 3.</span></a>
<a class="sourceLine" id="cb700-2" title="2"><span class="kw">mutate</span>(test, <span class="st">`</span><span class="dt">3</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">2</span><span class="st">`</span> <span class="op">/</span><span class="st"> `</span><span class="dt">1</span><span class="st">`</span>)</a></code></pre></div>
<pre><code>## # A tibble: 10 x 3
##     `1`   `2`   `3`
##   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1  1.00  1.00
## 2     2  3.22  1.61
## 3     3  6.06  2.02
## # ... with 7 more rows</code></pre>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb702-1" title="1"><span class="co"># 또는</span></a>
<a class="sourceLine" id="cb702-2" title="2">test[[<span class="st">&quot;3&quot;</span>]] &lt;-<span class="st"> </span>test<span class="op">$</span><span class="st">`</span><span class="dt">2</span><span class="st">`</span> <span class="op">/</span><span class="st"> </span>test<span class="op">$</span><span class="st">`</span><span class="dt">1</span><span class="st">`</span></a>
<a class="sourceLine" id="cb702-3" title="3"></a>
<a class="sourceLine" id="cb702-4" title="4"><span class="co">## 4.</span></a>
<a class="sourceLine" id="cb702-5" title="5">test &lt;-<span class="st"> </span><span class="kw">rename</span>(test, <span class="dt">one =</span> <span class="st">`</span><span class="dt">1</span><span class="st">`</span>, <span class="dt">two =</span> <span class="st">`</span><span class="dt">2</span><span class="st">`</span>, <span class="dt">three =</span> <span class="st">`</span><span class="dt">3</span><span class="st">`</span>)</a>
<a class="sourceLine" id="cb702-6" title="6"><span class="kw">glimpse</span>(test)</a></code></pre></div>
<pre><code>## Rows: 10
## Columns: 3
## $ one   &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
## $ two   &lt;dbl&gt; 1.001614, 3.223746, 6.064459, 8.959494, 9.889715, 11.488990, ...
## $ three &lt;dbl&gt; 1.001614, 1.611873, 2.021486, 2.239874, 1.977943, 1.914832, 1...</code></pre></li>
<li><p><strong><code>tibble::enframe()</code> 은 어떤 동작을 하는가? 언제 사용하겠는가?</strong></p>
<ul>
<li><code>tibble::enframe()</code> 은 이름이 붙여진 벡터를 <code>name</code> 컬럼과 <code>value</code> 컬럼으로 구성되는 데이터 프레임으로 변환한다.</li>
</ul>
<div class="sourceCode" id="cb704"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb704-1" title="1">  <span class="kw">enframe</span>(<span class="kw">c</span>(<span class="dt">a =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">b =</span> <span class="st">&quot;B&quot;</span>, <span class="dt">c =</span> <span class="st">&quot;C&quot;</span>))</a></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   name  value
##   &lt;chr&gt; &lt;chr&gt;
## 1 a     A    
## 2 b     B    
## 3 c     C</code></pre></li>
<li><p><strong>티블의 바닥글(footer)에 화면출력되는 열 이름의 개수를 제어하는 옵션은 무엇인가?</strong></p>
<ul>
<li><code>n_extra</code> 인수가 열 이름의 갯수를 제어한다. (<code>? print.tbl</code> 참고)</li>
</ul>
<div class="sourceCode" id="cb706"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb706-1" title="1">  mtcars2 &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(<span class="kw">cbind</span>(mtcars, mtcars), <span class="dt">.name_repair =</span> <span class="st">&quot;unique&quot;</span>)</a></code></pre></div>
<pre><code>## New names:
## * mpg -&gt; mpg...1
## * cyl -&gt; cyl...2
## * disp -&gt; disp...3
## * hp -&gt; hp...4
## * drat -&gt; drat...5
## * ...</code></pre>
<div class="sourceCode" id="cb708"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb708-1" title="1">  <span class="kw">print</span>(mtcars2, <span class="dt">n =</span> <span class="dv">4</span>, <span class="dt">n_extra =</span> <span class="dv">4</span>)</a></code></pre></div>
<pre><code>## # A tibble: 32 x 22
##   mpg...1 cyl...2 disp...3 hp...4 drat...5 wt...6 qsec...7 vs...8 am...9
##     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1    21         6      160    110     3.9    2.62     16.5      0      1
## 2    21         6      160    110     3.9    2.88     17.0      0      1
## 3    22.8       4      108     93     3.85   2.32     18.6      1      1
## 4    21.4       6      258    110     3.08   3.22     19.4      1      0
## # ... with 28 more rows, and 13 more variables: gear...10 &lt;dbl&gt;,
## #   carb...11 &lt;dbl&gt;, mpg...12 &lt;dbl&gt;, cyl...13 &lt;dbl&gt;, ...</code></pre>
<div class="sourceCode" id="cb710"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb710-1" title="1">  <span class="kw">print</span>(mtcars2, <span class="dt">n =</span> <span class="dv">4</span>, <span class="dt">n_extra =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>## # A tibble: 32 x 22
##   mpg...1 cyl...2 disp...3 hp...4 drat...5 wt...6 qsec...7 vs...8 am...9
##     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1    21         6      160    110     3.9    2.62     16.5      0      1
## 2    21         6      160    110     3.9    2.88     17.0      0      1
## 3    22.8       4      108     93     3.85   2.32     18.6      1      1
## 4    21.4       6      258    110     3.08   3.22     19.4      1      0
## # ... with 28 more rows, and 13 more variables: gear...10 &lt;dbl&gt;,
## #   carb...11 &lt;dbl&gt;, mpg...12 &lt;dbl&gt;, cyl...13 &lt;dbl&gt;, disp...14 &lt;dbl&gt;,
## #   hp...15 &lt;dbl&gt;, drat...16 &lt;dbl&gt;, wt...17 &lt;dbl&gt;, qsec...18 &lt;dbl&gt;,
## #   vs...19 &lt;dbl&gt;, ...</code></pre>
<ul>
<li>예를 들기 위해, <code>mtcars</code> 데이터 세트를 <code>cbind()</code> 함수를 이용하여 컬럼의 폭을 두 배로 늘렸다.
<ul>
<li><code>n = 4</code> 인수를 이용하여 <strong>출력할 행의 갯수</strong>를 제한하였다.</li>
<li><code>n_extra =</code> 인수를 이용하여 <strong>추가적인 컬럼에 대한 정보의 출력 갯수</strong>를 제어하였다.</li>
</ul></li>
</ul></li>
</ol>
</div>
<div id="references" class="section level3 unnumbered">
<h3>References</h3>
<ul>
<li><p><a href="https://statkclee.github.io/data-science/data-handling-tibble.html" class="uri">https://statkclee.github.io/data-science/data-handling-tibble.html</a></p></li>
<li><p><a href="https://m.blog.naver.com/PostView.nhn?blogId=2000051148&amp;logNo=221188223533&amp;proxyReferer=https:%2F%2Fwww.google.com%2F" class="uri">https://m.blog.naver.com/PostView.nhn?blogId=2000051148&amp;logNo=221188223533&amp;proxyReferer=https:%2F%2Fwww.google.com%2F</a></p></li>
<li><p><a href="http://henryquant.blogspot.com/2019/11/dtplyr-dplyr-datatable.html">dtplyr: dplyr의 편리함과 data.table의 속도를 그대로!</a> : <strong>data.table, dplyr, dtplyr 의 속도비교</strong></p></li>
<li><p><a href="https://rdrr.io/cran/dtplyr/">dtplyr: Data Table Back-End for ‘dplyr’</a></p></li>
</ul>
</div>
</div>
<div id="factor" class="section level2">
<h2><span class="header-section-number">2.3</span> Factor</h2>
<div id="범주형-자료" class="section level3">
<h3><span class="header-section-number">2.3.1</span> 범주형 자료</h3>
<p>R에서 <strong>범주형 자료(Categorical Data)</strong>를 다룰 때는 <strong>문자형 자료</strong>와 잘 구별할 수 있어야 한다.</p>
<p>미리 범주형인지 문자형인지 확인하고 적절하게 분석 목적에 맞게끔 변환시켜야 한다.
이러한 과정들이 모두 데이터 전처리의 일부이다.</p>
<p>쉽게 표현하면, “vector(숫자형) + level(문자형) = factor”</p>
</div>
<div id="factor의-요소-및-특징" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Factor의 요소 및 특징</h3>
<p>level</p>
<ul>
<li>vector의 index. (그런데, level도 벡터이다.)</li>
<li>char 형이 기본값.</li>
<li>first level이 선형 모델링시 가장 basic level로 간주됨. ex] levels = c(“yes”, “no”)</li>
</ul>
<p>특징 :</p>
<ul>
<li><p>명목형 변수를 저장할 때에 메모리를 아껴준다.</p>
<ul>
<li>ex) “MALE”, “MALE”, “FEMALE” … 로 저장해주기 보다는 1, 1, 2, … 로 저장하고,
1 = MALE, 2 = FEMALE로 level로 묶어주는 것이 좀 더 메모리상에서 효율적</li>
</ul></li>
<li><p>일반 vector와는 다르게 level을 설정 가능</p></li>
<li><p>levels을 통해 한번에 “척”하고 변경이 가능</p></li>
</ul>
</div>
<div id="factor-함수의-형식" class="section level3">
<h3><span class="header-section-number">2.3.3</span> <code>factor()</code> 함수의 형식</h3>
<p><code>factor()</code> 함수의 기본적인 형식 :</p>
<pre><code>factor(x = character(), levels, labels = levels,
       exclude = NA, ordered = is.ordered(x), nmax = NA)

where,
x   : 소수의 구별되는 값들로 구성되는 데이터 벡터
levels  : as.character(x)에 의해 처리된 문자열 데이터의 유일 값들로, x의 오름차순으로 정렬된 것.
이는 sort(unique(x)) 보다 더 적은 수가 된다는 점을 주목하라.

labels : 실제로 보여지는 값
exclude : levels를 설정할 때 제외되는 값들의 벡터
ordered : levels에 순서를 지정
nmax : levels 갯수의 상한</code></pre>
</div>
<div id="factor-생성" class="section level3">
<h3><span class="header-section-number">2.3.4</span> factor 생성</h3>
<pre><code>x &lt;- factor(&quot;문자벡터&quot;, levels = “벡터의 레벨(char)”, ordered = “ T/F” )</code></pre>
<div id="factor-생성-1" class="section level4">
<h4><span class="header-section-number">2.3.4.1</span> factor 생성</h4>
<div class="sourceCode" id="cb714"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb714-1" title="1"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>) )    <span class="co">#  디폴트로 레벨 : 오름차순 생성</span></a></code></pre></div>
<pre><code>## [1] yes no  yes
## Levels: no yes</code></pre>
</div>
<div id="factor에-levels-부여하기" class="section level4">
<h4><span class="header-section-number">2.3.4.2</span> factor에 levels 부여하기</h4>
<div class="sourceCode" id="cb716"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb716-1" title="1"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>)) </a></code></pre></div>
<pre><code>## [1] yes no  yes
## Levels: yes no</code></pre>
</div>
<div id="levels에-순위-부여하기" class="section level4">
<h4><span class="header-section-number">2.3.4.3</span> levels에 순위 부여하기</h4>
<div class="sourceCode" id="cb718"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb718-1" title="1">x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>) , <span class="dt">ordered =</span> T)    <span class="co"># 가장 처음에 온 값이 기본 레벨(basic levels)이 됨</span></a>
<a class="sourceLine" id="cb718-2" title="2">x</a></code></pre></div>
<pre><code>## [1] yes no  yes
## Levels: yes &lt; no</code></pre>
<div class="sourceCode" id="cb720"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb720-1" title="1"><span class="kw">levels</span>(x)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] &quot;yes&quot; &quot;no&quot;</code></pre>
<div class="sourceCode" id="cb722"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb722-1" title="1"><span class="kw">levels</span>(x)[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] &lt;-<span class="st"> &quot;yes&quot;</span></a>
<a class="sourceLine" id="cb722-2" title="2"><span class="kw">levels</span>(x)                   </a></code></pre></div>
<pre><code>## [1] &quot;yes&quot;</code></pre>
<div class="sourceCode" id="cb724"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb724-1" title="1">x                             <span class="co"># levels에 접근하여 모든 값을 변경 가능</span></a></code></pre></div>
<pre><code>## [1] yes yes yes
## Levels: yes</code></pre>
</div>
<div id="factor의-exclude인자-활용하기" class="section level4">
<h4><span class="header-section-number">2.3.4.4</span> factor의 exclude인자 활용하기</h4>
<div class="sourceCode" id="cb726"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb726-1" title="1">x &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>, <span class="st">&quot;yeah&quot;</span>), </a>
<a class="sourceLine" id="cb726-2" title="2">            <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;yes&quot;</span>, <span class="st">&quot;no&quot;</span>, <span class="st">&quot;yeah&quot;</span>), </a>
<a class="sourceLine" id="cb726-3" title="3">            <span class="dt">ordered =</span> T, </a>
<a class="sourceLine" id="cb726-4" title="4">            <span class="dt">exclude =</span> <span class="st">&quot;yeah&quot;</span>)</a>
<a class="sourceLine" id="cb726-5" title="5">x           <span class="co"># exclude를 쓰면 NA 처리된다</span></a></code></pre></div>
<pre><code>## [1] yes  no   yes  &lt;NA&gt;
## Levels: yes &lt; no</code></pre>
</div>
<div id="addna-함수-활용하기" class="section level4">
<h4><span class="header-section-number">2.3.4.5</span> <code>addNA()</code> 함수 활용하기 :</h4>
<p><code>addNA()</code> 함수를 이용하여 <code>NA</code>를 <code>levels</code>에 추가하기</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb728-1" title="1"><span class="kw">addNA</span>(x, <span class="dt">ifany =</span> <span class="ot">FALSE</span>)     <span class="co"># Levels에 N/A를 넣고싶다면</span></a></code></pre></div>
<pre><code>## [1] yes  no   yes  &lt;NA&gt;
## Levels: yes &lt; no &lt; &lt;NA&gt;</code></pre>
</div>
<div id="tapply-함수를-통해-factor-이해하기" class="section level4">
<h4><span class="header-section-number">2.3.4.6</span> <code>tapply()</code> 함수를 통해 factor 이해하기</h4>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb730-1" title="1">age &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">43</span>,<span class="dv">35</span>,<span class="dv">34</span>,<span class="dv">37</span>,<span class="dv">28</span>,<span class="dv">30</span>,<span class="dv">29</span>,<span class="dv">25</span>,<span class="dv">27</span>,<span class="dv">36</span>,<span class="dv">24</span>,<span class="dv">36</span>,<span class="dv">26</span>,<span class="dv">28</span>,<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb730-2" title="2">gender &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&#39;M&#39;</span>,<span class="st">&#39;F&#39;</span>,<span class="st">&#39;F&#39;</span>,<span class="st">&#39;M&#39;</span>,<span class="st">&#39;M&#39;</span>,<span class="st">&#39;F&#39;</span>,<span class="st">&#39;F&#39;</span>,<span class="st">&#39;M&#39;</span>,<span class="st">&#39;F&#39;</span>,<span class="st">&#39;F&#39;</span>,<span class="st">&#39;M&#39;</span>,<span class="st">&#39;M&#39;</span>,<span class="st">&#39;M&#39;</span>,<span class="st">&#39;F&#39;</span>,<span class="st">&#39;M&#39;</span>))</a>
<a class="sourceLine" id="cb730-3" title="3">sal &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">seq</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dt">length.out=</span><span class="dv">15</span>))   </a>
<a class="sourceLine" id="cb730-4" title="4">emp &lt;-<span class="st"> </span><span class="kw">data.frame</span>(age, gender, sal)  </a>
<a class="sourceLine" id="cb730-5" title="5"></a>
<a class="sourceLine" id="cb730-6" title="6">emp<span class="op">$</span>over30 &lt;-<span class="st"> </span><span class="kw">ifelse</span>(emp<span class="op">$</span>age <span class="op">&gt;=</span><span class="st"> </span><span class="dv">35</span>, <span class="dv">3</span>, (<span class="kw">ifelse</span>(emp<span class="op">$</span>age <span class="op">&gt;=</span><span class="dv">30</span>, <span class="dv">2</span>, <span class="kw">ifelse</span>(emp<span class="op">$</span>age <span class="op">&gt;=</span><span class="dv">25</span>, <span class="dv">1</span>, <span class="dv">0</span>))))</a>
<a class="sourceLine" id="cb730-7" title="7">emp<span class="op">$</span>over30 &lt;-<span class="st"> </span><span class="kw">as.factor</span>(emp<span class="op">$</span>over30)</a>
<a class="sourceLine" id="cb730-8" title="8"><span class="kw">str</span>(emp)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    15 obs. of  4 variables:
##  $ age   : num  43 35 34 37 28 30 29 25 27 36 ...
##  $ gender: Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 2 1 1 2 2 1 1 2 1 1 ...
##  $ sal   : num  100 107 114 121 129 ...
##  $ over30: Factor w/ 4 levels &quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;: 4 4 3 4 2 3 2 2 2 4 ...</code></pre>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb732-1" title="1"><span class="kw">round</span>(<span class="kw">tapply</span>(emp<span class="op">$</span>sal, <span class="kw">list</span>(emp<span class="op">$</span>gender, emp<span class="op">$</span>over30), mean))   <span class="co"># gender, over30 별로 sal의 급여 평균 구하기</span></a></code></pre></div>
<pre><code>##     0   1   2   3
## F  NA 164 125 136
## M 186 155  NA 133</code></pre>
</div>
<div id="lm-함수를-통해-factor-이해하기" class="section level4">
<h4><span class="header-section-number">2.3.4.7</span> <code>lm()</code> 함수를 통해 factor 이해하기</h4>
<div class="sourceCode" id="cb734"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb734-1" title="1">hsb2 &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://stats.idre.ucla.edu/stat/data/hsb2.csv&quot;</span>)</a></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   id = col_double(),
##   female = col_double(),
##   race = col_double(),
##   ses = col_double(),
##   schtyp = col_double(),
##   prog = col_double(),
##   read = col_double(),
##   write = col_double(),
##   math = col_double(),
##   science = col_double(),
##   socst = col_double()
## )</code></pre>
<div class="sourceCode" id="cb736"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb736-1" title="1"><span class="kw">str</span>(hsb2)</a></code></pre></div>
<pre><code>## tibble [200 x 11] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ id     : num [1:200] 70 121 86 141 172 113 50 11 84 48 ...
##  $ female : num [1:200] 0 1 0 0 0 0 0 0 0 0 ...
##  $ race   : num [1:200] 4 4 4 4 4 4 3 1 4 3 ...
##  $ ses    : num [1:200] 1 2 3 3 2 2 2 2 2 2 ...
##  $ schtyp : num [1:200] 1 1 1 1 1 1 1 1 1 1 ...
##  $ prog   : num [1:200] 1 3 1 3 2 2 1 2 1 2 ...
##  $ read   : num [1:200] 57 68 44 63 47 44 50 34 63 57 ...
##  $ write  : num [1:200] 52 59 33 44 52 52 59 46 57 55 ...
##  $ math   : num [1:200] 41 53 54 47 57 51 42 45 54 52 ...
##  $ science: num [1:200] 47 63 58 53 53 63 53 39 58 50 ...
##  $ socst  : num [1:200] 57 61 31 56 61 61 61 36 51 51 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   id = col_double(),
##   ..   female = col_double(),
##   ..   race = col_double(),
##   ..   ses = col_double(),
##   ..   schtyp = col_double(),
##   ..   prog = col_double(),
##   ..   read = col_double(),
##   ..   write = col_double(),
##   ..   math = col_double(),
##   ..   science = col_double(),
##   ..   socst = col_double()
##   .. )</code></pre>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb738-1" title="1"><span class="co">## race 컬럼에 factor 미적용시</span></a>
<a class="sourceLine" id="cb738-2" title="2"><span class="kw">summary</span>(<span class="kw">lm</span>(write <span class="op">~</span><span class="st"> </span>race, <span class="dt">data =</span> hsb2))</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = write ~ race, data = hsb2)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -22.919  -5.912   1.091   8.082  17.100 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  45.8941     2.2652  20.260  &lt; 2e-16 ***
## race          2.0061     0.6322   3.173  0.00175 ** 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 9.27 on 198 degrees of freedom
## Multiple R-squared:  0.0484, Adjusted R-squared:  0.04359 
## F-statistic: 10.07 on 1 and 198 DF,  p-value: 0.001747</code></pre>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb740-1" title="1"><span class="co"># 팩터 변수 생성 후 race 컬럼에 적용한 결과</span></a>
<a class="sourceLine" id="cb740-2" title="2">hsb2<span class="op">$</span>race.f &lt;-<span class="st"> </span><span class="kw">factor</span>(hsb2<span class="op">$</span>race)    <span class="co"># race 컬럼의 팩터형 race.f 컬럼</span></a>
<a class="sourceLine" id="cb740-3" title="3"><span class="kw">is.factor</span>(hsb2<span class="op">$</span>race.f)              <span class="co"># race.f 컬럼이 factor 형인지 확인</span></a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb742"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb742-1" title="1">hsb2<span class="op">$</span>race.f[<span class="dv">1</span><span class="op">:</span><span class="dv">15</span>]                   <span class="co"># race.f 컬럼의 앞 15개 요소 확인</span></a></code></pre></div>
<pre><code>##  [1] 4 4 4 4 4 4 3 1 4 3 4 4 4 4 3
## Levels: 1 2 3 4</code></pre>
<div class="sourceCode" id="cb744"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb744-1" title="1"><span class="kw">summary</span>(<span class="kw">lm</span>(write <span class="op">~</span><span class="st"> </span>race.f, <span class="dt">data =</span> hsb2))  <span class="co">#  write = a * race.f + b 선형 회귀식의 요약 통계</span></a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = write ~ race.f, data = hsb2)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -23.0552  -5.4583   0.9724   7.0000  18.8000 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   46.458      1.842  25.218  &lt; 2e-16 ***
## race.f2       11.542      3.286   3.512 0.000552 ***
## race.f3        1.742      2.732   0.637 0.524613    
## race.f4        7.597      1.989   3.820 0.000179 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 9.025 on 196 degrees of freedom
## Multiple R-squared:  0.1071, Adjusted R-squared:  0.0934 
## F-statistic: 7.833 on 3 and 196 DF,  p-value: 5.785e-05</code></pre>
<div class="sourceCode" id="cb746"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb746-1" title="1"><span class="co"># ggplot(hsb2, aes(race.f, write)) + geom_point() + stat_smooth(method=lm, level = 0.95)</span></a></code></pre></div>
</div>
<div id="팩터변수를-외부에서-생성하기-싫은-경우-내부에-사용도-가능" class="section level4">
<h4><span class="header-section-number">2.3.4.8</span> 팩터변수를 외부에서 생성하기 싫은 경우 내부에 사용도 가능</h4>
<div class="sourceCode" id="cb747"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb747-1" title="1">hsb2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://stats.idre.ucla.edu/stat/data/hsb2.csv&quot;</span>)</a>
<a class="sourceLine" id="cb747-2" title="2"></a>
<a class="sourceLine" id="cb747-3" title="3"><span class="kw">summary</span>(<span class="kw">lm</span>(write <span class="op">~</span><span class="st"> </span><span class="kw">factor</span>(race), <span class="dt">data =</span> hsb2))</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = write ~ factor(race), data = hsb2)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -23.0552  -5.4583   0.9724   7.0000  18.8000 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     46.458      1.842  25.218  &lt; 2e-16 ***
## factor(race)2   11.542      3.286   3.512 0.000552 ***
## factor(race)3    1.742      2.732   0.637 0.524613    
## factor(race)4    7.597      1.989   3.820 0.000179 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 9.025 on 196 degrees of freedom
## Multiple R-squared:  0.1071, Adjusted R-squared:  0.0934 
## F-statistic: 7.833 on 3 and 196 DF,  p-value: 5.785e-05</code></pre>
<div class="sourceCode" id="cb749"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb749-1" title="1"><span class="co"># ggplot(hsb2, aes(race, write)) + geom_point() + stat_smooth(aes(race, write), method=lm, level = 0.95)</span></a></code></pre></div>
</div>
</div>
<div id="reference-1" class="section level3 unnumbered">
<h3>Reference</h3>
<ul>
<li><a href="https://gigle.tistory.com/102">R만의 명목변수 자료형 Factor 개념 이해하기</a></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-import.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-cleansing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
