<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Preprocessing | Data Management with R</title>
  <meta name="description" content="The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Preprocessing | Data Management with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Preprocessing | Data Management with R" />
  
  <meta name="twitter:description" content="The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Dae Ho Kim" />


<meta name="date" content="2020-12-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-cleansing.html"/>
<link rel="next" href="piping-operator.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.16/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="1" data-path="data-import.html"><a href="data-import.html"><i class="fa fa-check"></i><b>1</b> Data Import and Export</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data-import.html"><a href="data-import.html#data-import"><i class="fa fa-check"></i><b>1.1</b> Data Import</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="data-import.html"><a href="data-import.html#준비하기"><i class="fa fa-check"></i><b>1.1.1</b> 준비하기</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-import.html"><a href="data-import.html#시작하기"><i class="fa fa-check"></i><b>1.1.2</b> 시작하기</a></li>
<li class="chapter" data-level="1.1.3" data-path="data-import.html"><a href="data-import.html#벡터-파싱하기"><i class="fa fa-check"></i><b>1.1.3</b> 벡터 파싱하기</a></li>
<li class="chapter" data-level="1.1.4" data-path="data-import.html"><a href="data-import.html#연습문제-1"><i class="fa fa-check"></i><b>1.1.4</b> 연습문제</a></li>
<li class="chapter" data-level="1.1.5" data-path="data-import.html"><a href="data-import.html#파일-파싱하기"><i class="fa fa-check"></i><b>1.1.5</b> 파일 파싱하기</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-import.html"><a href="data-import.html#data_export"><i class="fa fa-check"></i><b>1.2</b> Data Export</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="data-import.html"><a href="data-import.html#write_csv"><i class="fa fa-check"></i><b>1.2.1</b> <code>write_csv()</code></a></li>
<li class="chapter" data-level="1.2.2" data-path="data-import.html"><a href="data-import.html#write_rds"><i class="fa fa-check"></i><b>1.2.2</b> <code>write_rds()</code></a></li>
<li class="chapter" data-level="1.2.3" data-path="data-import.html"><a href="data-import.html#write_feather"><i class="fa fa-check"></i><b>1.2.3</b> <code>write_feather()</code></a></li>
<li class="chapter" data-level="1.2.4" data-path="data-import.html"><a href="data-import.html#read_csv와-read_rds의-비교"><i class="fa fa-check"></i><b>1.2.4</b> <code>read_csv()</code>와 <code>read_rds()</code>의 비교</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="data-import.html"><a href="data-import.html#data_import_additional"><i class="fa fa-check"></i><b>1.3</b> Read Tabular Data의 보충설명</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="data-import.html"><a href="data-import.html#read_csv의-예"><i class="fa fa-check"></i><b>1.3.1</b> <code>read_csv()</code>의 예</a></li>
<li class="chapter" data-level="1.3.2" data-path="data-import.html"><a href="data-import.html#read_csv2의-예"><i class="fa fa-check"></i><b>1.3.2</b> <code>read_csv2()</code>의 예</a></li>
<li class="chapter" data-level="1.3.3" data-path="data-import.html"><a href="data-import.html#read_delim의-예"><i class="fa fa-check"></i><b>1.3.3</b> <code>read_delim()</code>의 예</a></li>
<li class="chapter" data-level="1.3.4" data-path="data-import.html"><a href="data-import.html#read_fwf의-예"><i class="fa fa-check"></i><b>1.3.4</b> <code>read_fwf()</code>의 예</a></li>
<li class="chapter" data-level="1.3.5" data-path="data-import.html"><a href="data-import.html#read_tsv의-예"><i class="fa fa-check"></i><b>1.3.5</b> read_tsv()의 예</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html"><i class="fa fa-check"></i><b>2</b> Dataframe, Tibble and Factor</a>
<ul>
<li class="chapter" data-level="2.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#dataframe"><i class="fa fa-check"></i><b>2.1</b> Data Frame</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#데이터-프레임의-생성"><i class="fa fa-check"></i><b>2.1.1</b> 데이터 프레임의 생성</a></li>
<li class="chapter" data-level="2.1.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#데이터-프레임의-구조"><i class="fa fa-check"></i><b>2.1.2</b> 데이터 프레임의 구조</a></li>
<li class="chapter" data-level="2.1.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#행열-추가하기"><i class="fa fa-check"></i><b>2.1.3</b> 행/열 추가하기</a></li>
<li class="chapter" data-level="2.1.4" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#행과-열-접근하기"><i class="fa fa-check"></i><b>2.1.4</b> 행과 열 접근하기</a></li>
<li class="chapter" data-level="2.1.5" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-2"><i class="fa fa-check"></i><b>2.1.5</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.6" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#행과-열의-이름-지정하기"><i class="fa fa-check"></i><b>2.1.6</b> 행과 열의 이름 지정하기</a></li>
<li class="chapter" data-level="2.1.7" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#데이터-타입-변환"><i class="fa fa-check"></i><b>2.1.7</b> 데이터 타입 변환</a></li>
<li class="chapter" data-level="2.1.8" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-3"><i class="fa fa-check"></i><b>2.1.8</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.9" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#실습-과제"><i class="fa fa-check"></i><b>2.1.9</b> 실습 과제</a></li>
<li class="chapter" data-level="2.1.10" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#apply-함수-이해하기"><i class="fa fa-check"></i><b>2.1.10</b> <code>apply()</code> 함수 이해하기</a></li>
<li class="chapter" data-level="2.1.11" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-4"><i class="fa fa-check"></i><b>2.1.11</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.12" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-5"><i class="fa fa-check"></i><b>2.1.12</b> 연습문제</a></li>
<li class="chapter" data-level="2.1.13" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#apply-함수의-사촌들"><i class="fa fa-check"></i><b>2.1.13</b> <code>apply()</code> 함수의 사촌들</a></li>
<li class="chapter" data-level="2.1.14" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-6"><i class="fa fa-check"></i><b>2.1.14</b> 연습문제</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#참고-sampling"><i class="fa fa-check"></i>[참고 : Sampling]</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#reference"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#tibble"><i class="fa fa-check"></i><b>2.2</b> tibble</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#티블-생성"><i class="fa fa-check"></i><b>2.2.1</b> 티블 생성</a></li>
<li class="chapter" data-level="2.2.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#강제변환coercion"><i class="fa fa-check"></i><b>2.2.2</b> 강제변환(Coercion)</a></li>
<li class="chapter" data-level="2.2.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#티블과-데이터-프레임의-비교"><i class="fa fa-check"></i><b>2.2.3</b> 티블과 데이터 프레임의 비교</a></li>
<li class="chapter" data-level="2.2.4" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#이전-코드와-상호작용"><i class="fa fa-check"></i><b>2.2.4</b> 이전 코드와 상호작용</a></li>
<li class="chapter" data-level="2.2.5" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#외부-데이터-가져오기-importing"><i class="fa fa-check"></i><b>2.2.5</b> 외부 데이터 가져오기 (importing)</a></li>
<li class="chapter" data-level="2.2.6" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#연습문제-7"><i class="fa fa-check"></i><b>2.2.6</b> 연습문제</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor"><i class="fa fa-check"></i><b>2.3</b> Factor</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#범주형-자료"><i class="fa fa-check"></i><b>2.3.1</b> 범주형 자료</a></li>
<li class="chapter" data-level="2.3.2" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor의-요소-및-특징"><i class="fa fa-check"></i><b>2.3.2</b> Factor의 요소 및 특징</a></li>
<li class="chapter" data-level="2.3.3" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor-함수의-형식"><i class="fa fa-check"></i><b>2.3.3</b> <code>factor()</code> 함수의 형식</a></li>
<li class="chapter" data-level="2.3.4" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#factor-생성"><i class="fa fa-check"></i><b>2.3.4</b> factor 생성</a></li>
<li class="chapter" data-level="" data-path="df-tibble-factor.html"><a href="df-tibble-factor.html#reference-1"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-cleansing.html"><a href="data-cleansing.html"><i class="fa fa-check"></i><b>3</b> Data Cleansing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_summary"><i class="fa fa-check"></i><b>3.1</b> Data Cleansing</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-cleansing.html"><a href="data-cleansing.html#변수-요약"><i class="fa fa-check"></i><b>3.1.1</b> 변수 요약</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-cleansing.html"><a href="data-cleansing.html#데이터-세트-4"><i class="fa fa-check"></i><b>3.1.2</b> 데이터 세트</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-cleansing.html"><a href="data-cleansing.html#데이터-세트의-통계적-요약-정보"><i class="fa fa-check"></i><b>3.1.3</b> 데이터 세트의 통계적 요약 정보</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_describe"><i class="fa fa-check"></i><b>3.1.4</b> <code>Hmisc</code> 패키지의 <code>describe()</code> 함수</a></li>
<li class="chapter" data-level="3.1.5" data-path="data-cleansing.html"><a href="data-cleansing.html#의심스러운-값"><i class="fa fa-check"></i><b>3.1.5</b> 의심스러운 값</a></li>
<li class="chapter" data-level="3.1.6" data-path="data-cleansing.html"><a href="data-cleansing.html#describe함수의-결과의-시각화"><i class="fa fa-check"></i><b>3.1.6</b> <code>describe()</code>함수의 결과의 시각화</a></li>
<li class="chapter" data-level="3.1.7" data-path="data-cleansing.html"><a href="data-cleansing.html#의심스러운-값을-결측치로-바꾸기"><i class="fa fa-check"></i><b>3.1.7</b> 의심스러운 값을 결측치로 바꾸기</a></li>
<li class="chapter" data-level="3.1.8" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_Complete_cases"><i class="fa fa-check"></i><b>3.1.8</b> <code>NA</code>가 없는 완전한 데이터</a></li>
<li class="chapter" data-level="3.1.9" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_after_cleansing"><i class="fa fa-check"></i><b>3.1.9</b> 데이터 정제 후의 <code>describe()</code>함수 결과 그림</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_missing_value"><i class="fa fa-check"></i><b>3.2</b> 결측치(Missing Values) 처리</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-cleansing.html"><a href="data-cleansing.html#결측값이-포함되어-있는지-확인하는-방법-is.na"><i class="fa fa-check"></i><b>3.2.1</b> 결측값이 포함되어 있는지 확인하는 방법: <code>is.na()</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치-갯수-sumis.na"><i class="fa fa-check"></i><b>3.2.2</b> 결측치 갯수: <code>sum(is.na())</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치를-통계-분석시-제외시키기-na.rm-true"><i class="fa fa-check"></i><b>3.2.3</b> 결측치를 통계 분석시 제외시키기 : <code>na.rm = TRUE</code></a></li>
<li class="chapter" data-level="3.2.4" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치가-있는-행-제거-na.omit"><i class="fa fa-check"></i><b>3.2.4</b> 결측치가 있는 행 제거: <code>na.omit()</code></a></li>
<li class="chapter" data-level="3.2.5" data-path="data-cleansing.html"><a href="data-cleansing.html#결측치를-다른-값으로-대체"><i class="fa fa-check"></i><b>3.2.5</b> 결측치를 다른 값으로 대체</a></li>
<li class="chapter" data-level="" data-path="data-cleansing.html"><a href="data-cleansing.html#reference-2"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-cleansing.html"><a href="data-cleansing.html#data_cleansing_outlier"><i class="fa fa-check"></i><b>3.3</b> 이상치(Outlier) 처리 {#outlier}</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-cleansing.html"><a href="data-cleansing.html#표준값-z를-이용한-이상치-확인-및-처리"><i class="fa fa-check"></i><b>3.3.1</b> 표준값 Z를 이용한 이상치 확인 및 처리</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-cleansing.html"><a href="data-cleansing.html#수정된-표준값을-이용한-이상치-확인-및-처리"><i class="fa fa-check"></i><b>3.3.2</b> 수정된 표준값을 이용한 이상치 확인 및 처리</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-cleansing.html"><a href="data-cleansing.html#사분위수를-이용한-이상치-확인-및-처리"><i class="fa fa-check"></i><b>3.3.3</b> 사분위수를 이용한 이상치 확인 및 처리</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="preprocessing.html"><a href="preprocessing.html"><i class="fa fa-check"></i><b>4</b> Data Preprocessing</a>
<ul>
<li class="chapter" data-level="4.1" data-path="preprocessing.html"><a href="preprocessing.html#들어가는-말"><i class="fa fa-check"></i><b>4.1</b> 들어가는 말</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="preprocessing.html"><a href="preprocessing.html#데이터-전처리란"><i class="fa fa-check"></i><b>4.1.1</b> 데이터 전처리란?</a></li>
<li class="chapter" data-level="4.1.2" data-path="preprocessing.html"><a href="preprocessing.html#왜-dplyr-패키지-인가"><i class="fa fa-check"></i><b>4.1.2</b> 왜 <code>dplyr</code> 패키지 인가?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="preprocessing.html"><a href="preprocessing.html#dplyr-패키지에-있는-함수들"><i class="fa fa-check"></i><b>4.2</b> <code>dplyr</code> 패키지에 있는 함수들</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="preprocessing.html"><a href="preprocessing.html#패키지-설치"><i class="fa fa-check"></i><b>4.2.1</b> 패키지 설치</a></li>
<li class="chapter" data-level="4.2.2" data-path="preprocessing.html"><a href="preprocessing.html#예제-데이터-확인"><i class="fa fa-check"></i><b>4.2.2</b> 예제 데이터 확인</a></li>
<li class="chapter" data-level="4.2.3" data-path="preprocessing.html"><a href="preprocessing.html#dplyr-패키지의-주요-함수-목록"><i class="fa fa-check"></i><b>4.2.3</b> <code>dplyr</code> 패키지의 주요 함수 목록</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="preprocessing.html"><a href="preprocessing.html#데이터-프레임의-컬럼-선택-select"><i class="fa fa-check"></i><b>4.3</b> 데이터 프레임의 컬럼 선택: <code>select()</code></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="preprocessing.html"><a href="preprocessing.html#select-함수의-기본-형식"><i class="fa fa-check"></i><b>4.3.1</b> <code>select()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.3.2" data-path="preprocessing.html"><a href="preprocessing.html#a번째-부터-n번째의-연속적-컬럼-선택"><i class="fa fa-check"></i><b>4.3.2</b> a번째 부터 n번째의 연속적 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.3" data-path="preprocessing.html"><a href="preprocessing.html#a번째-부터-n번째의-연속적-컬럼을-제외한-선택"><i class="fa fa-check"></i><b>4.3.3</b> <code>a</code>번째 부터 <code>n</code>번째의 연속적 컬럼을 제외한 선택</a></li>
<li class="chapter" data-level="4.3.4" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-앞-부분을-지정하여-선택"><i class="fa fa-check"></i><b>4.3.4</b> 컬럼 이름의 ’앞 부분’을 지정하여 선택</a></li>
<li class="chapter" data-level="4.3.5" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-끝-부분을-지정하여-선택"><i class="fa fa-check"></i><b>4.3.5</b> 컬럼 이름의 ’끝 부분’을 지정하여 선택</a></li>
<li class="chapter" data-level="4.3.6" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-일부를-포함하는-컬럼-선택"><i class="fa fa-check"></i><b>4.3.6</b> 컬럼 이름의 일부를 포함하는 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.7" data-path="preprocessing.html"><a href="preprocessing.html#정규-표현식과-일치하는-문자열을-포함하는-컬럼-선택"><i class="fa fa-check"></i><b>4.3.7</b> 정규 표현식과 일치하는 문자열을 포함하는 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.8" data-path="preprocessing.html"><a href="preprocessing.html#원하는-컬럼-명의-그룹에-포함된-컬럼-선택"><i class="fa fa-check"></i><b>4.3.8</b> 원하는 컬럼 명의 그룹에 포함된 컬럼 선택</a></li>
<li class="chapter" data-level="4.3.9" data-path="preprocessing.html"><a href="preprocessing.html#컬럼-이름의-접두사와-숫자-범위를-조합하여-컬럼-선택"><i class="fa fa-check"></i><b>4.3.9</b> 컬럼 이름의 접두사와 숫자 범위를 조합하여 컬럼 선택</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="preprocessing.html"><a href="preprocessing.html#filter-함수를-이용한-행의-선택"><i class="fa fa-check"></i><b>4.4</b> <code>filter()</code> 함수를 이용한 행의 선택</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="preprocessing.html"><a href="preprocessing.html#filter-함수의-기본-형식"><i class="fa fa-check"></i><b>4.4.1</b> <code>filter()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.4.2" data-path="preprocessing.html"><a href="preprocessing.html#단일-조건에-의한-행의-선택"><i class="fa fa-check"></i><b>4.4.2</b> 단일 조건에 의한 행의 선택</a></li>
<li class="chapter" data-level="4.4.3" data-path="preprocessing.html"><a href="preprocessing.html#복수-조건을-and로-결합한-행의-선택"><i class="fa fa-check"></i><b>4.4.3</b> 복수 조건을 AND(<code>,</code>)로 결합한 행의 선택</a></li>
<li class="chapter" data-level="4.4.4" data-path="preprocessing.html"><a href="preprocessing.html#복수-조건을-or로-결합한-행의-선택"><i class="fa fa-check"></i><b>4.4.4</b> 복수 조건을 OR(<code>|</code>)로 결합한 행의 선택</a></li>
<li class="chapter" data-level="4.4.5" data-path="preprocessing.html"><a href="preprocessing.html#행의-위치를-지정해서-행의-데이터-부분집합-선택"><i class="fa fa-check"></i><b>4.4.5</b> 행의 위치를 지정해서 행의 데이터 부분집합 선택</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="preprocessing.html"><a href="preprocessing.html#arrange-함수를-이용한-행의-정렬"><i class="fa fa-check"></i><b>4.5</b> <code>arrange()</code> 함수를 이용한 행의 정렬</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="preprocessing.html"><a href="preprocessing.html#arrange-함수의-기본-형식"><i class="fa fa-check"></i><b>4.5.1</b> <code>arrange()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.5.2" data-path="preprocessing.html"><a href="preprocessing.html#복수-개의-정렬-기준으로-행을-정렬하기"><i class="fa fa-check"></i><b>4.5.2</b> 복수 개의 정렬 기준으로 행을 정렬하기</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="preprocessing.html"><a href="preprocessing.html#preprocessing_rename"><i class="fa fa-check"></i><b>4.6</b> <code>rename()</code> 함수를 이용한 데이터 프레임의 컬럼 이름 변경</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="preprocessing.html"><a href="preprocessing.html#rename-함수의-기본-형식"><i class="fa fa-check"></i><b>4.6.1</b> <code>rename()</code> 함수의 기본 형식</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="preprocessing.html"><a href="preprocessing.html#distinct-함수를-이용한-유일한-값-추출"><i class="fa fa-check"></i><b>4.7</b> <code>distinct()</code> 함수를 이용한 유일한 값 추출</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="preprocessing.html"><a href="preprocessing.html#distinct-함수의-기본-형식"><i class="fa fa-check"></i><b>4.7.1</b> <code>distinct()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.7.2" data-path="preprocessing.html"><a href="preprocessing.html#단일-기준에-의한-유일-값-추출"><i class="fa fa-check"></i><b>4.7.2</b> 단일 기준에 의한 유일 값 추출</a></li>
<li class="chapter" data-level="4.7.3" data-path="preprocessing.html"><a href="preprocessing.html#복수-기준에-의한-유일-값-추출"><i class="fa fa-check"></i><b>4.7.3</b> 복수 기준에 의한 유일 값 추출</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="preprocessing.html"><a href="preprocessing.html#무작위-표본-추출"><i class="fa fa-check"></i><b>4.8</b> 무작위 표본 추출</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="preprocessing.html"><a href="preprocessing.html#정해진-갯수-만큼의-표본-무작위-추출"><i class="fa fa-check"></i><b>4.8.1</b> 정해진 갯수 만큼의 표본 무작위 추출</a></li>
<li class="chapter" data-level="4.8.2" data-path="preprocessing.html"><a href="preprocessing.html#정해진-비율로-표본-무작위-추출"><i class="fa fa-check"></i><b>4.8.2</b> 정해진 비율로 표본 무작위 추출</a></li>
<li class="chapter" data-level="4.8.3" data-path="preprocessing.html"><a href="preprocessing.html#정해진-갯수-만큼의-표본-복원-추출"><i class="fa fa-check"></i><b>4.8.3</b> 정해진 갯수 만큼의 표본 복원 추출</a></li>
<li class="chapter" data-level="4.8.4" data-path="preprocessing.html"><a href="preprocessing.html#집단별-층화-표본-추출"><i class="fa fa-check"></i><b>4.8.4</b> 집단별 층화 표본 추출</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="preprocessing.html"><a href="preprocessing.html#mutate-함수를-이용한-새로운-컬럼-생성"><i class="fa fa-check"></i><b>4.9</b> <code>mutate()</code> 함수를 이용한 새로운 컬럼 생성</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="preprocessing.html"><a href="preprocessing.html#mutate-함수의-기본-형식"><i class="fa fa-check"></i><b>4.9.1</b> <code>mutate()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.9.2" data-path="preprocessing.html"><a href="preprocessing.html#새로운-컬럼-생성-예"><i class="fa fa-check"></i><b>4.9.2</b> 새로운 컬럼 생성 예</a></li>
<li class="chapter" data-level="4.9.3" data-path="preprocessing.html"><a href="preprocessing.html#새로운-만든-컬럼변수를-이용하여-또-다른-컬럼-생성하기"><i class="fa fa-check"></i><b>4.9.3</b> 새로운 만든 컬럼(변수)를 이용하여 또 다른 컬럼 생성하기</a></li>
<li class="chapter" data-level="4.9.4" data-path="preprocessing.html"><a href="preprocessing.html#컬럼의-값을-새로운-값으로-변경하기"><i class="fa fa-check"></i><b>4.9.4</b> 컬럼의 값을 새로운 값으로 변경하기</a></li>
<li class="chapter" data-level="4.9.5" data-path="preprocessing.html"><a href="preprocessing.html#keep-인수의-사용-예"><i class="fa fa-check"></i><b>4.9.5</b> <code>.keep</code> 인수의 사용 예</a></li>
<li class="chapter" data-level="4.9.6" data-path="preprocessing.html"><a href="preprocessing.html#after와-.before-인수의-사용-예"><i class="fa fa-check"></i><b>4.9.6</b> <code>.after</code>와 <code>.before</code> 인수의 사용 예</a></li>
<li class="chapter" data-level="4.9.7" data-path="preprocessing.html"><a href="preprocessing.html#transmute-함수를-이용한-새로운-컬럼-생성"><i class="fa fa-check"></i><b>4.9.7</b> <code>transmute()</code> 함수를 이용한 새로운 컬럼 생성</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="preprocessing.html"><a href="preprocessing.html#preprocessing_summarise"><i class="fa fa-check"></i><b>4.10</b> <code>summarise()</code>함수를 이용한 요약 통계량 계산</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="preprocessing.html"><a href="preprocessing.html#summarise-함수의-기본-형식"><i class="fa fa-check"></i><b>4.10.1</b> <code>summarise()</code> 함수의 기본 형식</a></li>
<li class="chapter" data-level="4.10.2" data-path="preprocessing.html"><a href="preprocessing.html#summarise-함수를-이용한-요약-통계-계산"><i class="fa fa-check"></i><b>4.10.2</b> <code>summarise()</code> 함수를 이용한 요약 통계 계산</a></li>
<li class="chapter" data-level="4.10.3" data-path="preprocessing.html"><a href="preprocessing.html#summarise를-이용한-관측치의-갯수-및-색인-찾기"><i class="fa fa-check"></i><b>4.10.3</b> <code>summarise()</code>를 이용한 관측치의 갯수 및 색인 찾기</a></li>
<li class="chapter" data-level="4.10.4" data-path="preprocessing.html"><a href="preprocessing.html#summarise-함수를-이용한-그룹별-요약-통계량-계산"><i class="fa fa-check"></i><b>4.10.4</b> <code>summarise()</code> 함수를 이용한 그룹별 요약 통계량 계산</a></li>
<li class="chapter" data-level="4.10.5" data-path="preprocessing.html"><a href="preprocessing.html#복수-개의-변수에-동일한-summarise-함수-적용하기"><i class="fa fa-check"></i><b>4.10.5</b> 복수 개의 변수에 동일한 <code>summarise()</code> 함수 적용하기</a></li>
<li class="chapter" data-level="" data-path="preprocessing.html"><a href="preprocessing.html#reference-3"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="piping-operator.html"><a href="piping-operator.html"><i class="fa fa-check"></i><b>5</b> Pipe Operator</a>
<ul>
<li class="chapter" data-level="5.1" data-path="piping-operator.html"><a href="piping-operator.html#파이프-연산자"><i class="fa fa-check"></i><b>5.1</b> 파이프 연산자 : <code>%&gt;%</code></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="piping-operator.html"><a href="piping-operator.html#파이프-연산자의-사용-예"><i class="fa fa-check"></i><b>5.1.1</b> 파이프 연산자의 사용 예</a></li>
<li class="chapter" data-level="5.1.2" data-path="piping-operator.html"><a href="piping-operator.html#또-다른-예"><i class="fa fa-check"></i><b>5.1.2</b> 또 다른 예</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="piping-operator.html"><a href="piping-operator.html#piping_point_usage"><i class="fa fa-check"></i><b>5.2</b> 파이프된 명령어에 <code>‘.’</code> 사용하기</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="relational-data-top.html"><a href="relational-data-top.html"><i class="fa fa-check"></i><b>6</b> Relational Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="relational-data-top.html"><a href="relational-data-top.html#결합append"><i class="fa fa-check"></i><b>6.1</b> 결합(Append)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="relational-data-top.html"><a href="relational-data-top.html#데이터-프레임의-결합append"><i class="fa fa-check"></i><b>6.1.1</b> 데이터 프레임의 결합(append)</a></li>
<li class="chapter" data-level="6.1.2" data-path="relational-data-top.html"><a href="relational-data-top.html#결합의-두-가지-방법-rbind-함수와-bind_rows함수"><i class="fa fa-check"></i><b>6.1.2</b> 결합의 두 가지 방법 : <code>rbind()</code> 함수와 <code>bind_rows()</code>함수</a></li>
<li class="chapter" data-level="6.1.3" data-path="relational-data-top.html"><a href="relational-data-top.html#데이터-세트-결합의-예대응되지-않는-컬럼이-있는-경우"><i class="fa fa-check"></i><b>6.1.3</b> 데이터 세트 결합의 예(대응되지 않는 컬럼이 있는 경우)</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="relational-data-top.html"><a href="relational-data-top.html#데이터-세트의-병합merge"><i class="fa fa-check"></i><b>6.2</b> 데이터 세트의 병합(Merge)</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="relational-data-top.html"><a href="relational-data-top.html#join-함수를-이용한-병합-예"><i class="fa fa-check"></i><b>6.2.1</b> join 함수를 이용한 병합 예</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="relational-data-top.html"><a href="relational-data-top.html#relational-data"><i class="fa fa-check"></i><b>6.3</b> Relational Data</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="relational-data-top.html"><a href="relational-data-top.html#들어가기"><i class="fa fa-check"></i><b>6.3.1</b> 들어가기</a></li>
<li class="chapter" data-level="6.3.2" data-path="relational-data-top.html"><a href="relational-data-top.html#준비하기-1"><i class="fa fa-check"></i><b>6.3.2</b> 준비하기</a></li>
<li class="chapter" data-level="6.3.3" data-path="relational-data-top.html"><a href="relational-data-top.html#nycflights13-패키지-내의-데이터-세트"><i class="fa fa-check"></i><b>6.3.3</b> <code>nycflights13</code> 패키지 내의 데이터 세트</a></li>
<li class="chapter" data-level="6.3.4" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-8"><i class="fa fa-check"></i><b>6.3.4</b> 연습문제</a></li>
<li class="chapter" data-level="6.3.5" data-path="relational-data-top.html"><a href="relational-data-top.html#키key"><i class="fa fa-check"></i><b>6.3.5</b> 키(Key)</a></li>
<li class="chapter" data-level="6.3.6" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-9"><i class="fa fa-check"></i><b>6.3.6</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="relational-data-top.html"><a href="relational-data-top.html#변환-조인mutating-join"><i class="fa fa-check"></i><b>6.4</b> 변환 조인(Mutating Join)</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="relational-data-top.html"><a href="relational-data-top.html#조인-이해하기"><i class="fa fa-check"></i><b>6.4.1</b> 조인 이해하기</a></li>
<li class="chapter" data-level="6.4.2" data-path="relational-data-top.html"><a href="relational-data-top.html#내부-조인-inner-join"><i class="fa fa-check"></i><b>6.4.2</b> 내부 조인 (inner join)</a></li>
<li class="chapter" data-level="6.4.3" data-path="relational-data-top.html"><a href="relational-data-top.html#외부-조인-outer-join"><i class="fa fa-check"></i><b>6.4.3</b> 외부 조인 (outer join)</a></li>
<li class="chapter" data-level="6.4.4" data-path="relational-data-top.html"><a href="relational-data-top.html#중복키"><i class="fa fa-check"></i><b>6.4.4</b> 중복키</a></li>
<li class="chapter" data-level="6.4.5" data-path="relational-data-top.html"><a href="relational-data-top.html#키열-정의하기"><i class="fa fa-check"></i><b>6.4.5</b> 키열 정의하기</a></li>
<li class="chapter" data-level="6.4.6" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-10"><i class="fa fa-check"></i><b>6.4.6</b> 연습문제</a></li>
<li class="chapter" data-level="6.4.7" data-path="relational-data-top.html"><a href="relational-data-top.html#기타-구현"><i class="fa fa-check"></i><b>6.4.7</b> 기타 구현</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="relational-data-top.html"><a href="relational-data-top.html#필터링-조인"><i class="fa fa-check"></i><b>6.5</b> 필터링 조인</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="relational-data-top.html"><a href="relational-data-top.html#연습문제-11"><i class="fa fa-check"></i><b>6.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="relational-data-top.html"><a href="relational-data-top.html#조인-문제"><i class="fa fa-check"></i><b>6.6</b> 조인 문제</a></li>
<li class="chapter" data-level="6.7" data-path="relational-data-top.html"><a href="relational-data-top.html#집합-연산"><i class="fa fa-check"></i><b>6.7</b> 집합 연산</a>
<ul>
<li class="chapter" data-level="" data-path="relational-data-top.html"><a href="relational-data-top.html#reference-4"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="relational-data-top.html"><a href="relational-data-top.html#join_exercises"><i class="fa fa-check"></i><b>6.8</b> Join Exercises</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-데이터의-생성-1"><i class="fa fa-check"></i><b>6.8.1</b> 예제 데이터의 생성</a></li>
<li class="chapter" data-level="6.8.2" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-1-inner_join"><i class="fa fa-check"></i><b>6.8.2</b> 예제 1: <code>inner_join()</code></a></li>
<li class="chapter" data-level="6.8.3" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-2-left_join"><i class="fa fa-check"></i><b>6.8.3</b> 예제 2: <code>left_join()</code></a></li>
<li class="chapter" data-level="6.8.4" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-3-right_join"><i class="fa fa-check"></i><b>6.8.4</b> 예제 3: <code>right_join()</code></a></li>
<li class="chapter" data-level="6.8.5" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-4-full_join"><i class="fa fa-check"></i><b>6.8.5</b> 예제 4: <code>full_join()</code></a></li>
<li class="chapter" data-level="6.8.6" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-5-semi_join"><i class="fa fa-check"></i><b>6.8.6</b> 예제 5: <code>semi_join()</code></a></li>
<li class="chapter" data-level="6.8.7" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-6-anti_join"><i class="fa fa-check"></i><b>6.8.7</b> 예제 6 : <code>anti_join()</code></a></li>
<li class="chapter" data-level="6.8.8" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-7-복수-개의-데이터-프레임-조인"><i class="fa fa-check"></i><b>6.8.8</b> 예제 7: 복수 개의 데이터 프레임 조인</a></li>
<li class="chapter" data-level="6.8.9" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-8-복수-컬럼에-의한-조인"><i class="fa fa-check"></i><b>6.8.9</b> 예제 8: 복수 컬럼에 의한 조인</a></li>
<li class="chapter" data-level="6.8.10" data-path="relational-data-top.html"><a href="relational-data-top.html#예제-9-데이터-조인과-id-삭제"><i class="fa fa-check"></i><b>6.8.10</b> 예제 9: 데이터 조인과 ID 삭제</a></li>
<li class="chapter" data-level="" data-path="relational-data-top.html"><a href="relational-data-top.html#further-reading"><i class="fa fa-check"></i>Further Reading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>7</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_philosophy"><i class="fa fa-check"></i><b>7.1</b> 타이디 데이터 철학</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="tidy-data.html"><a href="tidy-data.html#분석의-단위"><i class="fa fa-check"></i><b>7.1.1</b> 분석의 단위</a></li>
<li class="chapter" data-level="7.1.2" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-5"><i class="fa fa-check"></i><b>7.1.2</b> 데이터 세트</a></li>
<li class="chapter" data-level="7.1.3" data-path="tidy-data.html"><a href="tidy-data.html#docid-별-그루핑"><i class="fa fa-check"></i><b>7.1.3</b> <code>docid</code> 별 그루핑</a></li>
<li class="chapter" data-level="7.1.4" data-path="tidy-data.html"><a href="tidy-data.html#요약-정보-확인"><i class="fa fa-check"></i><b>7.1.4</b> 요약 정보 확인</a></li>
<li class="chapter" data-level="7.1.5" data-path="tidy-data.html"><a href="tidy-data.html#다중-레벨-데이터-확인"><i class="fa fa-check"></i><b>7.1.5</b> 다중 레벨 데이터 확인</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_untidy"><i class="fa fa-check"></i><b>7.2</b> Untidy data</a></li>
<li class="chapter" data-level="7.3" data-path="tidy-data.html"><a href="tidy-data.html#컬럼-제목들이-변수-명이-아니고-값들인-경우"><i class="fa fa-check"></i><b>7.3</b> 컬럼 제목들이 변수 명이 아니고 값들인 경우</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-6"><i class="fa fa-check"></i><b>7.3.1</b> 데이터 세트</a></li>
<li class="chapter" data-level="7.3.2" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_functions"><i class="fa fa-check"></i><b>7.3.2</b> 사용할 수 있는 함수의 종류</a></li>
<li class="chapter" data-level="7.3.3" data-path="tidy-data.html"><a href="tidy-data.html#pivot_longer-함수"><i class="fa fa-check"></i><b>7.3.3</b> <code>pivot_longer()</code> 함수</a></li>
<li class="chapter" data-level="7.3.4" data-path="tidy-data.html"><a href="tidy-data.html#gather-함수"><i class="fa fa-check"></i><b>7.3.4</b> <code>gather()</code> 함수</a></li>
<li class="chapter" data-level="7.3.5" data-path="tidy-data.html"><a href="tidy-data.html#melt-함수"><i class="fa fa-check"></i><b>7.3.5</b> <code>melt()</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_one_column"><i class="fa fa-check"></i><b>7.4</b> 하나의 컬럼에 복수 개의 변수들이 있는 경우</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-7"><i class="fa fa-check"></i><b>7.4.1</b> 데이터 세트</a></li>
<li class="chapter" data-level="7.4.2" data-path="tidy-data.html"><a href="tidy-data.html#사용할-수-있는-함수의-종류"><i class="fa fa-check"></i><b>7.4.2</b> 사용할 수 있는 함수의 종류</a></li>
<li class="chapter" data-level="7.4.3" data-path="tidy-data.html"><a href="tidy-data.html#pivot_wider-함수"><i class="fa fa-check"></i><b>7.4.3</b> <code>pivot_wider()</code> 함수</a></li>
<li class="chapter" data-level="7.4.4" data-path="tidy-data.html"><a href="tidy-data.html#spread-함수"><i class="fa fa-check"></i><b>7.4.4</b> <code>spread()</code> 함수</a></li>
<li class="chapter" data-level="7.4.5" data-path="tidy-data.html"><a href="tidy-data.html#dcast-함수"><i class="fa fa-check"></i><b>7.4.5</b> <code>dcast()</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_one_cell"><i class="fa fa-check"></i><b>7.5</b> 하나의 셀에 저장된 여러 변수 또는 여러 셀에 흩어져 있는 한 변수</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="tidy-data.html"><a href="tidy-data.html#데이터-세트-8"><i class="fa fa-check"></i><b>7.5.1</b> 데이터 세트</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#data-wrangling-with-dplyr-and-tidyr"><i class="fa fa-check"></i>Data Wrangling with dplyr and tidyr</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="tidy-data.html"><a href="tidy-data.html#separate-함수와-unite-함수"><i class="fa fa-check"></i><b>7.6</b> <code>separate()</code> 함수와 <code>unite()</code> 함수</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="tidy-data.html"><a href="tidy-data.html#separate-함수"><i class="fa fa-check"></i><b>7.6.1</b> <code>separate()</code> 함수</a></li>
<li class="chapter" data-level="7.6.2" data-path="tidy-data.html"><a href="tidy-data.html#unite-함수"><i class="fa fa-check"></i><b>7.6.2</b> <code>unite()</code> 함수</a></li>
<li class="chapter" data-level="7.6.3" data-path="tidy-data.html"><a href="tidy-data.html#separate-함수와-unite-함수의-예"><i class="fa fa-check"></i><b>7.6.3</b> <code>separate()</code> 함수와 <code>unite()</code> 함수의 예</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="tidy-data.html"><a href="tidy-data.html#tidy_data_reference_table"><i class="fa fa-check"></i><b>7.7</b> <code>tidyverse</code> 참조표</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="dates.html"><a href="dates.html"><i class="fa fa-check"></i><b>8</b> Dates</a>
<ul>
<li class="chapter" data-level="8.1" data-path="dates.html"><a href="dates.html#dates_in_R"><i class="fa fa-check"></i><b>8.1</b> R에서의 날짜 데이터</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="dates.html"><a href="dates.html#as.date-함수"><i class="fa fa-check"></i><b>8.1.1</b> <code>as.Date()</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dates.html"><a href="dates.html#dates_lubridate"><i class="fa fa-check"></i><b>8.2</b> <code>lubridate</code> 패키지</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="dates.html"><a href="dates.html#lubridate-패키지의-활용"><i class="fa fa-check"></i><b>8.2.1</b> <code>lubridate</code> 패키지의 활용</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="dates.html"><a href="dates.html#dates_variables"><i class="fa fa-check"></i><b>8.3</b> 날짜-시간 변수</a></li>
<li class="chapter" data-level="8.4" data-path="dates.html"><a href="dates.html#dates_elements"><i class="fa fa-check"></i><b>8.4</b> <code>Date</code> 변수에서 정보 추출하기</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="dates.html"><a href="dates.html#관련-함수"><i class="fa fa-check"></i><b>8.4.1</b> 관련 함수</a></li>
<li class="chapter" data-level="8.4.2" data-path="dates.html"><a href="dates.html#date-변수의-정보-추출-예"><i class="fa fa-check"></i><b>8.4.2</b> <code>Date</code> 변수의 정보 추출 예</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="dates.html"><a href="dates.html#dates_POSIXct"><i class="fa fa-check"></i><b>8.5</b> 날짜-시간(<code>POSIXct</code>) 변수에서 정보 추출하기</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="dates.html"><a href="dates.html#관련-함수-1"><i class="fa fa-check"></i><b>8.5.1</b> 관련 함수</a></li>
<li class="chapter" data-level="8.5.2" data-path="dates.html"><a href="dates.html#posixct-변수에서-정보-추출-예"><i class="fa fa-check"></i><b>8.5.2</b> <code>POSIXct</code> 변수에서 정보 추출 예</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="dates.html"><a href="dates.html#dates_functions"><i class="fa fa-check"></i><b>8.6</b> 날짜-시간 산술연산을 위한 두 종류의 함수</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dates-and-time.html"><a href="dates-and-time.html"><i class="fa fa-check"></i><b>9</b> Dates and Times</a>
<ul>
<li class="chapter" data-level="9.1" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_intro"><i class="fa fa-check"></i><b>9.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="dates-and-time.html"><a href="dates-and-time.html#준비하기-2"><i class="fa fa-check"></i><b>9.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_create"><i class="fa fa-check"></i><b>9.2</b> 날짜/시간 생성하기</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="dates-and-time.html"><a href="dates-and-time.html#문자열에서-생성"><i class="fa fa-check"></i><b>9.2.1</b> 문자열에서 생성</a></li>
<li class="chapter" data-level="9.2.2" data-path="dates-and-time.html"><a href="dates-and-time.html#개별-구성요소로-생성"><i class="fa fa-check"></i><b>9.2.2</b> 개별 구성요소로 생성</a></li>
<li class="chapter" data-level="9.2.3" data-path="dates-and-time.html"><a href="dates-and-time.html#기타-유형에서-생성"><i class="fa fa-check"></i><b>9.2.3</b> 기타 유형에서 생성</a></li>
<li class="chapter" data-level="9.2.4" data-path="dates-and-time.html"><a href="dates-and-time.html#연습문제-12"><i class="fa fa-check"></i><b>9.2.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_arguments"><i class="fa fa-check"></i><b>9.3</b> 데이트-타임형 구성요소</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="dates-and-time.html"><a href="dates-and-time.html#구성요소-가져오기"><i class="fa fa-check"></i><b>9.3.1</b> 구성요소 가져오기</a></li>
<li class="chapter" data-level="9.3.2" data-path="dates-and-time.html"><a href="dates-and-time.html#반올림"><i class="fa fa-check"></i><b>9.3.2</b> 반올림</a></li>
<li class="chapter" data-level="9.3.3" data-path="dates-and-time.html"><a href="dates-and-time.html#구성요소-설정"><i class="fa fa-check"></i><b>9.3.3</b> 구성요소 설정</a></li>
<li class="chapter" data-level="9.3.4" data-path="dates-and-time.html"><a href="dates-and-time.html#연습문제-13"><i class="fa fa-check"></i><b>9.3.4</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_time_span"><i class="fa fa-check"></i><b>9.4</b> 시간 범위</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="dates-and-time.html"><a href="dates-and-time.html#듀레이션형"><i class="fa fa-check"></i><b>9.4.1</b> 듀레이션형</a></li>
<li class="chapter" data-level="9.4.2" data-path="dates-and-time.html"><a href="dates-and-time.html#피리어드형"><i class="fa fa-check"></i><b>9.4.2</b> 피리어드형</a></li>
<li class="chapter" data-level="9.4.3" data-path="dates-and-time.html"><a href="dates-and-time.html#인터벌형"><i class="fa fa-check"></i><b>9.4.3</b> 인터벌형</a></li>
<li class="chapter" data-level="9.4.4" data-path="dates-and-time.html"><a href="dates-and-time.html#요약"><i class="fa fa-check"></i><b>9.4.4</b> 요약</a></li>
<li class="chapter" data-level="9.4.5" data-path="dates-and-time.html"><a href="dates-and-time.html#연습문제-14"><i class="fa fa-check"></i><b>9.4.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="dates-and-time.html"><a href="dates-and-time.html#dates_time_EST"><i class="fa fa-check"></i><b>9.5</b> 시간대</a></li>
<li class="chapter" data-level="" data-path="dates-and-time.html"><a href="dates-and-time.html#references-2"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="strings.html"><a href="strings.html"><i class="fa fa-check"></i><b>10</b> Strings</a>
<ul>
<li class="chapter" data-level="10.1" data-path="strings.html"><a href="strings.html#strings_intro"><i class="fa fa-check"></i><b>10.1</b> 들어가기</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="strings.html"><a href="strings.html#준비하기-3"><i class="fa fa-check"></i><b>10.1.1</b> 준비하기</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="strings.html"><a href="strings.html#strings_basic"><i class="fa fa-check"></i><b>10.2</b> 문자열 기초</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="strings.html"><a href="strings.html#문자열-길이"><i class="fa fa-check"></i><b>10.2.1</b> 문자열 길이</a></li>
<li class="chapter" data-level="10.2.2" data-path="strings.html"><a href="strings.html#문자열-결합"><i class="fa fa-check"></i><b>10.2.2</b> 문자열 결합</a></li>
<li class="chapter" data-level="10.2.3" data-path="strings.html"><a href="strings.html#문자열-서브셋하기"><i class="fa fa-check"></i><b>10.2.3</b> 문자열 서브셋하기</a></li>
<li class="chapter" data-level="10.2.4" data-path="strings.html"><a href="strings.html#로케일"><i class="fa fa-check"></i><b>10.2.4</b> 로케일</a></li>
<li class="chapter" data-level="10.2.5" data-path="strings.html"><a href="strings.html#연습문제-15"><i class="fa fa-check"></i><b>10.2.5</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="strings.html"><a href="strings.html#pattern_matching"><i class="fa fa-check"></i><b>10.3</b> 정규표현식을 이용한 패턴 매칭</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="strings.html"><a href="strings.html#기본-매칭"><i class="fa fa-check"></i><b>10.3.1</b> 기본 매칭</a></li>
<li class="chapter" data-level="10.3.2" data-path="strings.html"><a href="strings.html#앵커"><i class="fa fa-check"></i><b>10.3.2</b> 앵커</a></li>
<li class="chapter" data-level="10.3.3" data-path="strings.html"><a href="strings.html#문자-클래스와-대체구문"><i class="fa fa-check"></i><b>10.3.3</b> 문자 클래스와 대체구문</a></li>
<li class="chapter" data-level="10.3.4" data-path="strings.html"><a href="strings.html#반복"><i class="fa fa-check"></i><b>10.3.4</b> 반복</a></li>
<li class="chapter" data-level="10.3.5" data-path="strings.html"><a href="strings.html#그룹화와-역참조"><i class="fa fa-check"></i><b>10.3.5</b> 그룹화와 역참조</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="strings.html"><a href="strings.html#tools"><i class="fa fa-check"></i><b>10.4</b> 패턴 매칭</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="strings.html"><a href="strings.html#매칭-탐지"><i class="fa fa-check"></i><b>10.4.1</b> 매칭 탐지</a></li>
<li class="chapter" data-level="10.4.2" data-path="strings.html"><a href="strings.html#매칭-추출"><i class="fa fa-check"></i><b>10.4.2</b> 매칭 추출</a></li>
<li class="chapter" data-level="10.4.3" data-path="strings.html"><a href="strings.html#그룹화-매칭"><i class="fa fa-check"></i><b>10.4.3</b> 그룹화 매칭</a></li>
<li class="chapter" data-level="10.4.4" data-path="strings.html"><a href="strings.html#매칭-치환"><i class="fa fa-check"></i><b>10.4.4</b> 매칭 치환</a></li>
<li class="chapter" data-level="10.4.5" data-path="strings.html"><a href="strings.html#문자열-분할"><i class="fa fa-check"></i><b>10.4.5</b> 문자열 분할</a></li>
<li class="chapter" data-level="10.4.6" data-path="strings.html"><a href="strings.html#매치-찾기"><i class="fa fa-check"></i><b>10.4.6</b> 매치 찾기</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="strings.html"><a href="strings.html#other_patterns"><i class="fa fa-check"></i><b>10.5</b> 기타 패턴 유형</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="strings.html"><a href="strings.html#연습문제-26"><i class="fa fa-check"></i><b>10.5.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="strings.html"><a href="strings.html#reg_other_usage"><i class="fa fa-check"></i><b>10.6</b> 정규 표현식의 기타 용도</a></li>
<li class="chapter" data-level="10.7" data-path="strings.html"><a href="strings.html#stringi"><i class="fa fa-check"></i><b>10.7</b> <code>stringi</code></a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="strings.html"><a href="strings.html#연습문제-27"><i class="fa fa-check"></i><b>10.7.1</b> 연습문제</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#reference-5"><i class="fa fa-check"></i>Reference</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Using-RegEx.html"><a href="Using-RegEx.html"><i class="fa fa-check"></i><b>11</b> 정규 표현식의 활용</a>
<ul>
<li class="chapter" data-level="" data-path="Using-RegEx.html"><a href="Using-RegEx.html#패키지-불러오기"><i class="fa fa-check"></i>패키지 불러오기</a></li>
<li class="chapter" data-level="11.1" data-path="Using-RegEx.html"><a href="Using-RegEx.html#패턴-찾기-함수"><i class="fa fa-check"></i><b>11.1</b> 패턴 찾기 함수</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="Using-RegEx.html"><a href="Using-RegEx.html#grep-함수"><i class="fa fa-check"></i><b>11.1.1</b> <code>grep()</code> 함수</a></li>
<li class="chapter" data-level="11.1.2" data-path="Using-RegEx.html"><a href="Using-RegEx.html#grepl-함수"><i class="fa fa-check"></i><b>11.1.2</b> <code>grepl()</code> 함수</a></li>
<li class="chapter" data-level="11.1.3" data-path="Using-RegEx.html"><a href="Using-RegEx.html#regexpr-함수"><i class="fa fa-check"></i><b>11.1.3</b> <code>regexpr()</code> 함수</a></li>
<li class="chapter" data-level="11.1.4" data-path="Using-RegEx.html"><a href="Using-RegEx.html#gregexpr-함수"><i class="fa fa-check"></i><b>11.1.4</b> <code>gregexpr()</code> 함수</a></li>
<li class="chapter" data-level="11.1.5" data-path="Using-RegEx.html"><a href="Using-RegEx.html#regexec-함수"><i class="fa fa-check"></i><b>11.1.5</b> <code>regexec()</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="Using-RegEx.html"><a href="Using-RegEx.html#패턴-대체-함수"><i class="fa fa-check"></i><b>11.2</b> 패턴 대체 함수</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="Using-RegEx.html"><a href="Using-RegEx.html#sub-함수를-이용한-첫-번째-일치의-대체"><i class="fa fa-check"></i><b>11.2.1</b> <code>sub()</code> 함수를 이용한 첫 번째 일치의 대체</a></li>
<li class="chapter" data-level="11.2.2" data-path="Using-RegEx.html"><a href="Using-RegEx.html#gsub-함수를-이용한-모든-일치-대체"><i class="fa fa-check"></i><b>11.2.2</b> <code>gsub()</code> 함수를 이용한 모든 일치 대체</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="Using-RegEx.html"><a href="Using-RegEx.html#문자-벡터의-분할"><i class="fa fa-check"></i><b>11.3</b> 문자 벡터의 분할</a></li>
<li class="chapter" data-level="11.4" data-path="Using-RegEx.html"><a href="Using-RegEx.html#stringr-패키지-함수"><i class="fa fa-check"></i><b>11.4</b> <code>stringr</code> 패키지 함수</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_detect-함수를-이용한-패턴의-발견"><i class="fa fa-check"></i><b>11.4.1</b> <code>str_detect()</code> 함수를 이용한 패턴의 발견</a></li>
<li class="chapter" data-level="11.4.2" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_extract-함수를-이용한-첫-번째-일치-추출"><i class="fa fa-check"></i><b>11.4.2</b> <code>str_extract()</code> 함수를 이용한 첫 번째 일치 추출</a></li>
<li class="chapter" data-level="11.4.3" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_extract_all-함수를-이용한-모든-일치-추출"><i class="fa fa-check"></i><b>11.4.3</b> <code>str_extract_all()</code> 함수를 이용한 모든 일치 추출</a></li>
<li class="chapter" data-level="11.4.4" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_match-함수를-이용한-첫-번째-일치-추출"><i class="fa fa-check"></i><b>11.4.4</b> <code>str_match()</code> 함수를 이용한 첫 번째 일치 추출</a></li>
<li class="chapter" data-level="11.4.5" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_match_all-함수를-이용한-모든-일치-추출"><i class="fa fa-check"></i><b>11.4.5</b> <code>str_match_all()</code> 함수를 이용한 모든 일치 추출</a></li>
<li class="chapter" data-level="11.4.6" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_locate-함수를-이용한-첫-번째-일치-위치-확인"><i class="fa fa-check"></i><b>11.4.6</b> <code>str_locate()</code> 함수를 이용한 첫 번째 일치 위치 확인</a></li>
<li class="chapter" data-level="11.4.7" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_locate_all-함수를-이용한-모든-일치-위치-확인"><i class="fa fa-check"></i><b>11.4.7</b> <code>str_locate_all()</code> 함수를 이용한 모든 일치 위치 확인</a></li>
<li class="chapter" data-level="11.4.8" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_replace-함수를-이용한-첫-번째-일치-대체"><i class="fa fa-check"></i><b>11.4.8</b> <code>str_replace()</code> 함수를 이용한 첫 번째 일치 대체</a></li>
<li class="chapter" data-level="11.4.9" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_replace_all-함수를-이용한-모든-일치-대체"><i class="fa fa-check"></i><b>11.4.9</b> <code>str_replace_all()</code> 함수를 이용한 모든 일치 대체</a></li>
<li class="chapter" data-level="11.4.10" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_split-함수를-이용한-문자열-분할"><i class="fa fa-check"></i><b>11.4.10</b> <code>str_split()</code> 함수를 이용한 문자열 분할</a></li>
<li class="chapter" data-level="11.4.11" data-path="Using-RegEx.html"><a href="Using-RegEx.html#str_split_fixed-함수를-이용한-문자열-분할"><i class="fa fa-check"></i><b>11.4.11</b> <code>str_split_fixed()</code> 함수를 이용한 문자열 분할</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Management with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="preprocessing" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Data Preprocessing</h1>
<div id="들어가는-말" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> 들어가는 말</h2>
<p><strong>데이터 프레임(dataframe)을 위한 데이터 전처리, 조작(data pre-processing, data manipulation)을 쉽고! 빠르게! 할 수 있도록 해주는</strong> <strong>dplyr 패키지</strong>에 대해서 알아보겠습니다.</p>
<p>R help에 검색해보면 dplyr 패키지를 아래와 같이 소개하고 있다.</p>
<blockquote>
<p><code>dplyr</code>은 <strong>유연한 데이터 조작의 문법</strong>을 제공합니다. 이것은 <code>plyr</code>의 차기작으로서, <strong>데이터 프레임</strong>을 집중적으로 다루는 툴이다</p>
<p><code>dplyr</code> provides a flexible grammar of data manipulation. It’s the next iteration of <code>plyr</code>, focused on tools for working with data frames (hence the <em>d</em> in the name)</p>
</blockquote>
<p>데이터 조작을 위한 문법으로 체계화를 해서 한번 배워놓으면 쉽다는 점과 더불어, <strong>C언어로 만들어서 매우 빠르다</strong>는 점도 <code>dplyr</code> 패키지의 크나큰 장점 중의 하나이다.</p>
<p><img src="images/27702C3E57D7876E35.jpg" style="zoom: 67%;" /></p>
<p>그래프/시각화를 문법으로 승화시켜서 체계를 잡아놓은 “<strong><code>ggplot2</code></strong>” 패키지 ( “ggplot is an implementation of the grammer of Graphics in R”)가 있다. 이 <code>ggplot2</code>를 만든 그 유명한 <strong>Hadley Wickham</strong> 이 <code>dplyr</code> 패키지도 만들었다.</p>
<p>아래에 소개한 것처럼, <a href="https://www.r-bloggers.com/" class="uri">https://www.r-bloggers.com/</a> 에 소개되어 있는 Hadley 의 인터뷰를 보면, 기존 통계학에서는 데이터 전처리(Data munging and manipulation)를 “내 일이 아니야”라고 무시했었다고 한다. 그런데 Hadley Wickham이 보기에는 ’모델링’과 ’시각화’로 부터 통찰을 끄집에 내는데 있어서 <strong>데이터 조작, 전처리</strong>가 매우 중요하고 또 어려운 영역이라고 보았고, Hadley가 직접 나서서 이를 도와줄 수 있는 R packages를 만들었다는 것이다.</p>
<blockquote>
<h3 id="hadley-wickham-on-why-he-created-all-those-r-packages">“Hadley Wickham on why he created all those R packages”</h3>
<p>July 27, 2015 By David Smith</p>
<p><img src="images/23487A3F57D787B909.jpg" style="zoom:50%;" /></p>
<p>“There are definitely some academic statisticians who just don’t understand why what I do is statistics, but basically I think they are all wrong . What I do is fundamentally statistics. The fact that data science exists as a field is a colossal failure of statistics.</p>
<p><strong>To me, that is what statistics is all about. It is gaining insight from data using modelling and visualization.</strong> <strong>Data munging</strong> <strong>and manipulation is hard and statistics has just said that’s not our domain</strong>.”</p>
</blockquote>
<p>* source : <a href="https://www.r-bloggers.com/hadley-wickham-on-why-he-created-all-those-r-packages/" class="uri">https://www.r-bloggers.com/hadley-wickham-on-why-he-created-all-those-r-packages/</a></p>
<p>Hadley Wickham의 Github repository 주소는 <a href="https://github.com/hadley?tab=repositories" class="uri">https://github.com/hadley?tab=repositories</a> 이다.</p>
<p>여기 가보면 엄청나게 많은 R 패키지들에 입이 쩍 벌어진다.</p>
<p>만약에 노벨상에 R community에 기여한 공로를 치하하는 상으로 ’노벨 R 상’이 있다면 Hadley Wickham이 그 첫번째 수상자가 된다고 해도 전혀 이상할게 없을 정도로 정말 R의 확산에 지대한 공헌을 한 것이다.</p>
<p><code>ggplot2</code>가 <strong>시각화/그래프</strong>에 관한한 우리를 실망시키지 않았듯이, <code>dplyr</code> 또한 <strong>데이터 전처리</strong>에 관한한 coverage의 방대함과 문법의 명료함이 우리를 매료시킬 것이라고 생각하며, 하나씩 예를 들어 설명 알아보기로 한다.</p>
<p>아래의 설명은 <code>browseVignettes(package = "dplyr")</code> 치면 팝업으로 나오는 “<a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">Introduction to dplyr</a>” HTML 페이지를 참조하였습니다.</p>
<div id="데이터-전처리란" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> 데이터 전처리란?</h3>
<p>데이터 전처리란 작업할 <code>raw data</code>를 구성하는 관측치와 변수들을 제거, 수정 혹은 추가하여 최종적으로 분석에 사용할 <code>Data Set</code>을 만드는 과정을 말한다.</p>
<p>예를 몇 가지 들자면 다음과 같다.</p>
<ul>
<li><code>성별(sex)</code>을 <code>0</code>, <code>1</code>로 기입해 놓은 경우 보기 좋게 <code>male</code>, <code>female</code> 로 <code>변경</code>.</li>
<li>가구 회사에서 의자와 책상을 만들기 위해서 신장과 체중만 있으면 되는 경우, 그 외에 불필요한 변수들(주거지, 최종 학력 등)을 <code>제거</code>하는 것.</li>
<li>학생들의 교육 성취도 조사를 하려는데 1년치 자료만 있는 경우 과거 기록도 <code>추가</code>하는 경우</li>
</ul>
</div>
<div id="왜-dplyr-패키지-인가" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> 왜 <code>dplyr</code> 패키지 인가?</h3>
<p><code>dplyr</code> 패키지의 가장 큰 장점은 <code>%&gt;%</code>(파이프, Pipe) 연산자라고 할 수 있다.
전처리 외에도 파이프 연산자는 가독성을 높여 준다.</p>
<p>수학적으로 말하자면 합성함수 <code>o</code>(circle)와 유사한 기능을 한다.</p>
<p>다만 둘의 차이점은 합성함수는 <code>(f o g)(x) == f(g(x))</code> 처럼 뒤에서부터 앞의 순서로 계산하지만, <code>dplyr</code> 의 파이프 연산자는 왼쪽에서 오른쪽 순서로 진행된다.</p>
<blockquote>
<p><code>DataFrame</code> <code>%&gt;%</code> <code>function1()</code> <code>%&gt;%</code> <code>function2()</code></p>
</blockquote>
</div>
</div>
<div id="dplyr-패키지에-있는-함수들" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> <code>dplyr</code> 패키지에 있는 함수들</h2>
<p>예제로 사용할 데이터는 <code>MASS</code> 패키지에 들어있는 <code>Cars93</code> <strong>데이터프레임</strong>입니다.</p>
<p>원래는 93개의 자동차 관측치에 27개의 변수를 가지고 있는데, 예시들기 편하도록 앞에서부터 변수 8개만 선택해서 사용하겠다. (<code>Cars93_1 dataframe</code>)</p>
<div id="패키지-설치" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> 패키지 설치</h3>
<div class="sourceCode" id="cb925"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb925-1"><a href="preprocessing.html#cb925-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb925-2"><a href="preprocessing.html#cb925-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span></code></pre></div>
</div>
<div id="예제-데이터-확인" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> 예제 데이터 확인</h3>
<div class="sourceCode" id="cb926"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb926-1"><a href="preprocessing.html#cb926-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(MASS<span class="sc">::</span>Cars93)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price Max.Price MPG.city MPG.highway
## 1        Acura Integra   Small      12.9  15.9      18.8       25          31
## 2        Acura  Legend Midsize      29.2  33.9      38.7       18          25
## 3         Audi      90 Compact      25.9  29.1      32.3       20          26
## 4         Audi     100 Midsize      30.8  37.7      44.6       19          26
## 5          BMW    535i Midsize      23.7  30.0      36.2       22          30
## 6        Buick Century Midsize      14.2  15.7      17.3       22          31
##              AirBags DriveTrain Cylinders EngineSize Horsepower  RPM
## 1               None      Front         4        1.8        140 6300
## 2 Driver &amp; Passenger      Front         6        3.2        200 5500
## 3        Driver only      Front         6        2.8        172 5500
## 4 Driver &amp; Passenger      Front         6        2.8        172 5500
## 5        Driver only       Rear         4        3.5        208 5700
## 6        Driver only      Front         4        2.2        110 5200
##   Rev.per.mile Man.trans.avail Fuel.tank.capacity Passengers Length Wheelbase
## 1         2890             Yes               13.2          5    177       102
## 2         2335             Yes               18.0          5    195       115
## 3         2280             Yes               16.9          5    180       102
## 4         2535             Yes               21.1          6    193       106
## 5         2545             Yes               21.1          4    186       109
## 6         2565              No               16.4          6    189       105
##   Width Turn.circle Rear.seat.room Luggage.room Weight  Origin          Make
## 1    68          37           26.5           11   2705 non-USA Acura Integra
## 2    71          38           30.0           15   3560 non-USA  Acura Legend
## 3    67          37           28.0           14   3375 non-USA       Audi 90
## 4    70          37           31.0           17   3405 non-USA      Audi 100
## 5    69          39           27.0           13   3640 non-USA      BMW 535i
## 6    69          41           28.0           16   2880     USA Buick Century</code></pre>
<ul>
<li>관측치 53,940개, 변수 10개로 이루어진 데이터임을 알 수 있다.</li>
</ul>
<p>이 외에도 데이터를 확인하는 다양한 함수들은 다음과 같은 것들이 있다.</p>
<div class="sourceCode" id="cb928"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb928-1"><a href="preprocessing.html#cb928-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cars93 요약정보 확인</span></span>
<span id="cb928-2"><a href="preprocessing.html#cb928-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Cars93)</span></code></pre></div>
<pre><code>##     Manufacturer     Model         Type      Min.Price         Price      
##  Chevrolet: 8    100    : 1   Compact:16   Min.   : 6.70   Min.   : 7.40  
##  Ford     : 8    190E   : 1   Large  :11   1st Qu.:10.80   1st Qu.:12.20  
##  Dodge    : 6    240    : 1   Midsize:22   Median :14.70   Median :17.70  
##  Mazda    : 5    300E   : 1   Small  :21   Mean   :17.13   Mean   :19.51  
##  Pontiac  : 5    323    : 1   Sporty :14   3rd Qu.:20.30   3rd Qu.:23.30  
##  Buick    : 4    535i   : 1   Van    : 9   Max.   :45.40   Max.   :61.90  
##  (Other)  :57    (Other):87                                               
##    Max.Price       MPG.city      MPG.highway                  AirBags  
##  Min.   : 7.9   Min.   :15.00   Min.   :20.00   Driver &amp; Passenger:16  
##  1st Qu.:14.7   1st Qu.:18.00   1st Qu.:26.00   Driver only       :43  
##  Median :19.6   Median :21.00   Median :28.00   None              :34  
##  Mean   :21.9   Mean   :22.37   Mean   :29.09                          
##  3rd Qu.:25.3   3rd Qu.:25.00   3rd Qu.:31.00                          
##  Max.   :80.0   Max.   :46.00   Max.   :50.00                          
##                                                                        
##  DriveTrain  Cylinders    EngineSize      Horsepower         RPM      
##  4WD  :10   3     : 3   Min.   :1.000   Min.   : 55.0   Min.   :3800  
##  Front:67   4     :49   1st Qu.:1.800   1st Qu.:103.0   1st Qu.:4800  
##  Rear :16   5     : 2   Median :2.400   Median :140.0   Median :5200  
##             6     :31   Mean   :2.668   Mean   :143.8   Mean   :5281  
##             8     : 7   3rd Qu.:3.300   3rd Qu.:170.0   3rd Qu.:5750  
##             rotary: 1   Max.   :5.700   Max.   :300.0   Max.   :6500  
##                                                                       
##   Rev.per.mile  Man.trans.avail Fuel.tank.capacity   Passengers   
##  Min.   :1320   No :32          Min.   : 9.20      Min.   :2.000  
##  1st Qu.:1985   Yes:61          1st Qu.:14.50      1st Qu.:4.000  
##  Median :2340                   Median :16.40      Median :5.000  
##  Mean   :2332                   Mean   :16.66      Mean   :5.086  
##  3rd Qu.:2565                   3rd Qu.:18.80      3rd Qu.:6.000  
##  Max.   :3755                   Max.   :27.00      Max.   :8.000  
##                                                                   
##      Length        Wheelbase         Width        Turn.circle   
##  Min.   :141.0   Min.   : 90.0   Min.   :60.00   Min.   :32.00  
##  1st Qu.:174.0   1st Qu.: 98.0   1st Qu.:67.00   1st Qu.:37.00  
##  Median :183.0   Median :103.0   Median :69.00   Median :39.00  
##  Mean   :183.2   Mean   :103.9   Mean   :69.38   Mean   :38.96  
##  3rd Qu.:192.0   3rd Qu.:110.0   3rd Qu.:72.00   3rd Qu.:41.00  
##  Max.   :219.0   Max.   :119.0   Max.   :78.00   Max.   :45.00  
##                                                                 
##  Rear.seat.room   Luggage.room       Weight         Origin              Make   
##  Min.   :19.00   Min.   : 6.00   Min.   :1695   USA    :48   Acura Integra: 1  
##  1st Qu.:26.00   1st Qu.:12.00   1st Qu.:2620   non-USA:45   Acura Legend : 1  
##  Median :27.50   Median :14.00   Median :3040                Audi 100     : 1  
##  Mean   :27.83   Mean   :13.89   Mean   :3073                Audi 90      : 1  
##  3rd Qu.:30.00   3rd Qu.:15.00   3rd Qu.:3525                BMW 535i     : 1  
##  Max.   :36.00   Max.   :22.00   Max.   :4105                Buick Century: 1  
##  NA&#39;s   :2       NA&#39;s   :11                                  (Other)      :87</code></pre>
<div class="sourceCode" id="cb930"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb930-1"><a href="preprocessing.html#cb930-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(Cars93)</span></code></pre></div>
<div id="htmlwidget-9fb34681f7ca90a1c8d3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9fb34681f7ca90a1c8d3">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93"],["Acura","Acura","Audi","Audi","BMW","Buick","Buick","Buick","Buick","Cadillac","Cadillac","Chevrolet","Chevrolet","Chevrolet","Chevrolet","Chevrolet","Chevrolet","Chevrolet","Chevrolet","Chrylser","Chrysler","Chrysler","Dodge","Dodge","Dodge","Dodge","Dodge","Dodge","Eagle","Eagle","Ford","Ford","Ford","Ford","Ford","Ford","Ford","Ford","Geo","Geo","Honda","Honda","Honda","Hyundai","Hyundai","Hyundai","Hyundai","Infiniti","Lexus","Lexus","Lincoln","Lincoln","Mazda","Mazda","Mazda","Mazda","Mazda","Mercedes-Benz","Mercedes-Benz","Mercury","Mercury","Mitsubishi","Mitsubishi","Nissan","Nissan","Nissan","Nissan","Oldsmobile","Oldsmobile","Oldsmobile","Oldsmobile","Plymouth","Pontiac","Pontiac","Pontiac","Pontiac","Pontiac","Saab","Saturn","Subaru","Subaru","Subaru","Suzuki","Toyota","Toyota","Toyota","Toyota","Volkswagen","Volkswagen","Volkswagen","Volkswagen","Volvo","Volvo"],["Integra","Legend","90","100","535i","Century","LeSabre","Roadmaster","Riviera","DeVille","Seville","Cavalier","Corsica","Camaro","Lumina","Lumina_APV","Astro","Caprice","Corvette","Concorde","LeBaron","Imperial","Colt","Shadow","Spirit","Caravan","Dynasty","Stealth","Summit","Vision","Festiva","Escort","Tempo","Mustang","Probe","Aerostar","Taurus","Crown_Victoria","Metro","Storm","Prelude","Civic","Accord","Excel","Elantra","Scoupe","Sonata","Q45","ES300","SC300","Continental","Town_Car","323","Protege","626","MPV","RX-7","190E","300E","Capri","Cougar","Mirage","Diamante","Sentra","Altima","Quest","Maxima","Achieva","Cutlass_Ciera","Silhouette","Eighty-Eight","Laser","LeMans","Sunbird","Firebird","Grand_Prix","Bonneville","900","SL","Justy","Loyale","Legacy","Swift","Tercel","Celica","Camry","Previa","Fox","Eurovan","Passat","Corrado","240","850"],["Small","Midsize","Compact","Midsize","Midsize","Midsize","Large","Large","Midsize","Large","Midsize","Compact","Compact","Sporty","Midsize","Van","Van","Large","Sporty","Large","Compact","Large","Small","Small","Compact","Van","Midsize","Sporty","Small","Large","Small","Small","Compact","Sporty","Sporty","Van","Midsize","Large","Small","Sporty","Sporty","Small","Compact","Small","Small","Sporty","Midsize","Midsize","Midsize","Midsize","Midsize","Large","Small","Small","Compact","Van","Sporty","Compact","Midsize","Sporty","Midsize","Small","Midsize","Small","Compact","Van","Midsize","Compact","Midsize","Van","Large","Sporty","Small","Compact","Sporty","Midsize","Large","Compact","Small","Small","Small","Compact","Small","Small","Sporty","Midsize","Van","Small","Van","Compact","Sporty","Compact","Midsize"],[12.9,29.2,25.9,30.8,23.7,14.2,19.9,22.6,26.3,33,37.5,8.5,11.4,13.4,13.4,14.7,14.7,18,34.6,18.4,14.5,29.5,7.9,8.4,11.9,13.6,14.8,18.5,7.9,17.5,6.9,8.4,10.4,10.8,12.8,14.5,15.6,20.1,6.7,11.5,17,8.4,13.8,6.8,9,9.1,12.4,45.4,27.5,34.7,33.3,34.4,7.4,10.9,14.3,16.6,32.5,29,43.8,13.3,14.9,7.7,22.4,8.7,13,16.7,21,13,14.2,19.5,19.5,11.4,8.2,9.4,14,15.4,19.4,20.3,9.2,7.3,10.5,16.3,7.3,7.8,14.2,15.2,18.9,8.7,16.6,17.6,22.9,21.8,24.8],[15.9,33.9,29.1,37.7,30,15.7,20.8,23.7,26.3,34.7,40.1,13.4,11.4,15.1,15.9,16.3,16.6,18.8,38,18.4,15.8,29.5,9.2,11.3,13.3,19,15.6,25.8,12.2,19.3,7.4,10.1,11.3,15.9,14,19.9,20.2,20.9,8.4,12.5,19.8,12.1,17.5,8,10,10,13.9,47.9,28,35.2,34.3,36.1,8.3,11.6,16.5,19.1,32.5,31.9,61.9,14.1,14.9,10.3,26.1,11.8,15.7,19.1,21.5,13.5,16.3,19.5,20.7,14.4,9,11.1,17.7,18.5,24.4,28.7,11.1,8.4,10.9,19.5,8.6,9.8,18.4,18.2,22.7,9.1,19.7,20,23.3,22.7,26.7],[18.8,38.7,32.3,44.6,36.2,17.3,21.7,24.9,26.3,36.3,42.7,18.3,11.4,16.8,18.4,18,18.6,19.6,41.5,18.4,17.1,29.5,10.6,14.2,14.7,24.4,16.4,33.1,16.5,21.2,7.9,11.9,12.2,21,15.2,25.3,24.8,21.7,10,13.5,22.7,15.8,21.2,9.2,11,11,15.3,50.4,28.4,35.6,35.3,37.8,9.1,12.3,18.7,21.7,32.5,34.9,80,15,14.9,12.9,29.9,14.9,18.3,21.5,22,14,18.4,19.5,21.9,17.4,9.9,12.8,21.4,21.6,29.4,37.1,12.9,9.5,11.3,22.7,10,11.8,22.6,21.2,26.6,9.5,22.7,22.4,23.7,23.5,28.5],[25,18,20,19,22,22,19,16,19,16,16,25,25,19,21,18,15,17,17,20,23,20,29,23,22,17,21,18,29,20,31,23,22,22,24,15,21,18,46,30,24,42,24,29,22,26,20,17,18,18,17,18,29,28,26,18,17,20,19,23,19,29,18,29,24,17,21,24,23,18,19,23,31,23,19,19,19,20,28,33,25,23,39,32,25,22,18,25,17,21,18,21,20],[31,25,26,26,30,31,28,25,27,25,25,36,34,28,29,23,20,26,25,28,28,26,33,29,27,21,27,24,33,28,33,30,27,29,30,20,30,26,50,36,31,46,31,33,29,34,27,22,24,23,26,26,37,36,34,24,25,29,25,26,26,33,24,33,30,23,26,31,31,23,28,30,41,31,28,27,28,26,38,37,30,30,43,37,32,29,22,33,21,30,25,28,28],["None","Driver &amp; Passenger","Driver only","Driver &amp; Passenger","Driver only","Driver only","Driver only","Driver only","Driver only","Driver only","Driver &amp; Passenger","None","Driver only","Driver &amp; Passenger","None","None","None","Driver only","Driver only","Driver &amp; Passenger","Driver &amp; Passenger","Driver only","None","Driver only","Driver only","Driver only","Driver only","Driver only","None","Driver &amp; Passenger","None","None","None","Driver only","Driver only","Driver only","Driver only","Driver only","None","Driver only","Driver &amp; Passenger","Driver only","Driver &amp; Passenger","None","None","None","None","Driver only","Driver only","Driver &amp; Passenger","Driver &amp; Passenger","Driver &amp; Passenger","None","None","Driver only","None","Driver only","Driver only","Driver &amp; Passenger","Driver only","None","None","Driver only","Driver only","Driver only","None","Driver only","None","Driver only","None","Driver only","None","None","None","Driver &amp; Passenger","None","Driver &amp; Passenger","Driver only","Driver only","None","None","Driver only","None","Driver only","Driver only","Driver only","Driver only","None","None","None","None","Driver only","Driver &amp; Passenger"],["Front","Front","Front","Front","Rear","Front","Front","Rear","Front","Front","Front","Front","Front","Rear","Front","Front","4WD","Rear","Rear","Front","Front","Front","Front","Front","Front","4WD","Front","4WD","Front","Front","Front","Front","Front","Rear","Front","4WD","Front","Rear","Front","Front","Front","Front","Front","Front","Front","Front","Front","Rear","Front","Rear","Front","Rear","Front","Front","Front","4WD","Rear","Rear","Rear","Front","Rear","Front","Front","Front","Front","Front","Front","Front","Front","Front","Front","4WD","Front","Front","Rear","Front","Front","Front","Front","4WD","4WD","4WD","Front","Front","Front","Front","4WD","Front","Front","Front","Front","Rear","Front"],["4","6","6","6","4","4","6","6","6","8","8","4","4","6","4","6","6","8","8","6","4","6","4","4","4","6","4","6","4","6","4","4","4","4","4","6","6","8","3","4","4","4","4","4","4","4","4","8","6","6","6","8","4","4","4","6","rotary","4","6","4","6","4","6","4","4","6","6","4","4","6","6","4","4","4","6","6","6","4","4","3","4","4","3","4","4","4","4","4","5","4","6","4","5"],[1.8,3.2,2.8,2.8,3.5,2.2,3.8,5.7,3.8,4.9,4.6,2.2,2.2,3.4,2.2,3.8,4.3,5,5.7,3.3,3,3.3,1.5,2.2,2.5,3,2.5,3,1.5,3.5,1.3,1.8,2.3,2.3,2,3,3,4.6,1,1.6,2.3,1.5,2.2,1.5,1.8,1.5,2,4.5,3,3,3.8,4.6,1.6,1.8,2.5,3,1.3,2.3,3.2,1.6,3.8,1.5,3,1.6,2.4,3,3,2.3,2.2,3.8,3.8,1.8,1.6,2,3.4,3.4,3.8,2.1,1.9,1.2,1.8,2.2,1.3,1.5,2.2,2.2,2.4,1.8,2.5,2,2.8,2.3,2.4],[140,200,172,172,208,110,170,180,170,200,295,110,110,160,110,170,165,170,300,153,141,147,92,93,100,142,100,300,92,214,63,127,96,105,115,145,140,190,55,90,160,102,140,81,124,92,128,278,185,225,160,210,82,103,164,155,255,130,217,100,140,92,202,110,150,151,160,155,110,170,170,92,74,110,160,200,170,140,85,73,90,130,70,82,135,130,138,81,109,134,178,114,168],[6300,5500,5500,5500,5700,5200,4800,4000,4800,4100,6000,5200,5200,4600,5200,4800,4000,4200,5000,5300,5000,4800,6000,4800,4800,5000,4800,6000,6000,5800,5000,6500,4200,4600,5500,4800,4800,4200,5700,5400,5800,5900,5600,5500,6000,5550,6000,6000,5200,6000,4400,4600,5000,5500,5600,5000,6500,5100,5500,5750,3800,6000,6000,6000,5600,4800,5200,6000,5200,4800,4800,5000,5600,5200,4600,5000,4800,6000,5000,5600,5200,5600,6000,5200,5400,5400,5000,5500,4500,5800,5800,5400,6200],[2890,2335,2280,2535,2545,2565,1570,1320,1690,1510,1985,2380,2665,1805,2595,1690,1790,1350,1450,1990,2090,1785,3285,2595,2535,1970,2465,2120,2505,1980,3150,2410,2805,2285,2340,2080,1885,1415,3755,3250,2855,2650,2610,2710,2745,2540,2335,1955,2325,2510,1835,1840,2370,2220,2505,2240,2325,2425,2220,2475,1730,2505,2210,2435,2130,2065,2045,2380,2565,1690,1570,2360,3130,2665,1805,1890,1565,2910,2145,2875,3375,2330,3360,3505,2405,2340,2515,2550,2915,2685,2385,2215,2310],["Yes","Yes","Yes","Yes","Yes","No","No","No","No","No","No","Yes","Yes","Yes","No","No","No","No","Yes","No","No","No","Yes","Yes","Yes","No","No","Yes","Yes","No","Yes","Yes","Yes","Yes","Yes","Yes","No","No","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","No","Yes","Yes","No","No","Yes","Yes","Yes","No","Yes","Yes","No","Yes","No","Yes","No","Yes","Yes","No","No","No","No","No","No","Yes","Yes","Yes","Yes","Yes","No","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes","Yes"],[13.2,18,16.9,21.1,21.1,16.4,18,23,18.8,18,20,15.2,15.6,15.5,16.5,20,27,23,20,18,16,16,13.2,14,16,20,16,19.8,13.2,18,10,13.2,15.9,15.4,15.5,21,16,20,10.6,12.4,15.9,11.9,17,11.9,13.7,11.9,17.2,22.5,18.5,20.6,18.4,20,13.2,14.5,15.5,19.6,20,14.5,18.5,11.1,18,13.2,19,13.2,15.9,20,18.5,15.2,16.5,20,18,15.9,13.2,15.2,15.5,16.5,18,18,12.8,9.2,15.9,15.9,10.6,11.9,15.9,18.5,19.8,12.4,21.1,18.5,18.5,15.8,19.3],[5,5,5,6,4,6,6,6,5,6,5,5,5,4,6,7,8,6,2,6,6,6,5,5,6,7,6,4,5,6,4,5,5,4,4,7,5,6,4,4,4,4,4,5,5,4,5,5,5,4,6,6,4,5,5,7,2,5,5,4,5,5,5,5,5,7,5,5,5,7,6,4,4,5,4,5,6,5,5,4,5,5,4,5,4,5,7,4,7,5,4,5,5],[177,195,180,193,186,189,200,216,198,206,204,182,184,193,198,178,194,214,179,203,183,203,174,172,181,175,192,180,174,202,141,171,177,180,179,176,192,212,151,164,175,173,185,168,172,166,184,200,188,191,205,219,164,172,184,190,169,175,187,166,199,172,190,170,181,190,188,188,190,194,201,173,177,181,196,195,177,184,176,146,175,179,161,162,174,188,187,163,187,180,159,190,184],[102,115,102,106,109,105,111,116,108,114,111,101,103,101,108,110,111,116,96,113,104,110,98,97,104,112,105,97,98,113,90,98,100,101,103,119,106,114,93,97,100,103,107,94,98,94,104,113,103,106,109,117,97,98,103,110,96,105,110,95,113,98,107,96,103,112,104,103,105,110,111,97,99,101,101,108,111,99,102,90,97,102,93,94,99,103,113,93,115,103,97,104,105],[68,71,67,70,69,69,74,78,73,73,74,66,68,74,71,74,78,77,74,74,68,69,66,67,68,72,69,72,66,74,63,67,68,68,70,72,71,78,63,67,70,67,67,63,66,64,69,72,70,71,73,77,66,66,69,72,69,67,69,65,73,67,70,66,67,74,69,67,70,74,74,67,66,66,75,72,74,67,68,60,65,67,63,65,69,70,71,63,72,67,66,67,69],[37,38,37,37,39,41,42,45,41,43,44,38,39,43,40,44,42,42,43,40,41,44,32,38,39,42,42,40,36,40,33,36,39,40,38,45,40,43,34,37,39,36,41,35,36,34,41,42,40,39,42,45,34,36,40,39,37,34,37,36,38,36,43,33,40,41,41,39,42,44,42,39,35,39,43,41,43,37,40,32,35,37,34,36,39,38,41,34,38,35,36,37,38],[26.5,30,28,31,27,28,30.5,30.5,26.5,35,31,25,26,25,28.5,30.5,33.5,29.5,null,31,30.5,36,26.5,26.5,30.5,26.5,30.5,20,26.5,30,26,28,27.5,24,23,30,27.5,30,27.5,24.5,23.5,28,28,26,28,23.5,31,29,27.5,25,30,31.5,27,26.5,29.5,27.5,null,26,27,19,28,26,27.5,26,28.5,27,28.5,28,28,30.5,31.5,24.5,25.5,25,25,28.5,30.5,26.5,26.5,23.5,27.5,27,27.5,24,23,28.5,35,26,34,31.5,26,29.5,30],[11,15,14,17,13,16,17,21,14,18,14,13,14,13,16,null,null,20,null,15,14,17,11,13,14,null,16,11,11,15,12,12,13,12,18,null,18,21,10,11,8,12,14,11,12,9,14,15,14,9,19,22,16,13,14,null,null,12,15,6,15,11,14,12,14,null,14,14,16,null,17,8,17,13,13,16,18,14,12,10,15,14,10,11,13,15,null,10,null,14,15,14,15],[2705,3560,3375,3405,3640,2880,3470,4105,3495,3620,3935,2490,2785,3240,3195,3715,4025,3910,3380,3515,3085,3570,2270,2670,2970,3705,3080,3805,2295,3490,1845,2530,2690,2850,2710,3735,3325,3950,1695,2475,2865,2350,3040,2345,2620,2285,2885,4000,3510,3515,3695,4055,2325,2440,2970,3735,2895,2920,3525,2450,3610,2295,3730,2545,3050,4100,3200,2910,2890,3715,3470,2640,2350,2575,3240,3450,3495,2775,2495,2045,2490,3085,1965,2055,2950,3030,3785,2240,3960,2985,2810,2985,3245],["non-USA","non-USA","non-USA","non-USA","non-USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","USA","USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","USA","USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","USA","non-USA","USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA","non-USA"],["Acura Integra","Acura Legend","Audi 90","Audi 100","BMW 535i","Buick Century","Buick LeSabre","Buick Roadmaster","Buick Riviera","Cadillac DeVille","Cadillac Seville","Chevrolet Cavalier","Chevrolet Corsica","Chevrolet Camaro","Chevrolet Lumina","Chevrolet Lumina_APV","Chevrolet Astro","Chevrolet Caprice","Chevrolet Corvette","Chrylser Concorde","Chrysler LeBaron","Chrysler Imperial","Dodge Colt","Dodge Shadow","Dodge Spirit","Dodge Caravan","Dodge Dynasty","Dodge Stealth","Eagle Summit","Eagle Vision","Ford Festiva","Ford Escort","Ford Tempo","Ford Mustang","Ford Probe","Ford Aerostar","Ford Taurus","Ford Crown_Victoria","Geo Metro","Geo Storm","Honda Prelude","Honda Civic","Honda Accord","Hyundai Excel","Hyundai Elantra","Hyundai Scoupe","Hyundai Sonata","Infiniti Q45","Lexus ES300","Lexus SC300","Lincoln Continental","Lincoln Town_Car","Mazda 323","Mazda Protege","Mazda 626","Mazda MPV","Mazda RX-7","Mercedes-Benz 190E","Mercedes-Benz 300E","Mercury Capri","Mercury Cougar","Mitsubishi Mirage","Mitsubishi Diamante","Nissan Sentra","Nissan Altima","Nissan Quest","Nissan Maxima","Oldsmobile Achieva","Oldsmobile Cutlass_Ciera","Oldsmobile Silhouette","Oldsmobile Eighty-Eight","Plymouth Laser","Pontiac LeMans","Pontiac Sunbird","Pontiac Firebird","Pontiac Grand_Prix","Pontiac Bonneville","Saab 900","Saturn SL","Subaru Justy","Subaru Loyale","Subaru Legacy","Suzuki Swift","Toyota Tercel","Toyota Celica","Toyota Camry","Toyota Previa","Volkswagen Fox","Volkswagen Eurovan","Volkswagen Passat","Volkswagen Corrado","Volvo 240","Volvo 850"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Manufacturer<\/th>\n      <th>Model<\/th>\n      <th>Type<\/th>\n      <th>Min.Price<\/th>\n      <th>Price<\/th>\n      <th>Max.Price<\/th>\n      <th>MPG.city<\/th>\n      <th>MPG.highway<\/th>\n      <th>AirBags<\/th>\n      <th>DriveTrain<\/th>\n      <th>Cylinders<\/th>\n      <th>EngineSize<\/th>\n      <th>Horsepower<\/th>\n      <th>RPM<\/th>\n      <th>Rev.per.mile<\/th>\n      <th>Man.trans.avail<\/th>\n      <th>Fuel.tank.capacity<\/th>\n      <th>Passengers<\/th>\n      <th>Length<\/th>\n      <th>Wheelbase<\/th>\n      <th>Width<\/th>\n      <th>Turn.circle<\/th>\n      <th>Rear.seat.room<\/th>\n      <th>Luggage.room<\/th>\n      <th>Weight<\/th>\n      <th>Origin<\/th>\n      <th>Make<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[4,5,6,7,8,12,13,14,15,17,18,19,20,21,22,23,24,25]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb931"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb931-1"><a href="preprocessing.html#cb931-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Cars93)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    93 obs. of  27 variables:
##  $ Manufacturer      : Factor w/ 32 levels &quot;Acura&quot;,&quot;Audi&quot;,..: 1 1 2 2 3 4 4 4 4 5 ...
##  $ Model             : Factor w/ 93 levels &quot;100&quot;,&quot;190E&quot;,&quot;240&quot;,..: 49 56 9 1 6 24 54 74 73 35 ...
##  $ Type              : Factor w/ 6 levels &quot;Compact&quot;,&quot;Large&quot;,..: 4 3 1 3 3 3 2 2 3 2 ...
##  $ Min.Price         : num  12.9 29.2 25.9 30.8 23.7 14.2 19.9 22.6 26.3 33 ...
##  $ Price             : num  15.9 33.9 29.1 37.7 30 15.7 20.8 23.7 26.3 34.7 ...
##  $ Max.Price         : num  18.8 38.7 32.3 44.6 36.2 17.3 21.7 24.9 26.3 36.3 ...
##  $ MPG.city          : int  25 18 20 19 22 22 19 16 19 16 ...
##  $ MPG.highway       : int  31 25 26 26 30 31 28 25 27 25 ...
##  $ AirBags           : Factor w/ 3 levels &quot;Driver &amp; Passenger&quot;,..: 3 1 2 1 2 2 2 2 2 2 ...
##  $ DriveTrain        : Factor w/ 3 levels &quot;4WD&quot;,&quot;Front&quot;,..: 2 2 2 2 3 2 2 3 2 2 ...
##  $ Cylinders         : Factor w/ 6 levels &quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,..: 2 4 4 4 2 2 4 4 4 5 ...
##  $ EngineSize        : num  1.8 3.2 2.8 2.8 3.5 2.2 3.8 5.7 3.8 4.9 ...
##  $ Horsepower        : int  140 200 172 172 208 110 170 180 170 200 ...
##  $ RPM               : int  6300 5500 5500 5500 5700 5200 4800 4000 4800 4100 ...
##  $ Rev.per.mile      : int  2890 2335 2280 2535 2545 2565 1570 1320 1690 1510 ...
##  $ Man.trans.avail   : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 2 2 2 2 2 1 1 1 1 1 ...
##  $ Fuel.tank.capacity: num  13.2 18 16.9 21.1 21.1 16.4 18 23 18.8 18 ...
##  $ Passengers        : int  5 5 5 6 4 6 6 6 5 6 ...
##  $ Length            : int  177 195 180 193 186 189 200 216 198 206 ...
##  $ Wheelbase         : int  102 115 102 106 109 105 111 116 108 114 ...
##  $ Width             : int  68 71 67 70 69 69 74 78 73 73 ...
##  $ Turn.circle       : int  37 38 37 37 39 41 42 45 41 43 ...
##  $ Rear.seat.room    : num  26.5 30 28 31 27 28 30.5 30.5 26.5 35 ...
##  $ Luggage.room      : int  11 15 14 17 13 16 17 21 14 18 ...
##  $ Weight            : int  2705 3560 3375 3405 3640 2880 3470 4105 3495 3620 ...
##  $ Origin            : Factor w/ 2 levels &quot;USA&quot;,&quot;non-USA&quot;: 2 2 2 2 2 1 1 1 1 1 ...
##  $ Make              : Factor w/ 93 levels &quot;Acura Integra&quot;,..: 1 2 4 3 5 6 7 9 8 10 ...</code></pre>
<div class="sourceCode" id="cb933"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb933-1"><a href="preprocessing.html#cb933-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(Cars93)</span></code></pre></div>
<pre><code>## Rows: 93
## Columns: 27
## $ Manufacturer       &lt;fct&gt; Acura, Acura, Audi, Audi, BMW, Buick, Buick, Bui...
## $ Model              &lt;fct&gt; Integra, Legend, 90, 100, 535i, Century, LeSabre...
## $ Type               &lt;fct&gt; Small, Midsize, Compact, Midsize, Midsize, Midsi...
## $ Min.Price          &lt;dbl&gt; 12.9, 29.2, 25.9, 30.8, 23.7, 14.2, 19.9, 22.6, ...
## $ Price              &lt;dbl&gt; 15.9, 33.9, 29.1, 37.7, 30.0, 15.7, 20.8, 23.7, ...
## $ Max.Price          &lt;dbl&gt; 18.8, 38.7, 32.3, 44.6, 36.2, 17.3, 21.7, 24.9, ...
## $ MPG.city           &lt;int&gt; 25, 18, 20, 19, 22, 22, 19, 16, 19, 16, 16, 25, ...
## $ MPG.highway        &lt;int&gt; 31, 25, 26, 26, 30, 31, 28, 25, 27, 25, 25, 36, ...
## $ AirBags            &lt;fct&gt; None, Driver &amp; Passenger, Driver only, Driver &amp; ...
## $ DriveTrain         &lt;fct&gt; Front, Front, Front, Front, Rear, Front, Front, ...
## $ Cylinders          &lt;fct&gt; 4, 6, 6, 6, 4, 4, 6, 6, 6, 8, 8, 4, 4, 6, 4, 6, ...
## $ EngineSize         &lt;dbl&gt; 1.8, 3.2, 2.8, 2.8, 3.5, 2.2, 3.8, 5.7, 3.8, 4.9...
## $ Horsepower         &lt;int&gt; 140, 200, 172, 172, 208, 110, 170, 180, 170, 200...
## $ RPM                &lt;int&gt; 6300, 5500, 5500, 5500, 5700, 5200, 4800, 4000, ...
## $ Rev.per.mile       &lt;int&gt; 2890, 2335, 2280, 2535, 2545, 2565, 1570, 1320, ...
## $ Man.trans.avail    &lt;fct&gt; Yes, Yes, Yes, Yes, Yes, No, No, No, No, No, No,...
## $ Fuel.tank.capacity &lt;dbl&gt; 13.2, 18.0, 16.9, 21.1, 21.1, 16.4, 18.0, 23.0, ...
## $ Passengers         &lt;int&gt; 5, 5, 5, 6, 4, 6, 6, 6, 5, 6, 5, 5, 5, 4, 6, 7, ...
## $ Length             &lt;int&gt; 177, 195, 180, 193, 186, 189, 200, 216, 198, 206...
## $ Wheelbase          &lt;int&gt; 102, 115, 102, 106, 109, 105, 111, 116, 108, 114...
## $ Width              &lt;int&gt; 68, 71, 67, 70, 69, 69, 74, 78, 73, 73, 74, 66, ...
## $ Turn.circle        &lt;int&gt; 37, 38, 37, 37, 39, 41, 42, 45, 41, 43, 44, 38, ...
## $ Rear.seat.room     &lt;dbl&gt; 26.5, 30.0, 28.0, 31.0, 27.0, 28.0, 30.5, 30.5, ...
## $ Luggage.room       &lt;int&gt; 11, 15, 14, 17, 13, 16, 17, 21, 14, 18, 14, 13, ...
## $ Weight             &lt;int&gt; 2705, 3560, 3375, 3405, 3640, 2880, 3470, 4105, ...
## $ Origin             &lt;fct&gt; non-USA, non-USA, non-USA, non-USA, non-USA, USA...
## $ Make               &lt;fct&gt; Acura Integra, Acura Legend, Audi 90, Audi 100, ...</code></pre>
<div class="sourceCode" id="cb935"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb935-1"><a href="preprocessing.html#cb935-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subset Cars93 </span></span>
<span id="cb935-2"><a href="preprocessing.html#cb935-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="ot">&lt;-</span> Cars93[, <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>] </span>
<span id="cb935-3"><a href="preprocessing.html#cb935-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Cars93_1)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    93 obs. of  8 variables:
##  $ Manufacturer: Factor w/ 32 levels &quot;Acura&quot;,&quot;Audi&quot;,..: 1 1 2 2 3 4 4 4 4 5 ...
##  $ Model       : Factor w/ 93 levels &quot;100&quot;,&quot;190E&quot;,&quot;240&quot;,..: 49 56 9 1 6 24 54 74 73 35 ...
##  $ Type        : Factor w/ 6 levels &quot;Compact&quot;,&quot;Large&quot;,..: 4 3 1 3 3 3 2 2 3 2 ...
##  $ Min.Price   : num  12.9 29.2 25.9 30.8 23.7 14.2 19.9 22.6 26.3 33 ...
##  $ Price       : num  15.9 33.9 29.1 37.7 30 15.7 20.8 23.7 26.3 34.7 ...
##  $ Max.Price   : num  18.8 38.7 32.3 44.6 36.2 17.3 21.7 24.9 26.3 36.3 ...
##  $ MPG.city    : int  25 18 20 19 22 22 19 16 19 16 ...
##  $ MPG.highway : int  31 25 26 26 30 31 28 25 27 25 ...</code></pre>
<p><code>Cars93_1</code> 데이터 프레임에 대하여 <code>str(Cars93_1)</code>으로 <strong>데이터 구조</strong>를 확인해 본다.</p>
<p>컬럼(변수) 갯수, 컬럼(변수) 명, 관찰치 개수, 관찰치 미리보기 등을 확인해 보면 다음과 같다.</p>
<ul>
<li>데이터 구조 : <code>'data.frame' :</code></li>
<li>컬럼(변수) 갯수 : <code>8 variables</code></li>
<li>컬럼(변수) 명 : <code>$ Manufacturer</code>, <code>$ Model</code>, <code>$ Type</code>, <code>$ Min.Price</code>, <code>Price</code>, <code>Max.Price</code>, <code>MPG.City</code>,<code>MPG.highway</code> 등 8개 컬럼(변수)의 이름</li>
<li>관찰치 개수 : <code>93 obs.</code></li>
<li>관찰치 미리보기 : 각 컬럼별 관찰치의 데이터 타입과 실제 데이터를 보여준다.
<ul>
<li><code>$ Manufacturer: Factor w/ 32 levels "Acura","Audi",..: 1 1 2 2 3 4 4 4 4 5 ...</code></li>
<li><code>$ Model       : Factor w/ 93 levels "100","190E","240",..: 49 56 9 1 6 24 54 74 73 35 ...</code></li>
<li><code>$ Type        : Factor w/ 6 levels "Compact","Large",..: 4 3 1 3 3 3 2 2 3 2 ...</code></li>
<li><code>$ Min.Price   : num  12.9 29.2 25.9 30.8 23.7 14.2 19.9 22.6 26.3 33 ...</code></li>
<li><code>$ Price       : num  15.9 33.9 29.1 37.7 30 15.7 20.8 23.7 26.3 34.7 ...</code></li>
<li><code>$ Max.Price   : num  18.8 38.7 32.3 44.6 36.2 17.3 21.7 24.9 26.3 36.3 ...</code></li>
<li><code>$ MPG.city    : int  25 18 20 19 22 22 19 16 19 16 ...</code></li>
<li><code>$ MPG.highway : int  31 25 26 26 30 31 28 25 27 25 ...</code></li>
</ul></li>
</ul>
<p><strong>실제 데이터(관찰치)</strong>의 내용은 <code>View(Cars93_1)</code>로 확인할 수 있다.</p>
<div class="sourceCode" id="cb937"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb937-1"><a href="preprocessing.html#cb937-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(Cars93_1)</span></code></pre></div>
<ul>
<li><strong>8개</strong>의 <strong>컬럼(변수)</strong></li>
<li><strong>93개</strong>의 <strong>행(관찰치)</strong></li>
</ul>
</div>
<div id="dplyr-패키지의-주요-함수-목록" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> <code>dplyr</code> 패키지의 주요 함수 목록</h3>
<p>단일 테이블을 대상으로 하는 <code>dplyr</code> 패키지의 함수들(Single table verbs)을 표로 정리해보면 아래와 같습니다.</p>
<table>
<colgroup>
<col width="25%" />
<col width="52%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th>dplyr verbs</th>
<th>description</th>
<th>similar {package} function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>filter()</strong></td>
<td><strong>Filter rows with condition</strong></td>
<td>{base} subset</td>
</tr>
<tr class="even">
<td><strong>slice()</strong></td>
<td><strong>Filter rows with position</strong></td>
<td>{base} subset</td>
</tr>
<tr class="odd">
<td><strong>arrange()</strong></td>
<td><strong>Re-order or arrange rows</strong></td>
<td>{base} order</td>
</tr>
<tr class="even">
<td><strong>select()</strong></td>
<td><strong>Select columns</strong></td>
<td>{base} subset</td>
</tr>
<tr class="odd">
<td><strong>select(df, starts_with())</strong></td>
<td><strong>Select columns that start with a prefix</strong></td>
<td></td>
</tr>
<tr class="even">
<td><strong>select(df, ends_with())</strong></td>
<td><strong>Select columns that end with a prefix</strong></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>select(df, contains())</strong></td>
<td><strong>Select columns that contain a character string</strong></td>
<td></td>
</tr>
<tr class="even">
<td><strong>select(df, matchs())</strong></td>
<td><strong>Select columns that match a regular expression</strong></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>select(df, one_of())</strong></td>
<td><strong>Select columns that are from a group of names</strong></td>
<td></td>
</tr>
<tr class="even">
<td><strong>select(df, num_range())</strong></td>
<td><strong>Select columns from num_range a to n with a prefix</strong></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>rename()</strong></td>
<td><strong>Rename</strong> <strong>column name</strong></td>
<td>{reshape} rename</td>
</tr>
<tr class="even">
<td>distinct()</td>
<td>Extract distinct(unique) rows</td>
<td>{base} unique</td>
</tr>
<tr class="odd">
<td>sample_n()</td>
<td>Random sample rows for a fixed number</td>
<td>{base} sample</td>
</tr>
<tr class="even">
<td>sample_frac()</td>
<td>Random sample rows for a fixed fraction</td>
<td>{base} sample</td>
</tr>
<tr class="odd">
<td>mutate()</td>
<td>Create(add) new columns. mutate() allows you to refer to columns that you’ve just created.</td>
<td>{base} transform</td>
</tr>
<tr class="even">
<td>transmute()</td>
<td>Create(add) new columns. transmute() only keeps the new columns.</td>
<td>{base} transform</td>
</tr>
<tr class="odd">
<td>summarise()</td>
<td>Summarise values</td>
<td>{base} summary</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="데이터-프레임의-컬럼-선택-select" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> 데이터 프레임의 컬럼 선택: <code>select()</code></h2>
<div id="select-함수의-기본-형식" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> <code>select()</code> 함수의 기본 형식</h3>
<blockquote>
<p><strong><code>select(dataframe, VAR1, VAR2, ...)</code></strong></p>
<ul>
<li>dataframe : 데이터 세트</li>
<li>VAR1, VAR2 : 선택하고자 하는 컬럼 이름 기입</li>
</ul>
</blockquote>
<p><code>Cars93_1</code> 데이터 세트로부터 제조사명(<code>Manufacturer</code>), 최대가격(<code>Max.Price</code>), 고속도로연비(<code>MPG.highway</code>) 3개 변수(칼럼)를 선택해 보자.</p>
<div class="sourceCode" id="cb938"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb938-1"><a href="preprocessing.html#cb938-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select() : Select columns by name </span></span>
<span id="cb938-2"><a href="preprocessing.html#cb938-2" aria-hidden="true" tabindex="-1"></a><span class="co"># select(Cars93_1, Manufacturer, Max.Price, MPG.highway)</span></span></code></pre></div>
<div class="sourceCode" id="cb939"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb939-1"><a href="preprocessing.html#cb939-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb939-2"><a href="preprocessing.html#cb939-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Cars93_1 %&gt;%</span></span>
<span id="cb939-3"><a href="preprocessing.html#cb939-3" aria-hidden="true" tabindex="-1"></a><span class="co">#         select(Manufacturer, Max.Price, MPG.highway)</span></span></code></pre></div>
<ul>
<li>위의 스크립트를 실행하면 다음과 같은 <strong>에러메시지</strong>가 나온다.</li>
</ul>
<pre><code>Error in select(Cars93_1, Manufacturer, Max.Price, MPG.highway) : 
  사용되지 않은 인자 (Manufacturer, Max.Price, MPG.highway)</code></pre>
<ul>
<li>이는 <code>dplyr</code> 패키지의 <code>select()</code> 함수와 <code>MASS</code> 패키지의 <code>select()</code> 함수가 충돌하기 때문이다.</li>
</ul>
<p>이러한 <strong>패키지 간의 충돌을 방지하기 위한 해결 방법</strong>은 다음과 같다.</p>
<ul>
<li>(방법 1) <code>dplyr::select()</code> : <code>select()</code> 함수에 명시적으로 <code>dplyr</code>패키지 명을 지정하는 방법</li>
</ul>
<div class="sourceCode" id="cb941"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb941-1"><a href="preprocessing.html#cb941-1" aria-hidden="true" tabindex="-1"></a>  a1 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Cars93_1, Manufacturer, Max.Price, MPG.highway)</span>
<span id="cb941-2"><a href="preprocessing.html#cb941-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(a1)</span></code></pre></div>
<pre><code>##   Manufacturer Max.Price MPG.highway
## 1        Acura      18.8          31
## 2        Acura      38.7          25
## 3         Audi      32.3          26
## 4         Audi      44.6          26
## 5          BMW      36.2          30
## 6        Buick      17.3          31</code></pre>
<ul>
<li>(방법 2) <code>select &lt;- dplyr::select</code> : <code>select()</code> 함수가 <code>dplyr</code> 패키지의 <code>select()</code> 함수임을 명시적으로 지정</li>
</ul>
<div class="sourceCode" id="cb943"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb943-1"><a href="preprocessing.html#cb943-1" aria-hidden="true" tabindex="-1"></a>  select <span class="ot">&lt;-</span> dplyr<span class="sc">::</span>select </span>
<span id="cb943-2"><a href="preprocessing.html#cb943-2" aria-hidden="true" tabindex="-1"></a>  a2 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, Manufacturer, Max.Price, MPG.highway)</span>
<span id="cb943-3"><a href="preprocessing.html#cb943-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(a2)</span></code></pre></div>
<pre><code>##   Manufacturer Max.Price MPG.highway
## 1        Acura      18.8          31
## 2        Acura      38.7          25
## 3         Audi      32.3          26
## 4         Audi      44.6          26
## 5          BMW      36.2          30
## 6        Buick      17.3          31</code></pre>
<div class="sourceCode" id="cb945"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb945-1"><a href="preprocessing.html#cb945-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 또는</span></span>
<span id="cb945-2"><a href="preprocessing.html#cb945-2" aria-hidden="true" tabindex="-1"></a>  a3 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span> </span>
<span id="cb945-3"><a href="preprocessing.html#cb945-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Manufacturer, Max.Price, MPG.highway)</span>
<span id="cb945-4"><a href="preprocessing.html#cb945-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(a3)</span></code></pre></div>
<pre><code>##   Manufacturer Max.Price MPG.highway
## 1        Acura      18.8          31
## 2        Acura      38.7          25
## 3         Audi      32.3          26
## 4         Audi      44.6          26
## 5          BMW      36.2          30
## 6        Buick      17.3          31</code></pre>
<ul>
<li>(방법 3) <code>MASS</code> 패키지를 먼저 로딩하고, 나중에 <code>dplyr</code> 패키지를 로딩하기</li>
</ul>
<div class="sourceCode" id="cb947"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb947-1"><a href="preprocessing.html#cb947-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(MASS) </span>
<span id="cb947-2"><a href="preprocessing.html#cb947-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(dplyr)                                              <span class="co"># dplyr loading after MASS</span></span>
<span id="cb947-3"><a href="preprocessing.html#cb947-3" aria-hidden="true" tabindex="-1"></a>  a4 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93, Manufacturer, Max.Price, MPG.highway)</span>
<span id="cb947-4"><a href="preprocessing.html#cb947-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(a4)</span></code></pre></div>
<pre><code>##   Manufacturer Max.Price MPG.highway
## 1        Acura      18.8          31
## 2        Acura      38.7          25
## 3         Audi      32.3          26
## 4         Audi      44.6          26
## 5          BMW      36.2          30
## 6        Buick      17.3          31</code></pre>
<p>이제 정상적으로 3개의 컬럼이 선택되어 출력이 된다.</p>
</div>
<div id="a번째-부터-n번째의-연속적-컬럼-선택" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> a번째 부터 n번째의 연속적 컬럼 선택</h3>
<blockquote>
<p><strong><code>select(dataframe, VAR_a:VAR_n, ...)</code></strong></p>
<ul>
<li><p>dataframe : 데이터 세트</p></li>
<li><p>VAR_a:VAR_n : a번째부터 n번째 변수</p></li>
</ul>
</blockquote>
<p>서로 인접한 연속된 변수들을 선택하고자 할 때는 예시처럼 <strong>‘<code>:</code>’</strong>를 사용한다.</p>
<p><code>Cars93_1</code> 데이터 세트에서 1번째에 위치한 제조사(<code>Manufacturer</code>) ~ 5번째에 위치한 가격(<code>Price</code>)까지 연속적으로 5개의 변수들을 선택해 보자. (<strong>컬럼의 이름</strong>으로)</p>
<div class="sourceCode" id="cb949"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb949-1"><a href="preprocessing.html#cb949-1" aria-hidden="true" tabindex="-1"></a>a5 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, Manufacturer<span class="sc">:</span>Price)</span>
<span id="cb949-2"><a href="preprocessing.html#cb949-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a5)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
<div class="sourceCode" id="cb951"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb951-1"><a href="preprocessing.html#cb951-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb951-2"><a href="preprocessing.html#cb951-2" aria-hidden="true" tabindex="-1"></a>a6 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb951-3"><a href="preprocessing.html#cb951-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(Manufacturer<span class="sc">:</span>Price)</span>
<span id="cb951-4"><a href="preprocessing.html#cb951-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a6)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
<ul>
<li>위의 결과로 <code>Manufacturer</code>, <code>Model</code>, <code>Type</code>, <code>Min.Price</code>, 그리고 <code>Price</code> 등의 5개의 컬럼이 선택된다.</li>
</ul>
<p>아래와 같이 <strong>연속적인 컬럼의 위치</strong>를 알고 있으면 (가령 a부터 n번째 위치) <strong>‘<code>a:n</code>’</strong>처럼 숫자를 직접 입력해주면 바로 위의 결과와 동일한 결과를 얻을 수 있다.</p>
<div class="sourceCode" id="cb953"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb953-1"><a href="preprocessing.html#cb953-1" aria-hidden="true" tabindex="-1"></a>a7 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb953-2"><a href="preprocessing.html#cb953-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a7)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
<div class="sourceCode" id="cb955"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb955-1"><a href="preprocessing.html#cb955-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb955-2"><a href="preprocessing.html#cb955-2" aria-hidden="true" tabindex="-1"></a>a8 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb955-3"><a href="preprocessing.html#cb955-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb955-4"><a href="preprocessing.html#cb955-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a8)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
<p>참고로, <code>dplyr</code> 패키지의 <code>select()</code> 함수는 <code>base</code>패키지에 내장되어 있는 <code>subset(dataframe, select=...)</code> 함수와 기능이 같다. 아래의 <code>subset()</code> 함수의 결과와 비교해 보면, 그 결과가 위와 같다.</p>
<div class="sourceCode" id="cb957"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb957-1"><a href="preprocessing.html#cb957-1" aria-hidden="true" tabindex="-1"></a>a9 <span class="ot">&lt;-</span> <span class="fu">subset</span>(Cars93_1, <span class="at">select =</span> <span class="fu">c</span>(Manufacturer<span class="sc">:</span>Price))</span>
<span id="cb957-2"><a href="preprocessing.html#cb957-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a9)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
<div class="sourceCode" id="cb959"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb959-1"><a href="preprocessing.html#cb959-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb959-2"><a href="preprocessing.html#cb959-2" aria-hidden="true" tabindex="-1"></a>a10 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb959-3"><a href="preprocessing.html#cb959-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">subset</span>(<span class="at">select =</span> <span class="fu">c</span>(Manufacturer<span class="sc">:</span>Price))</span>
<span id="cb959-4"><a href="preprocessing.html#cb959-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a10)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
<div class="sourceCode" id="cb961"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb961-1"><a href="preprocessing.html#cb961-1" aria-hidden="true" tabindex="-1"></a>a11 <span class="ot">&lt;-</span> <span class="fu">subset</span>(Cars93_1, <span class="at">select =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb961-2"><a href="preprocessing.html#cb961-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a11)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
<div class="sourceCode" id="cb963"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb963-1"><a href="preprocessing.html#cb963-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb963-2"><a href="preprocessing.html#cb963-2" aria-hidden="true" tabindex="-1"></a>a12 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb963-3"><a href="preprocessing.html#cb963-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">subset</span>(<span class="at">select =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb963-4"><a href="preprocessing.html#cb963-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a12)</span></code></pre></div>
<pre><code>##   Manufacturer   Model    Type Min.Price Price
## 1        Acura Integra   Small      12.9  15.9
## 2        Acura  Legend Midsize      29.2  33.9
## 3         Audi      90 Compact      25.9  29.1
## 4         Audi     100 Midsize      30.8  37.7
## 5          BMW    535i Midsize      23.7  30.0
## 6        Buick Century Midsize      14.2  15.7</code></pre>
</div>
<div id="a번째-부터-n번째의-연속적-컬럼을-제외한-선택" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> <code>a</code>번째 부터 <code>n</code>번째의 연속적 컬럼을 제외한 선택</h3>
<blockquote>
<p><strong>select(dataframe, -(VAR_a:VAR_n, …))</strong></p>
<ul>
<li><p>dataframe : 데이터 세트</p></li>
<li><p>VAR_a:VAR_n : a번째부터 n번째 변수</p></li>
</ul>
</blockquote>
<p>컬럼 이름 앞에 <strong>‘<code>-</code>’(minus) 부호</strong>를 사용하면, 그 컬럼은 제외하고 선택하게 된다.</p>
<div class="sourceCode" id="cb965"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb965-1"><a href="preprocessing.html#cb965-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(dataframe, -var1, -var2, ...) : to drop variables</span></span>
<span id="cb965-2"><a href="preprocessing.html#cb965-2" aria-hidden="true" tabindex="-1"></a>a13 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="sc">-</span>(Manufacturer<span class="sc">:</span>Price)); <span class="fu">head</span>(a13)</span></code></pre></div>
<pre><code>##   Max.Price MPG.city MPG.highway
## 1      18.8       25          31
## 2      38.7       18          25
## 3      32.3       20          26
## 4      44.6       19          26
## 5      36.2       22          30
## 6      17.3       22          31</code></pre>
<div class="sourceCode" id="cb967"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb967-1"><a href="preprocessing.html#cb967-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb967-2"><a href="preprocessing.html#cb967-2" aria-hidden="true" tabindex="-1"></a>a14 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)); <span class="fu">head</span>(a14)</span></code></pre></div>
<pre><code>##   Max.Price MPG.city MPG.highway
## 1      18.8       25          31
## 2      38.7       18          25
## 3      32.3       20          26
## 4      44.6       19          26
## 5      36.2       22          30
## 6      17.3       22          31</code></pre>
<div class="sourceCode" id="cb969"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb969-1"><a href="preprocessing.html#cb969-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb969-2"><a href="preprocessing.html#cb969-2" aria-hidden="true" tabindex="-1"></a>a15 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb969-3"><a href="preprocessing.html#cb969-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="sc">-</span>(Manufacturer<span class="sc">:</span>Price))</span>
<span id="cb969-4"><a href="preprocessing.html#cb969-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a15)</span></code></pre></div>
<pre><code>##   Max.Price MPG.city MPG.highway
## 1      18.8       25          31
## 2      38.7       18          25
## 3      32.3       20          26
## 4      44.6       19          26
## 5      36.2       22          30
## 6      17.3       22          31</code></pre>
<div class="sourceCode" id="cb971"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb971-1"><a href="preprocessing.html#cb971-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb971-2"><a href="preprocessing.html#cb971-2" aria-hidden="true" tabindex="-1"></a>a16 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb971-3"><a href="preprocessing.html#cb971-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span>
<span id="cb971-4"><a href="preprocessing.html#cb971-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a16)         </span></code></pre></div>
<pre><code>##   Max.Price MPG.city MPG.highway
## 1      18.8       25          31
## 2      38.7       18          25
## 3      32.3       20          26
## 4      44.6       19          26
## 5      36.2       22          30
## 6      17.3       22          31</code></pre>
</div>
<div id="컬럼-이름의-앞-부분을-지정하여-선택" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> 컬럼 이름의 ’앞 부분’을 지정하여 선택</h3>
<blockquote>
<p><strong>select(dataframe, starts_with(“xx_name”))</strong></p>
<ul>
<li>dataframe : 데이터 세트</li>
<li>starts_with(“xx_name”) :컬럼 이름이 “<code>xx_name</code>”으로 시작하는 모든 컬럼 선택</li>
</ul>
</blockquote>
<p><code>select()</code> 함수의 인수로 <code>starts_with()</code> 를 사용하여 “<code>xx_name</code>”으로 시작하는 모든 컬럼을 선택할 수 있다.</p>
<p><code>Cars93_1</code> 데이터 프레임에서 “<code>MPG</code>”로 시작하는 모든 변수를 선택해 보자.</p>
<div class="sourceCode" id="cb973"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb973-1"><a href="preprocessing.html#cb973-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(dataframe, starts_with(&quot;xx_name&quot;))</span></span>
<span id="cb973-2"><a href="preprocessing.html#cb973-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  : select all variables, starting with a &quot;xx_name&quot; prefix</span></span>
<span id="cb973-3"><a href="preprocessing.html#cb973-3" aria-hidden="true" tabindex="-1"></a>a17 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="fu">starts_with</span>(<span class="st">&quot;MPG&quot;</span>))</span>
<span id="cb973-4"><a href="preprocessing.html#cb973-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a17)</span></code></pre></div>
<pre><code>##   MPG.city MPG.highway
## 1       25          31
## 2       18          25
## 3       20          26
## 4       19          26
## 5       22          30
## 6       22          31</code></pre>
<div class="sourceCode" id="cb975"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb975-1"><a href="preprocessing.html#cb975-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb975-2"><a href="preprocessing.html#cb975-2" aria-hidden="true" tabindex="-1"></a>a18 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb975-3"><a href="preprocessing.html#cb975-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">&quot;MPG&quot;</span>))</span>
<span id="cb975-4"><a href="preprocessing.html#cb975-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a18)</span></code></pre></div>
<pre><code>##   MPG.city MPG.highway
## 1       25          31
## 2       18          25
## 3       20          26
## 4       19          26
## 5       22          30
## 6       22          31</code></pre>
<ul>
<li>“<code>MPG</code>”로 시작하는 컬럼으로 “<code>MPG.city</code>”(도시 연비), “<code>MPG.highway</code>”(고속도로 연비) 두 개의 컬럼이 출력된다.</li>
</ul>
</div>
<div id="컬럼-이름의-끝-부분을-지정하여-선택" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> 컬럼 이름의 ’끝 부분’을 지정하여 선택</h3>
<blockquote>
<p><strong>select(dataframe, ends_with(“xx_name”))</strong></p>
<ul>
<li>dataframe : 데이터 세트</li>
<li>ends_with(“xx_name”) :컬럼 이름이 “<code>xx_name</code>”으로 끝나는 모든 컬럼 선택</li>
</ul>
</blockquote>
<p><code>starts_with</code>가<code>()</code> 있으면 <code>ends_with()</code>도 있다. “<code>xx_name</code>”으로 끝나는 모든 컬럼을 선택하고 싶다면 <code>select()</code> 함수 안에 인수로 <code>ends_with()</code> 를 추가해주면 된다.</p>
<p><code>Cars93_1</code> 데이터 프레임에서 “<code>Price</code>”로 끝나는 모든 변수를 선택해 보자</p>
<div class="sourceCode" id="cb977"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb977-1"><a href="preprocessing.html#cb977-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(dataframe, ends_with(&quot;xx_name&quot;)) </span></span>
<span id="cb977-2"><a href="preprocessing.html#cb977-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   : select all variables, ending with a &quot;xx_name&quot; prefix </span></span>
<span id="cb977-3"><a href="preprocessing.html#cb977-3" aria-hidden="true" tabindex="-1"></a>a19 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="fu">ends_with</span>(<span class="st">&quot;Price&quot;</span>))</span>
<span id="cb977-4"><a href="preprocessing.html#cb977-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a19)</span></code></pre></div>
<pre><code>##   Min.Price Price Max.Price
## 1      12.9  15.9      18.8
## 2      29.2  33.9      38.7
## 3      25.9  29.1      32.3
## 4      30.8  37.7      44.6
## 5      23.7  30.0      36.2
## 6      14.2  15.7      17.3</code></pre>
<div class="sourceCode" id="cb979"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb979-1"><a href="preprocessing.html#cb979-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb979-2"><a href="preprocessing.html#cb979-2" aria-hidden="true" tabindex="-1"></a>a20 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb979-3"><a href="preprocessing.html#cb979-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">&quot;Price&quot;</span>))</span>
<span id="cb979-4"><a href="preprocessing.html#cb979-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a20)</span></code></pre></div>
<pre><code>##   Min.Price Price Max.Price
## 1      12.9  15.9      18.8
## 2      29.2  33.9      38.7
## 3      25.9  29.1      32.3
## 4      30.8  37.7      44.6
## 5      23.7  30.0      36.2
## 6      14.2  15.7      17.3</code></pre>
<ul>
<li>“<code>Price</code>”로 끝나는 컬럼이 “<code>Min.Price</code>,” “<code>Price</code>,” “<code>Max.Price</code>” 등 3개가 있음을 알 수 있다.</li>
</ul>
</div>
<div id="컬럼-이름의-일부를-포함하는-컬럼-선택" class="section level3" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> 컬럼 이름의 일부를 포함하는 컬럼 선택</h3>
<blockquote>
<p><strong>select(dataframe, contains(“xx_name”))</strong></p>
<ul>
<li>dataframe : 데이터 세트</li>
<li>contains(“xx_name”) : 컬럼 이름이 “xx_name”을 포함하는 모든 컬럼 선택</li>
</ul>
</blockquote>
<p><code>select()</code> 함수에 <code>contains()</code> 인수를 사용하면 특정 문자열을 포함하는 모든 컬럼을 선택할 수 있다.</p>
<p>이때 “<code>xx_name</code>”은 대소문자를 구분하지 않는다.</p>
<p><code>Cars93_1</code> 데이터 프레임에 있는 컬럼들 중에서 “<code>P</code>”를 포함하는 모든 컬럼을 선택해 보자.</p>
<div class="sourceCode" id="cb981"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb981-1"><a href="preprocessing.html#cb981-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(dataframe, contains(&quot;xx_string&quot;)) </span></span>
<span id="cb981-2"><a href="preprocessing.html#cb981-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   : select all variables which contains a &quot;xx_string&quot; literal string </span></span>
<span id="cb981-3"><a href="preprocessing.html#cb981-3" aria-hidden="true" tabindex="-1"></a>a21 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="fu">contains</span>(<span class="st">&quot;P&quot;</span>))</span>
<span id="cb981-4"><a href="preprocessing.html#cb981-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a21)</span></code></pre></div>
<pre><code>##      Type Min.Price Price Max.Price MPG.city MPG.highway
## 1   Small      12.9  15.9      18.8       25          31
## 2 Midsize      29.2  33.9      38.7       18          25
## 3 Compact      25.9  29.1      32.3       20          26
## 4 Midsize      30.8  37.7      44.6       19          26
## 5 Midsize      23.7  30.0      36.2       22          30
## 6 Midsize      14.2  15.7      17.3       22          31</code></pre>
<div class="sourceCode" id="cb983"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb983-1"><a href="preprocessing.html#cb983-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb983-2"><a href="preprocessing.html#cb983-2" aria-hidden="true" tabindex="-1"></a>a22 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb983-3"><a href="preprocessing.html#cb983-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;P&quot;</span>))</span>
<span id="cb983-4"><a href="preprocessing.html#cb983-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a22)</span></code></pre></div>
<pre><code>##      Type Min.Price Price Max.Price MPG.city MPG.highway
## 1   Small      12.9  15.9      18.8       25          31
## 2 Midsize      29.2  33.9      38.7       18          25
## 3 Compact      25.9  29.1      32.3       20          26
## 4 Midsize      30.8  37.7      44.6       19          26
## 5 Midsize      23.7  30.0      36.2       22          30
## 6 Midsize      14.2  15.7      17.3       22          31</code></pre>
<ul>
<li>“<code>P</code>”를 포함하는 컬럼으로 “<code>Type</code>”(소문자 ‘<code>p</code>’ 포함, 대소문자 구분 안함), “<code>Min.Price</code>,” “<code>Price</code>,” “<code>Max.Price</code>,” “<code>MPG.city</code>,” “<code>MPG.highway</code>” 등 총 6개의 컬럼이 있다.</li>
</ul>
</div>
<div id="정규-표현식과-일치하는-문자열을-포함하는-컬럼-선택" class="section level3" number="4.3.7">
<h3><span class="header-section-number">4.3.7</span> 정규 표현식과 일치하는 문자열을 포함하는 컬럼 선택</h3>
<blockquote>
<p><strong>select(dataframe, matches(“.xx_string.”))</strong></p>
<ul>
<li><p>dataframe : 데이터 세트</p></li>
<li><p>matches(“<strong>.xx_string.</strong>”) : 정규 표현식과 일치하는 문자열이 포함된 모든 컬럼 선택</p></li>
</ul>
</blockquote>
<p>여기서도 대소문자는 구분하지 않는다. <strong>정규 표현식(regular expressions)</strong>에 대해서는 추후에 학습하기로 한다.</p>
<p>Cars93_1의 데이터 프레임에 있는 컬럼 중 그 이름의 중간에 “P”를 포함하는(정규표현식 - “<strong><code>.P.</code></strong>”) 모든 컬럼을 선택해 보자.</p>
<div class="sourceCode" id="cb985"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb985-1"><a href="preprocessing.html#cb985-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(dataframe, matches(&quot;.xx_string.&quot;)) </span></span>
<span id="cb985-2"><a href="preprocessing.html#cb985-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   : Select columns that match a regular expression </span></span>
<span id="cb985-3"><a href="preprocessing.html#cb985-3" aria-hidden="true" tabindex="-1"></a>a23 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="fu">matches</span>(<span class="st">&quot;.P.&quot;</span>)); <span class="fu">head</span>(a23)</span></code></pre></div>
<pre><code>##      Type Min.Price Max.Price MPG.city MPG.highway
## 1   Small      12.9      18.8       25          31
## 2 Midsize      29.2      38.7       18          25
## 3 Compact      25.9      32.3       20          26
## 4 Midsize      30.8      44.6       19          26
## 5 Midsize      23.7      36.2       22          30
## 6 Midsize      14.2      17.3       22          31</code></pre>
<div class="sourceCode" id="cb987"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb987-1"><a href="preprocessing.html#cb987-1" aria-hidden="true" tabindex="-1"></a>a24 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="fu">matches</span>(<span class="st">&quot;P&quot;</span>)); <span class="fu">head</span>(a24)           <span class="co"># exactly the same with contains(&quot;P&quot;)</span></span></code></pre></div>
<pre><code>##      Type Min.Price Price Max.Price MPG.city MPG.highway
## 1   Small      12.9  15.9      18.8       25          31
## 2 Midsize      29.2  33.9      38.7       18          25
## 3 Compact      25.9  29.1      32.3       20          26
## 4 Midsize      30.8  37.7      44.6       19          26
## 5 Midsize      23.7  30.0      36.2       22          30
## 6 Midsize      14.2  15.7      17.3       22          31</code></pre>
<div class="sourceCode" id="cb989"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb989-1"><a href="preprocessing.html#cb989-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb989-2"><a href="preprocessing.html#cb989-2" aria-hidden="true" tabindex="-1"></a>a25 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb989-3"><a href="preprocessing.html#cb989-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;.P.&quot;</span>))</span>
<span id="cb989-4"><a href="preprocessing.html#cb989-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a25)</span></code></pre></div>
<pre><code>##      Type Min.Price Max.Price MPG.city MPG.highway
## 1   Small      12.9      18.8       25          31
## 2 Midsize      29.2      38.7       18          25
## 3 Compact      25.9      32.3       20          26
## 4 Midsize      30.8      44.6       19          26
## 5 Midsize      23.7      36.2       22          30
## 6 Midsize      14.2      17.3       22          31</code></pre>
<div class="sourceCode" id="cb991"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb991-1"><a href="preprocessing.html#cb991-1" aria-hidden="true" tabindex="-1"></a>a26 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb991-2"><a href="preprocessing.html#cb991-2" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;P&quot;</span>))</span>
<span id="cb991-3"><a href="preprocessing.html#cb991-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a26)</span></code></pre></div>
<pre><code>##      Type Min.Price Price Max.Price MPG.city MPG.highway
## 1   Small      12.9  15.9      18.8       25          31
## 2 Midsize      29.2  33.9      38.7       18          25
## 3 Compact      25.9  29.1      32.3       20          26
## 4 Midsize      30.8  37.7      44.6       19          26
## 5 Midsize      23.7  30.0      36.2       22          30
## 6 Midsize      14.2  15.7      17.3       22          31</code></pre>
<ul>
<li><p>위에 <code>match()</code> 옵션 안에 첫 예제는 (“<code>.P.</code>”)를, 두번 째 예제는 점이 없이 (“<code>P</code>”)를 사용했다.</p></li>
<li><p>앞 뒤로 <strong>‘<code>.</code>’(dot)</strong> 을 붙이면 시작과 끝 말고 컬럼명의 중간에 특정 문자열이 포함된 컬럼을 선택하라는 뜻이다.</p></li>
<li><p><code>matches(".P.")</code> 로 한 경우에는 “<code>P</code>”로 시작하는 “<code>Price</code>” 컬럼이 선택되지 않지만, 그냥 <code>matches("P")</code>로 한 경우는 “<code>P</code>”로 시작하는 “<code>Price</code>” 컬럼도 포함되어 있음을 알 수 있다.</p></li>
<li><p>참고로, ‘<code>.</code>’(dot) 이 없이 <code>matches()</code>를 쓰면 <code>contains()</code> 와 동일한 결과를 반환합니다.</p></li>
</ul>
</div>
<div id="원하는-컬럼-명의-그룹에-포함된-컬럼-선택" class="section level3" number="4.3.8">
<h3><span class="header-section-number">4.3.8</span> 원하는 컬럼 명의 그룹에 포함된 컬럼 선택</h3>
<blockquote>
<p><strong>select(dataframe, one_of(vars))</strong></p>
<ul>
<li>dataframe : 데이터 세트</li>
<li>one_of(vars) : 컬럼 이름의 그룹(<strong>vars</strong>)에 포함된 모든 컬럼 선택</li>
</ul>
</blockquote>
<p><code>Cars93_1</code>의 데이터 프레임 중에서 “<code>Manufacturer</code>,” “<code>MAX.Price</code>,” “<code>MPG.highway</code>” 등 3개의 컬럼 이름을 포함하는 컬럼 그룹이 있다고 할 때, <code>Cars93_1</code> 데이터 프레임에서 이 컬럼 그룹에 있는 컬럼이 있다면(&lt;- 즉, 있을 수도 있지만 없을 수도 있다는 뜻임!) 모두 선택해 보자.</p>
<div class="sourceCode" id="cb993"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb993-1"><a href="preprocessing.html#cb993-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(dataframe, one_of(vars)) </span></span>
<span id="cb993-2"><a href="preprocessing.html#cb993-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   : Select columns that are from a group of names </span></span>
<span id="cb993-3"><a href="preprocessing.html#cb993-3" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Manufacturer&quot;</span>, <span class="st">&quot;MAX.Price&quot;</span>, <span class="st">&quot;MPG.highway&quot;</span>) </span>
<span id="cb993-4"><a href="preprocessing.html#cb993-4" aria-hidden="true" tabindex="-1"></a>a27 <span class="ot">&lt;-</span> <span class="fu">select</span>(Cars93_1, <span class="fu">one_of</span>(vars))</span></code></pre></div>
<pre><code>## Warning: Unknown columns: `MAX.Price`</code></pre>
<div class="sourceCode" id="cb995"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb995-1"><a href="preprocessing.html#cb995-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a27)</span></code></pre></div>
<pre><code>##   Manufacturer MPG.highway
## 1        Acura          31
## 2        Acura          25
## 3         Audi          26
## 4         Audi          26
## 5          BMW          30
## 6        Buick          31</code></pre>
<div class="sourceCode" id="cb997"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb997-1"><a href="preprocessing.html#cb997-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb997-2"><a href="preprocessing.html#cb997-2" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Manufacturer&quot;</span>, <span class="st">&quot;MAX.Price&quot;</span>, <span class="st">&quot;MPG.highway&quot;</span>) </span>
<span id="cb997-3"><a href="preprocessing.html#cb997-3" aria-hidden="true" tabindex="-1"></a>a28 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb997-4"><a href="preprocessing.html#cb997-4" aria-hidden="true" tabindex="-1"></a>         <span class="fu">select</span>(<span class="fu">one_of</span>(vars))</span></code></pre></div>
<pre><code>## Warning: Unknown columns: `MAX.Price`</code></pre>
<div class="sourceCode" id="cb999"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb999-1"><a href="preprocessing.html#cb999-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a28)</span></code></pre></div>
<pre><code>##   Manufacturer MPG.highway
## 1        Acura          31
## 2        Acura          25
## 3         Audi          26
## 4         Audi          26
## 5          BMW          30
## 6        Buick          31</code></pre>
<ul>
<li><p>위의 결과로 “<code>MAX.Price</code>”라는 컬럼에 대해서는 “<code>Unknown variables</code>”라고 해서 Warning mesage가 뜬다.</p></li>
<li><p><code>Cars93_1</code>에 보면 “<code>Max.Price</code>”라는 컬럼은 있어도 “<code>MAX.Price</code>”라는 컬럼이 없다.이처럼 변수 그룹 <code>vars</code> 에 나열된 이름 중에서 데이터 프레임에 포함된 컬럼에 대해서는 선택되지만. 해당 컬럼이 없다면 Warning message를 보여준다.</p></li>
</ul>
<p>반면에 그냥 <code>select()</code> 함수로 위의 컬럼 그룹을 선택해보면, 아래처럼 “Error: Can’t subset columns that don’t exist. x Column <code>MAX.Price</code> doesn’t exist.” error 메시지만 표시가 된다.</p>
<div class="sourceCode" id="cb1001"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1001-1"><a href="preprocessing.html#cb1001-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(Cars93_1, Manufacturer, MAX.Price, MPG.highway)</span></span></code></pre></div>
</div>
<div id="컬럼-이름의-접두사와-숫자-범위를-조합하여-컬럼-선택" class="section level3" number="4.3.9">
<h3><span class="header-section-number">4.3.9</span> 컬럼 이름의 접두사와 숫자 범위를 조합하여 컬럼 선택</h3>
<blockquote>
<p><strong><code>select(dataframe, num_range("V", a:n))</code></strong></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>num_range("V", a:n)</code>: 접두사(“<code>V</code>”)와 숫자 범위(“<code>a:n</code>”)를 조합하여 <code>Va</code> 컬럼 부터 <code>Vn</code> 컬럼까지 선택</li>
</ul>
</blockquote>
<p>변수 이름이 동일하게 특정 접두사로 시작하는 데이터 프레임의 경우 이 기능을 유용하게 사용할 수 있다.</p>
<p>“<code>V1</code>,” “<code>V2</code>,” “<code>V3</code>,” “<code>V4</code>” 등의 4개 변수를 가진 <code>df</code> 데이터 프레임에서 “<code>V2</code>,” “<code>V3</code>” 변수를 선택해 보자. 단, 이때 접두사 “<code>V</code>”와 숫자 범위 <code>2:3</code> 을 조합해서 쓰는 <code>num_range()</code> 옵션을 사용하면 다음과 같다.</p>
<div class="sourceCode" id="cb1002"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1002-1"><a href="preprocessing.html#cb1002-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select(df, num_range(&quot;V&quot;, a:n)) </span></span>
<span id="cb1002-2"><a href="preprocessing.html#cb1002-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   : Select columns from num_range a to n with a prefix </span></span>
<span id="cb1002-3"><a href="preprocessing.html#cb1002-3" aria-hidden="true" tabindex="-1"></a>V1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">10</span>)) </span>
<span id="cb1002-4"><a href="preprocessing.html#cb1002-4" aria-hidden="true" tabindex="-1"></a>V2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">5</span>)) </span>
<span id="cb1002-5"><a href="preprocessing.html#cb1002-5" aria-hidden="true" tabindex="-1"></a>V3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">2</span>)) </span>
<span id="cb1002-6"><a href="preprocessing.html#cb1002-6" aria-hidden="true" tabindex="-1"></a>V4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)) </span>
<span id="cb1002-7"><a href="preprocessing.html#cb1002-7" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(V1, V2, V3, V4) </span>
<span id="cb1002-8"><a href="preprocessing.html#cb1002-8" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##    V1 V2 V3 V4
## 1   1  1  1  1
## 2   1  2  2  2
## 3   1  1  3  3
## 4   1  2  4  4
## 5   1  1  5  5
## 6   1  2  1  6
## 7   1  1  2  7
## 8   1  2  3  8
## 9   1  1  4  9
## 10  1  2  5 10</code></pre>
<div class="sourceCode" id="cb1004"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1004-1"><a href="preprocessing.html#cb1004-1" aria-hidden="true" tabindex="-1"></a>a29 <span class="ot">&lt;-</span> <span class="fu">select</span>(df, <span class="fu">num_range</span>(<span class="st">&quot;V&quot;</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>))</span>
<span id="cb1004-2"><a href="preprocessing.html#cb1004-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a29)</span></code></pre></div>
<pre><code>##   V2 V3
## 1  1  1
## 2  2  2
## 3  1  3
## 4  2  4
## 5  1  5
## 6  2  1</code></pre>
<div class="sourceCode" id="cb1006"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1006-1"><a href="preprocessing.html#cb1006-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1006-2"><a href="preprocessing.html#cb1006-2" aria-hidden="true" tabindex="-1"></a>a30 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb1006-3"><a href="preprocessing.html#cb1006-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(<span class="fu">num_range</span>(<span class="st">&quot;V&quot;</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>))</span>
<span id="cb1006-4"><a href="preprocessing.html#cb1006-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(a30)</span></code></pre></div>
<pre><code>##   V2 V3
## 1  1  1
## 2  2  2
## 3  1  3
## 4  2  4
## 5  1  5
## 6  2  1</code></pre>
</div>
</div>
<div id="filter-함수를-이용한-행의-선택" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> <code>filter()</code> 함수를 이용한 행의 선택</h2>
<div id="filter-함수의-기본-형식" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> <code>filter()</code> 함수의 기본 형식</h3>
<blockquote>
<p><strong>filter(dataframe, filter condition 1, filter condition 2, …)</strong></p>
<ul>
<li><p>dataframe : 데이터 세트</p></li>
<li><p>filter condition : &amp;(<strong>AND</strong>) 조건으로 행의 부분집합 선택. 조건을 컴마(‘<code>,</code>’)로 구분</p></li>
</ul>
</blockquote>
</div>
<div id="단일-조건에-의한-행의-선택" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> 단일 조건에 의한 행의 선택</h3>
<p><code>Cars93_1</code> 데이터 프레임에 차종(<code>Type</code>)별로 보면 <code>Compact 차종</code>이 총 16개 있음을 알 수 있습니다.</p>
<div class="sourceCode" id="cb1008"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1008-1"><a href="preprocessing.html#cb1008-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of cars by `Type` </span></span>
<span id="cb1008-2"><a href="preprocessing.html#cb1008-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(Cars93_1<span class="sc">$</span>Type)</span></code></pre></div>
<pre><code>## 
## Compact   Large Midsize   Small  Sporty     Van 
##      16      11      22      21      14       9</code></pre>
<div class="sourceCode" id="cb1010"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1010-1"><a href="preprocessing.html#cb1010-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter() : select a subset of rows in a data frame</span></span>
<span id="cb1010-2"><a href="preprocessing.html#cb1010-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(Cars93_1, Type <span class="sc">==</span> <span class="fu">c</span>(<span class="st">&quot;Compact&quot;</span>))</span></code></pre></div>
<pre><code>##     Manufacturer    Model    Type Min.Price Price Max.Price MPG.city
## 1           Audi       90 Compact      25.9  29.1      32.3       20
## 2      Chevrolet Cavalier Compact       8.5  13.4      18.3       25
## 3      Chevrolet  Corsica Compact      11.4  11.4      11.4       25
## 4       Chrysler  LeBaron Compact      14.5  15.8      17.1       23
## 5          Dodge   Spirit Compact      11.9  13.3      14.7       22
## 6           Ford    Tempo Compact      10.4  11.3      12.2       22
## 7          Honda   Accord Compact      13.8  17.5      21.2       24
## 8          Mazda      626 Compact      14.3  16.5      18.7       26
## 9  Mercedes-Benz     190E Compact      29.0  31.9      34.9       20
## 10        Nissan   Altima Compact      13.0  15.7      18.3       24
## 11    Oldsmobile  Achieva Compact      13.0  13.5      14.0       24
## 12       Pontiac  Sunbird Compact       9.4  11.1      12.8       23
## 13          Saab      900 Compact      20.3  28.7      37.1       20
## 14        Subaru   Legacy Compact      16.3  19.5      22.7       23
## 15    Volkswagen   Passat Compact      17.6  20.0      22.4       21
## 16         Volvo      240 Compact      21.8  22.7      23.5       21
##    MPG.highway
## 1           26
## 2           36
## 3           34
## 4           28
## 5           27
## 6           27
## 7           31
## 8           34
## 9           29
## 10          30
## 11          31
## 12          31
## 13          26
## 14          30
## 15          30
## 16          28</code></pre>
</div>
<div id="복수-조건을-and로-결합한-행의-선택" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> 복수 조건을 AND(<code>,</code>)로 결합한 행의 선택</h3>
<p>행을 선택하는 조건이 여러 개이면 동시에 만족해야 하는 경우는 AND 연산에 의한 조건 결합으로 행을 선택한다. 예를 들어, 차종(<code>Type</code>)이 “<code>Compact</code>”이면서(<code>Type == c(“Compact”)</code>) , 최대가격(<code>Max.Price</code>)이 20 백$ 이하이고 (<code>Max.Price &lt;-20</code>), 고속도로 연비(<code>MPG.highway</code>) 가 30 이상 (<code>MPG.highway &gt; 30</code>)인 관측치를 선택해 보자. 이 경우는 3개의 행 선택 조건이 모두 AND로 결합되는 것이다. 이때에는 이들 세 개의 조건식을 컴마(<code>,</code>)로 구분해 주면 된다.</p>
<p>따라서 위의 문제를 <code>dplyr</code>의 <code>filter()</code> 함수를 사용하여 나타내면 다음과 같다. 참고로, <code>subset()</code> 함수의 <code>subset()</code>과 동일한 기능을 한다.</p>
<div class="sourceCode" id="cb1012"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1012-1"><a href="preprocessing.html#cb1012-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter() : select a subset of rows in a data frame</span></span>
<span id="cb1012-2"><a href="preprocessing.html#cb1012-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(Cars93_1, Type <span class="sc">==</span> <span class="fu">c</span>(<span class="st">&quot;Compact&quot;</span>), Max.Price <span class="sc">&lt;=</span> <span class="dv">20</span>, MPG.highway <span class="sc">&gt;=</span> <span class="dv">30</span>)</span></code></pre></div>
<pre><code>##   Manufacturer    Model    Type Min.Price Price Max.Price MPG.city MPG.highway
## 1    Chevrolet Cavalier Compact       8.5  13.4      18.3       25          36
## 2    Chevrolet  Corsica Compact      11.4  11.4      11.4       25          34
## 3        Mazda      626 Compact      14.3  16.5      18.7       26          34
## 4       Nissan   Altima Compact      13.0  15.7      18.3       24          30
## 5   Oldsmobile  Achieva Compact      13.0  13.5      14.0       24          31
## 6      Pontiac  Sunbird Compact       9.4  11.1      12.8       23          31</code></pre>
<div class="sourceCode" id="cb1014"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1014-1"><a href="preprocessing.html#cb1014-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1014-2"><a href="preprocessing.html#cb1014-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb1014-3"><a href="preprocessing.html#cb1014-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Type <span class="sc">==</span> <span class="fu">c</span>(<span class="st">&quot;Compact&quot;</span>), Max.Price <span class="sc">&lt;=</span> <span class="dv">20</span>, MPG.highway <span class="sc">&gt;=</span> <span class="dv">30</span>)</span></code></pre></div>
<pre><code>##   Manufacturer    Model    Type Min.Price Price Max.Price MPG.city MPG.highway
## 1    Chevrolet Cavalier Compact       8.5  13.4      18.3       25          36
## 2    Chevrolet  Corsica Compact      11.4  11.4      11.4       25          34
## 3        Mazda      626 Compact      14.3  16.5      18.7       26          34
## 4       Nissan   Altima Compact      13.0  15.7      18.3       24          30
## 5   Oldsmobile  Achieva Compact      13.0  13.5      14.0       24          31
## 6      Pontiac  Sunbird Compact       9.4  11.1      12.8       23          31</code></pre>
<ul>
<li>세 개의 조건을 동시에 만족하는 관측치의 갯수는 6개임을 알 수 있다.</li>
</ul>
</div>
<div id="복수-조건을-or로-결합한-행의-선택" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> 복수 조건을 OR(<code>|</code>)로 결합한 행의 선택</h3>
<blockquote>
<p><strong>filter(dataframe, filter condition 1 | filter condition 2 | …)</strong></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>filter condition 1</code> : 선택 조건 1</li>
<li><code>|</code>: OR 조건 연산자</li>
</ul>
</blockquote>
<p><strong>OR(또는) 조건</strong>으로 부분집합을 선별하려면 <strong><code>|</code></strong>를 사용한다. (<code>subset()</code> 함수와 동일)</p>
<p><code>Cars93_1</code> 데이터 세트의 차종(<code>Type</code>)이 “Compact”이거나(<code>|</code>: OR), 최대가격(<code>Max.Price</code>)이 20 백$ 이하이거나(<code>|</code>, OR) 고속도로 연비(<code>MPG.highway</code>) 가 30 이상인 관측치 (행)을 선택해 보자. 즉, 3개의 검색 조건 중 하나라도 만족하면 그 행은 선택이 된다. 이때 이들 조건들을 OR 연산자인 <code>|</code>를 사용하여 결합하다.</p>
<p>위의 문제는 <code>dplyr</code>의 <code>filter()</code> 함수를 사용하면 다음과 같이 된다.</p>
<div class="sourceCode" id="cb1016"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1016-1"><a href="preprocessing.html#cb1016-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(dataframe, condition1 | condition2) : or </span></span>
<span id="cb1016-2"><a href="preprocessing.html#cb1016-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(Cars93_1, Type <span class="sc">==</span> <span class="fu">c</span>(<span class="st">&quot;Compact&quot;</span>) <span class="sc">|</span> Max.Price <span class="sc">&lt;=</span> <span class="dv">20</span> <span class="sc">|</span> MPG.highway <span class="sc">&gt;=</span> <span class="dv">30</span>)</span></code></pre></div>
<pre><code>##     Manufacturer         Model    Type Min.Price Price Max.Price MPG.city
## 1          Acura       Integra   Small      12.9  15.9      18.8       25
## 2           Audi            90 Compact      25.9  29.1      32.3       20
## 3            BMW          535i Midsize      23.7  30.0      36.2       22
## 4          Buick       Century Midsize      14.2  15.7      17.3       22
## 5      Chevrolet      Cavalier Compact       8.5  13.4      18.3       25
## 6      Chevrolet       Corsica Compact      11.4  11.4      11.4       25
## 7      Chevrolet        Camaro  Sporty      13.4  15.1      16.8       19
## 8      Chevrolet        Lumina Midsize      13.4  15.9      18.4       21
## 9      Chevrolet    Lumina_APV     Van      14.7  16.3      18.0       18
## 10     Chevrolet         Astro     Van      14.7  16.6      18.6       15
## 11     Chevrolet       Caprice   Large      18.0  18.8      19.6       17
## 12      Chrylser      Concorde   Large      18.4  18.4      18.4       20
## 13      Chrysler       LeBaron Compact      14.5  15.8      17.1       23
## 14         Dodge          Colt   Small       7.9   9.2      10.6       29
## 15         Dodge        Shadow   Small       8.4  11.3      14.2       23
## 16         Dodge        Spirit Compact      11.9  13.3      14.7       22
## 17         Dodge       Dynasty Midsize      14.8  15.6      16.4       21
## 18         Eagle        Summit   Small       7.9  12.2      16.5       29
## 19          Ford       Festiva   Small       6.9   7.4       7.9       31
## 20          Ford        Escort   Small       8.4  10.1      11.9       23
## 21          Ford         Tempo Compact      10.4  11.3      12.2       22
## 22          Ford         Probe  Sporty      12.8  14.0      15.2       24
## 23          Ford        Taurus Midsize      15.6  20.2      24.8       21
## 24           Geo         Metro   Small       6.7   8.4      10.0       46
## 25           Geo         Storm  Sporty      11.5  12.5      13.5       30
## 26         Honda       Prelude  Sporty      17.0  19.8      22.7       24
## 27         Honda         Civic   Small       8.4  12.1      15.8       42
## 28         Honda        Accord Compact      13.8  17.5      21.2       24
## 29       Hyundai         Excel   Small       6.8   8.0       9.2       29
## 30       Hyundai       Elantra   Small       9.0  10.0      11.0       22
## 31       Hyundai        Scoupe  Sporty       9.1  10.0      11.0       26
## 32       Hyundai        Sonata Midsize      12.4  13.9      15.3       20
## 33         Mazda           323   Small       7.4   8.3       9.1       29
## 34         Mazda       Protege   Small      10.9  11.6      12.3       28
## 35         Mazda           626 Compact      14.3  16.5      18.7       26
## 36 Mercedes-Benz          190E Compact      29.0  31.9      34.9       20
## 37       Mercury         Capri  Sporty      13.3  14.1      15.0       23
## 38       Mercury        Cougar Midsize      14.9  14.9      14.9       19
## 39    Mitsubishi        Mirage   Small       7.7  10.3      12.9       29
## 40        Nissan        Sentra   Small       8.7  11.8      14.9       29
## 41        Nissan        Altima Compact      13.0  15.7      18.3       24
## 42    Oldsmobile       Achieva Compact      13.0  13.5      14.0       24
## 43    Oldsmobile Cutlass_Ciera Midsize      14.2  16.3      18.4       23
## 44    Oldsmobile    Silhouette     Van      19.5  19.5      19.5       18
## 45      Plymouth         Laser  Sporty      11.4  14.4      17.4       23
## 46       Pontiac        LeMans   Small       8.2   9.0       9.9       31
## 47       Pontiac       Sunbird Compact       9.4  11.1      12.8       23
## 48          Saab           900 Compact      20.3  28.7      37.1       20
## 49        Saturn            SL   Small       9.2  11.1      12.9       28
## 50        Subaru         Justy   Small       7.3   8.4       9.5       33
## 51        Subaru        Loyale   Small      10.5  10.9      11.3       25
## 52        Subaru        Legacy Compact      16.3  19.5      22.7       23
## 53        Suzuki         Swift   Small       7.3   8.6      10.0       39
## 54        Toyota        Tercel   Small       7.8   9.8      11.8       32
## 55        Toyota        Celica  Sporty      14.2  18.4      22.6       25
## 56    Volkswagen           Fox   Small       8.7   9.1       9.5       25
## 57    Volkswagen        Passat Compact      17.6  20.0      22.4       21
## 58         Volvo           240 Compact      21.8  22.7      23.5       21
##    MPG.highway
## 1           31
## 2           26
## 3           30
## 4           31
## 5           36
## 6           34
## 7           28
## 8           29
## 9           23
## 10          20
## 11          26
## 12          28
## 13          28
## 14          33
## 15          29
## 16          27
## 17          27
## 18          33
## 19          33
## 20          30
## 21          27
## 22          30
## 23          30
## 24          50
## 25          36
## 26          31
## 27          46
## 28          31
## 29          33
## 30          29
## 31          34
## 32          27
## 33          37
## 34          36
## 35          34
## 36          29
## 37          26
## 38          26
## 39          33
## 40          33
## 41          30
## 42          31
## 43          31
## 44          23
## 45          30
## 46          41
## 47          31
## 48          26
## 49          38
## 50          37
## 51          30
## 52          30
## 53          43
## 54          37
## 55          32
## 56          33
## 57          30
## 58          28</code></pre>
<div class="sourceCode" id="cb1018"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1018-1"><a href="preprocessing.html#cb1018-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1018-2"><a href="preprocessing.html#cb1018-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb1018-3"><a href="preprocessing.html#cb1018-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Type <span class="sc">==</span> <span class="fu">c</span>(<span class="st">&quot;Compact&quot;</span>) <span class="sc">|</span> Max.Price <span class="sc">&lt;=</span> <span class="dv">20</span> <span class="sc">|</span> MPG.highway <span class="sc">&gt;=</span> <span class="dv">30</span>)</span></code></pre></div>
<pre><code>##     Manufacturer         Model    Type Min.Price Price Max.Price MPG.city
## 1          Acura       Integra   Small      12.9  15.9      18.8       25
## 2           Audi            90 Compact      25.9  29.1      32.3       20
## 3            BMW          535i Midsize      23.7  30.0      36.2       22
## 4          Buick       Century Midsize      14.2  15.7      17.3       22
## 5      Chevrolet      Cavalier Compact       8.5  13.4      18.3       25
## 6      Chevrolet       Corsica Compact      11.4  11.4      11.4       25
## 7      Chevrolet        Camaro  Sporty      13.4  15.1      16.8       19
## 8      Chevrolet        Lumina Midsize      13.4  15.9      18.4       21
## 9      Chevrolet    Lumina_APV     Van      14.7  16.3      18.0       18
## 10     Chevrolet         Astro     Van      14.7  16.6      18.6       15
## 11     Chevrolet       Caprice   Large      18.0  18.8      19.6       17
## 12      Chrylser      Concorde   Large      18.4  18.4      18.4       20
## 13      Chrysler       LeBaron Compact      14.5  15.8      17.1       23
## 14         Dodge          Colt   Small       7.9   9.2      10.6       29
## 15         Dodge        Shadow   Small       8.4  11.3      14.2       23
## 16         Dodge        Spirit Compact      11.9  13.3      14.7       22
## 17         Dodge       Dynasty Midsize      14.8  15.6      16.4       21
## 18         Eagle        Summit   Small       7.9  12.2      16.5       29
## 19          Ford       Festiva   Small       6.9   7.4       7.9       31
## 20          Ford        Escort   Small       8.4  10.1      11.9       23
## 21          Ford         Tempo Compact      10.4  11.3      12.2       22
## 22          Ford         Probe  Sporty      12.8  14.0      15.2       24
## 23          Ford        Taurus Midsize      15.6  20.2      24.8       21
## 24           Geo         Metro   Small       6.7   8.4      10.0       46
## 25           Geo         Storm  Sporty      11.5  12.5      13.5       30
## 26         Honda       Prelude  Sporty      17.0  19.8      22.7       24
## 27         Honda         Civic   Small       8.4  12.1      15.8       42
## 28         Honda        Accord Compact      13.8  17.5      21.2       24
## 29       Hyundai         Excel   Small       6.8   8.0       9.2       29
## 30       Hyundai       Elantra   Small       9.0  10.0      11.0       22
## 31       Hyundai        Scoupe  Sporty       9.1  10.0      11.0       26
## 32       Hyundai        Sonata Midsize      12.4  13.9      15.3       20
## 33         Mazda           323   Small       7.4   8.3       9.1       29
## 34         Mazda       Protege   Small      10.9  11.6      12.3       28
## 35         Mazda           626 Compact      14.3  16.5      18.7       26
## 36 Mercedes-Benz          190E Compact      29.0  31.9      34.9       20
## 37       Mercury         Capri  Sporty      13.3  14.1      15.0       23
## 38       Mercury        Cougar Midsize      14.9  14.9      14.9       19
## 39    Mitsubishi        Mirage   Small       7.7  10.3      12.9       29
## 40        Nissan        Sentra   Small       8.7  11.8      14.9       29
## 41        Nissan        Altima Compact      13.0  15.7      18.3       24
## 42    Oldsmobile       Achieva Compact      13.0  13.5      14.0       24
## 43    Oldsmobile Cutlass_Ciera Midsize      14.2  16.3      18.4       23
## 44    Oldsmobile    Silhouette     Van      19.5  19.5      19.5       18
## 45      Plymouth         Laser  Sporty      11.4  14.4      17.4       23
## 46       Pontiac        LeMans   Small       8.2   9.0       9.9       31
## 47       Pontiac       Sunbird Compact       9.4  11.1      12.8       23
## 48          Saab           900 Compact      20.3  28.7      37.1       20
## 49        Saturn            SL   Small       9.2  11.1      12.9       28
## 50        Subaru         Justy   Small       7.3   8.4       9.5       33
## 51        Subaru        Loyale   Small      10.5  10.9      11.3       25
## 52        Subaru        Legacy Compact      16.3  19.5      22.7       23
## 53        Suzuki         Swift   Small       7.3   8.6      10.0       39
## 54        Toyota        Tercel   Small       7.8   9.8      11.8       32
## 55        Toyota        Celica  Sporty      14.2  18.4      22.6       25
## 56    Volkswagen           Fox   Small       8.7   9.1       9.5       25
## 57    Volkswagen        Passat Compact      17.6  20.0      22.4       21
## 58         Volvo           240 Compact      21.8  22.7      23.5       21
##    MPG.highway
## 1           31
## 2           26
## 3           30
## 4           31
## 5           36
## 6           34
## 7           28
## 8           29
## 9           23
## 10          20
## 11          26
## 12          28
## 13          28
## 14          33
## 15          29
## 16          27
## 17          27
## 18          33
## 19          33
## 20          30
## 21          27
## 22          30
## 23          30
## 24          50
## 25          36
## 26          31
## 27          46
## 28          31
## 29          33
## 30          29
## 31          34
## 32          27
## 33          37
## 34          36
## 35          34
## 36          29
## 37          26
## 38          26
## 39          33
## 40          33
## 41          30
## 42          31
## 43          31
## 44          23
## 45          30
## 46          41
## 47          31
## 48          26
## 49          38
## 50          37
## 51          30
## 52          30
## 53          43
## 54          37
## 55          32
## 56          33
## 57          30
## 58          28</code></pre>
<ul>
<li>위의 3가지 조건을 OR로 만족시키는 관측치의 갯수는 58개 임을 알 수 있다.</li>
</ul>
</div>
<div id="행의-위치를-지정해서-행의-데이터-부분집합-선택" class="section level3" number="4.4.5">
<h3><span class="header-section-number">4.4.5</span> 행의 위치를 지정해서 행의 데이터 부분집합 선택</h3>
<blockquote>
<p><strong><code>slice(dataframe, from, to)</code></strong></p>
<ul>
<li><p><code>dataframe</code>: 데이터 세트</p></li>
<li><p><code>from</code> : 시작 위치</p></li>
<li><p><code>to</code> : 마지막 위치</p></li>
</ul>
</blockquote>
<p><code>filter()</code>가 조건에 의한 행의 선택이었다면, 위치(position)를 사용한 행의 선택을 위해서는 <strong><code>slice()</code></strong> 함수를 사용한다.</p>
<p><code>Cars93_1</code> 데이터 세트의 6번째에서 10번째 행(row)의 데이터를 선택해 보자.</p>
<div class="sourceCode" id="cb1020"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1020-1"><a href="preprocessing.html#cb1020-1" aria-hidden="true" tabindex="-1"></a><span class="co"># slice() : select rows by position </span></span>
<span id="cb1020-2"><a href="preprocessing.html#cb1020-2" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(Cars93_1, <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##   Manufacturer      Model    Type Min.Price Price Max.Price MPG.city
## 1        Buick    Century Midsize      14.2  15.7      17.3       22
## 2        Buick    LeSabre   Large      19.9  20.8      21.7       19
## 3        Buick Roadmaster   Large      22.6  23.7      24.9       16
## 4        Buick    Riviera Midsize      26.3  26.3      26.3       19
## 5     Cadillac    DeVille   Large      33.0  34.7      36.3       16
##   MPG.highway
## 1          31
## 2          28
## 3          25
## 4          27
## 5          25</code></pre>
<div class="sourceCode" id="cb1022"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1022-1"><a href="preprocessing.html#cb1022-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1022-2"><a href="preprocessing.html#cb1022-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb1022-3"><a href="preprocessing.html#cb1022-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##   Manufacturer      Model    Type Min.Price Price Max.Price MPG.city
## 1        Buick    Century Midsize      14.2  15.7      17.3       22
## 2        Buick    LeSabre   Large      19.9  20.8      21.7       19
## 3        Buick Roadmaster   Large      22.6  23.7      24.9       16
## 4        Buick    Riviera Midsize      26.3  26.3      26.3       19
## 5     Cadillac    DeVille   Large      33.0  34.7      36.3       16
##   MPG.highway
## 1          31
## 2          28
## 3          25
## 4          27
## 5          25</code></pre>
<ul>
<li>6번쨰 행부터 10번쨰 행까지를 선택하게 된다.</li>
</ul>
</div>
</div>
<div id="arrange-함수를-이용한-행의-정렬" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> <code>arrange()</code> 함수를 이용한 행의 정렬</h2>
<div id="arrange-함수의-기본-형식" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> <code>arrange()</code> 함수의 기본 형식</h3>
<blockquote>
<p><code>arrange(dataframe, order criterion 1, order criterion 2, ...)</code></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>order criterion</code> : 정렬 기준이 되는 컬럼 명(디폴트로 <strong>오름차순</strong>). <strong>내림차순</strong>의 경우 <code>desc(컬럼명)</code></li>
</ul>
</blockquote>
<p>데이터 프레임을 정렬할 때 <strong><code>arrange()</code></strong> 함수를 쓰면 매우 편리하다.</p>
<p><code>Cars93_1</code> 데이터 프레임의 행들을 최고가격(<code>Max.Price</code>) 컬럼 기준으로 <strong>오름 차순</strong>으로 정렬해 보자.</p>
<div class="sourceCode" id="cb1024"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1024-1"><a href="preprocessing.html#cb1024-1" aria-hidden="true" tabindex="-1"></a><span class="co"># arrange() : reorder rows of data frame in ascending order</span></span>
<span id="cb1024-2"><a href="preprocessing.html#cb1024-2" aria-hidden="true" tabindex="-1"></a>b1 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(Cars93_1, Max.Price)</span>
<span id="cb1024-3"><a href="preprocessing.html#cb1024-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b1)</span></code></pre></div>
<pre><code>##   Manufacturer   Model  Type Min.Price Price Max.Price MPG.city MPG.highway
## 1         Ford Festiva Small       6.9   7.4       7.9       31          33
## 2        Mazda     323 Small       7.4   8.3       9.1       29          37
## 3      Hyundai   Excel Small       6.8   8.0       9.2       29          33
## 4       Subaru   Justy Small       7.3   8.4       9.5       33          37
## 5   Volkswagen     Fox Small       8.7   9.1       9.5       25          33
## 6      Pontiac  LeMans Small       8.2   9.0       9.9       31          41</code></pre>
<div class="sourceCode" id="cb1026"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1026-1"><a href="preprocessing.html#cb1026-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1026-2"><a href="preprocessing.html#cb1026-2" aria-hidden="true" tabindex="-1"></a>b2 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb1026-3"><a href="preprocessing.html#cb1026-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">arrange</span>(Max.Price)</span>
<span id="cb1026-4"><a href="preprocessing.html#cb1026-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b2)</span></code></pre></div>
<pre><code>##   Manufacturer   Model  Type Min.Price Price Max.Price MPG.city MPG.highway
## 1         Ford Festiva Small       6.9   7.4       7.9       31          33
## 2        Mazda     323 Small       7.4   8.3       9.1       29          37
## 3      Hyundai   Excel Small       6.8   8.0       9.2       29          33
## 4       Subaru   Justy Small       7.3   8.4       9.5       33          37
## 5   Volkswagen     Fox Small       8.7   9.1       9.5       25          33
## 6      Pontiac  LeMans Small       8.2   9.0       9.9       31          41</code></pre>
<p>이제는 <code>Cars93_1</code> 데이터 프레임의 행들을 최고가격(<code>Max.Price</code>) 컬럼 기준으로 <strong>내림 차순</strong>으로 정렬해 보자.</p>
<div class="sourceCode" id="cb1028"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1028-1"><a href="preprocessing.html#cb1028-1" aria-hidden="true" tabindex="-1"></a><span class="co"># arrange() : reorder rows of data frame in descending order</span></span>
<span id="cb1028-2"><a href="preprocessing.html#cb1028-2" aria-hidden="true" tabindex="-1"></a>b3 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(Cars93_1, <span class="fu">desc</span>(Max.Price))</span>
<span id="cb1028-3"><a href="preprocessing.html#cb1028-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b3)</span></code></pre></div>
<pre><code>##    Manufacturer    Model    Type Min.Price Price Max.Price MPG.city MPG.highway
## 1 Mercedes-Benz     300E Midsize      43.8  61.9      80.0       19          25
## 2      Infiniti      Q45 Midsize      45.4  47.9      50.4       17          22
## 3          Audi      100 Midsize      30.8  37.7      44.6       19          26
## 4      Cadillac  Seville Midsize      37.5  40.1      42.7       16          25
## 5     Chevrolet Corvette  Sporty      34.6  38.0      41.5       17          25
## 6         Acura   Legend Midsize      29.2  33.9      38.7       18          25</code></pre>
<div class="sourceCode" id="cb1030"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1030-1"><a href="preprocessing.html#cb1030-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1030-2"><a href="preprocessing.html#cb1030-2" aria-hidden="true" tabindex="-1"></a>b4 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb1030-3"><a href="preprocessing.html#cb1030-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">arrange</span>(<span class="fu">desc</span>(Max.Price))</span>
<span id="cb1030-4"><a href="preprocessing.html#cb1030-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b4)</span></code></pre></div>
<pre><code>##    Manufacturer    Model    Type Min.Price Price Max.Price MPG.city MPG.highway
## 1 Mercedes-Benz     300E Midsize      43.8  61.9      80.0       19          25
## 2      Infiniti      Q45 Midsize      45.4  47.9      50.4       17          22
## 3          Audi      100 Midsize      30.8  37.7      44.6       19          26
## 4      Cadillac  Seville Midsize      37.5  40.1      42.7       16          25
## 5     Chevrolet Corvette  Sporty      34.6  38.0      41.5       17          25
## 6         Acura   Legend Midsize      29.2  33.9      38.7       18          25</code></pre>
</div>
<div id="복수-개의-정렬-기준으로-행을-정렬하기" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> 복수 개의 정렬 기준으로 행을 정렬하기</h3>
<p>여러개의 기준에 의해서 정렬을 하고 싶으면 기준이 되는 컬럼을 정렬하고자 하는 순서대로 나열하면 됩니다.</p>
<p>기본 정렬 옵셥은 <strong>오름차순(ascending)</strong>이며, 만약 <strong>내림차순(descending)</strong> 으로 정렬을 하고 싶다면 <code>desc()</code>를 입력해주면 됩니다.</p>
<p><code>Cars93_1</code> 데이터 프레임의 고속도로 연비(<code>MPG.highway</code>) 가 높은 순서(오름차순)대로 정렬을 하되, 만약 고속도로 연비가 동일하다면 최고가격(<code>Max.Price</code>)가 낮은 순서대로(내림차순) 정렬을 해보자.</p>
<div class="sourceCode" id="cb1032"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1032-1"><a href="preprocessing.html#cb1032-1" aria-hidden="true" tabindex="-1"></a><span class="co"># arrange() : reorder rows of data frame </span></span>
<span id="cb1032-2"><a href="preprocessing.html#cb1032-2" aria-hidden="true" tabindex="-1"></a>b5 <span class="ot">&lt;-</span> <span class="fu">arrange</span>(Cars93_1, <span class="fu">desc</span>(MPG.highway), Max.Price)</span>
<span id="cb1032-3"><a href="preprocessing.html#cb1032-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b5)</span></code></pre></div>
<pre><code>##   Manufacturer  Model  Type Min.Price Price Max.Price MPG.city MPG.highway
## 1          Geo  Metro Small       6.7   8.4      10.0       46          50
## 2        Honda  Civic Small       8.4  12.1      15.8       42          46
## 3       Suzuki  Swift Small       7.3   8.6      10.0       39          43
## 4      Pontiac LeMans Small       8.2   9.0       9.9       31          41
## 5       Saturn     SL Small       9.2  11.1      12.9       28          38
## 6        Mazda    323 Small       7.4   8.3       9.1       29          37</code></pre>
<div class="sourceCode" id="cb1034"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1034-1"><a href="preprocessing.html#cb1034-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1034-2"><a href="preprocessing.html#cb1034-2" aria-hidden="true" tabindex="-1"></a>b6 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb1034-3"><a href="preprocessing.html#cb1034-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(MPG.highway), Max.Price)</span>
<span id="cb1034-4"><a href="preprocessing.html#cb1034-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b6)</span></code></pre></div>
<pre><code>##   Manufacturer  Model  Type Min.Price Price Max.Price MPG.city MPG.highway
## 1          Geo  Metro Small       6.7   8.4      10.0       46          50
## 2        Honda  Civic Small       8.4  12.1      15.8       42          46
## 3       Suzuki  Swift Small       7.3   8.6      10.0       39          43
## 4      Pontiac LeMans Small       8.2   9.0       9.9       31          41
## 5       Saturn     SL Small       9.2  11.1      12.9       28          38
## 6        Mazda    323 Small       7.4   8.3       9.1       29          37</code></pre>
<ul>
<li>위의 스크립트에 대한 결과(의 일부)는 다음과 같다.</li>
<li>첫 번째 정렬 조건인 <code>MPG.Highway</code>의 <strong>내림차순</strong>으로 행들이 정렬되어 있음을 알 수 있다. 그런데 <code>MPG.highway</code>의 값이 같은 경우네는 두 번쨰 정렬 조건인 <code>Max.Price</code>의 <strong>오름차순</strong>으로 행들이 정렬되어 있다.</li>
</ul>
<p>참고로, <code>arrange()</code> 함수 말고도 아래처럼 <code>order()</code> 함수를 사용해서 indexing 하는 방법도 있지만, 아무래도 <code>arrange()</code> 함수가 더 깔끔하고 해석하기에 좋다.</p>
<div class="sourceCode" id="cb1036"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1036-1"><a href="preprocessing.html#cb1036-1" aria-hidden="true" tabindex="-1"></a><span class="co"># order() 함수의 이용</span></span>
<span id="cb1036-2"><a href="preprocessing.html#cb1036-2" aria-hidden="true" tabindex="-1"></a>b7 <span class="ot">&lt;-</span> Cars93[<span class="fu">order</span>(<span class="sc">-</span>Cars93_1<span class="sc">$</span>MPG.highway, Cars93_1<span class="sc">$</span>Max.Price), ]</span>
<span id="cb1036-3"><a href="preprocessing.html#cb1036-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b7)</span></code></pre></div>
<pre><code>##    Manufacturer  Model  Type Min.Price Price Max.Price MPG.city MPG.highway
## 39          Geo  Metro Small       6.7   8.4      10.0       46          50
## 42        Honda  Civic Small       8.4  12.1      15.8       42          46
## 83       Suzuki  Swift Small       7.3   8.6      10.0       39          43
## 73      Pontiac LeMans Small       8.2   9.0       9.9       31          41
## 79       Saturn     SL Small       9.2  11.1      12.9       28          38
## 53        Mazda    323 Small       7.4   8.3       9.1       29          37
##        AirBags DriveTrain Cylinders EngineSize Horsepower  RPM Rev.per.mile
## 39        None      Front         3        1.0         55 5700         3755
## 42 Driver only      Front         4        1.5        102 5900         2650
## 83        None      Front         3        1.3         70 6000         3360
## 73        None      Front         4        1.6         74 5600         3130
## 79 Driver only      Front         4        1.9         85 5000         2145
## 53        None      Front         4        1.6         82 5000         2370
##    Man.trans.avail Fuel.tank.capacity Passengers Length Wheelbase Width
## 39             Yes               10.6          4    151        93    63
## 42             Yes               11.9          4    173       103    67
## 83             Yes               10.6          4    161        93    63
## 73             Yes               13.2          4    177        99    66
## 79             Yes               12.8          5    176       102    68
## 53             Yes               13.2          4    164        97    66
##    Turn.circle Rear.seat.room Luggage.room Weight  Origin           Make
## 39          34           27.5           10   1695 non-USA      Geo Metro
## 42          36           28.0           12   2350 non-USA    Honda Civic
## 83          34           27.5           10   1965 non-USA   Suzuki Swift
## 73          35           25.5           17   2350     USA Pontiac LeMans
## 79          40           26.5           12   2495     USA      Saturn SL
## 53          34           27.0           16   2325 non-USA      Mazda 323</code></pre>
</div>
</div>
<div id="preprocessing_rename" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> <code>rename()</code> 함수를 이용한 데이터 프레임의 컬럼 이름 변경</h2>
<div id="rename-함수의-기본-형식" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> <code>rename()</code> 함수의 기본 형식</h3>
<blockquote>
<p><strong><code>rename(dataframe, new_var1 = old_var1, new_var2 = old_var2, ...)</code></strong></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>new_var1 = old_var1,</code> : 새로운 컬럼 명(new_var1) = 이전의 컬럼명(old_var1)</li>
</ul>
</blockquote>
<ul>
<li><p>새로운 변수 이름을 앞에, 이전 변수이름을 뒤에 위치시킨다.</p></li>
<li><p>큰 따옴표를 안 쓰며, 그냥 컬럼 이름만 써 준다.</p></li>
<li><p>이름을 변경하고자 하는 변수가 여러 개 일 경우 ‘<code>,</code>’ (comma)로 구분한다.</p></li>
</ul>
<p><code>Cars93_1</code> 데이터 프레임의 8개의 컬럼명 앞에 ’<code>New_'</code> 라는 접두사(prefix)를 붙여 바꿔보자.</p>
<div class="sourceCode" id="cb1038"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1038-1"><a href="preprocessing.html#cb1038-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rename() : rename column name </span></span>
<span id="cb1038-2"><a href="preprocessing.html#cb1038-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Cars93_1) </span></code></pre></div>
<pre><code>## [1] &quot;Manufacturer&quot; &quot;Model&quot;        &quot;Type&quot;         &quot;Min.Price&quot;    &quot;Price&quot;       
## [6] &quot;Max.Price&quot;    &quot;MPG.city&quot;     &quot;MPG.highway&quot;</code></pre>
<div class="sourceCode" id="cb1040"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1040-1"><a href="preprocessing.html#cb1040-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rename(dataframe, new_var1 = old_var1, new_var2 = old_var2, ...)</span></span>
<span id="cb1040-2"><a href="preprocessing.html#cb1040-2" aria-hidden="true" tabindex="-1"></a>Cars93_2 <span class="ot">&lt;-</span> <span class="fu">rename</span>(Cars93_1, </span>
<span id="cb1040-3"><a href="preprocessing.html#cb1040-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">New_Model =</span> Model, </span>
<span id="cb1040-4"><a href="preprocessing.html#cb1040-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">New_Type =</span> Type, </span>
<span id="cb1040-5"><a href="preprocessing.html#cb1040-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">New_MPG.city =</span> MPG.city, </span>
<span id="cb1040-6"><a href="preprocessing.html#cb1040-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">New_MPG.highway =</span> MPG.highway)</span>
<span id="cb1040-7"><a href="preprocessing.html#cb1040-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Cars93_2)</span></code></pre></div>
<pre><code>## [1] &quot;Manufacturer&quot;    &quot;New_Model&quot;       &quot;New_Type&quot;        &quot;Min.Price&quot;      
## [5] &quot;Price&quot;           &quot;Max.Price&quot;       &quot;New_MPG.city&quot;    &quot;New_MPG.highway&quot;</code></pre>
<div class="sourceCode" id="cb1042"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1042-1"><a href="preprocessing.html#cb1042-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1042-2"><a href="preprocessing.html#cb1042-2" aria-hidden="true" tabindex="-1"></a>Cars93_2 <span class="ot">&lt;-</span>  Cars93_1 <span class="sc">%&gt;%</span></span>
<span id="cb1042-3"><a href="preprocessing.html#cb1042-3" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">rename</span>(<span class="at">New_Model =</span> Model, </span>
<span id="cb1042-4"><a href="preprocessing.html#cb1042-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">New_Type =</span> Type, </span>
<span id="cb1042-5"><a href="preprocessing.html#cb1042-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">New_MPG.city =</span> MPG.city, </span>
<span id="cb1042-6"><a href="preprocessing.html#cb1042-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">New_MPG.highway =</span> MPG.highway)</span>
<span id="cb1042-7"><a href="preprocessing.html#cb1042-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Cars93_2)</span></code></pre></div>
<pre><code>## [1] &quot;Manufacturer&quot;    &quot;New_Model&quot;       &quot;New_Type&quot;        &quot;Min.Price&quot;      
## [5] &quot;Price&quot;           &quot;Max.Price&quot;       &quot;New_MPG.city&quot;    &quot;New_MPG.highway&quot;</code></pre>
<ul>
<li>위의 결과로 <code>Cars93_2</code> 데이터 프레임이 생성되고, <code>New_Model</code>, <code>New_Type</code>, <code>New_MPG.city</code>, <code>New_MPG.hightway</code> 등의 4개의 컬럼만 이름이 변경되고, 나머지는 이전의 컬럼 명 그대로 사용하다.</li>
</ul>
<p>이전에 <code>plyr</code> 패키지의 <code>rename()</code> 함수나 <code>reshaple</code> 패키지의 <code>rename()</code> 함수를 사용해 보았다면 약간 혼란이 생길 수 있다. 큰 따옴표(“var_name”)를 써야 하는건지 말아야 하는건지, 새로운 변수 이름(new_var)과 이전 변수 이름(old_var)의 위치가 앞인지 뒤인지, 변수가 여러개인 경우 c() 로 묶어주어야 하는지 아닌지가 패키지별로 조금씩 다르기 때문이다. (참고 링크=&gt; <a href="http://rfriend.tistory.com/41" class="uri">http://rfriend.tistory.com/41</a> )</p>
<p>데이터 전처리는 <code>dplyr</code> 패키지로 단일화해 나가는 것이 혼동을 줄일 수 있는 좋은 전략일 것이다.</p>
</div>
</div>
<div id="distinct-함수를-이용한-유일한-값-추출" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> <code>distinct()</code> 함수를 이용한 유일한 값 추출</h2>
<div id="distinct-함수의-기본-형식" class="section level3" number="4.7.1">
<h3><span class="header-section-number">4.7.1</span> <code>distinct()</code> 함수의 기본 형식</h3>
<blockquote>
<p><strong><code>distinct(dataframe, var1, var2, ...)</code></strong></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>var1, var2, ...</code> : 중복이 없는 유일한 값(unique, distinct value)을 추출하고자 하는 기준이 되는 컬럼(변수)</li>
</ul>
</blockquote>
<p><code>base</code> 패키지의 <code>unique()</code> 함수와 같은 기능을 수행하지만, <code>dplyr</code> 패키지의 <code>distinct()</code> 가 C 언어로 작성이 되어 있기 때문에 속도는 훨씬 빠르다.</p>
</div>
<div id="단일-기준에-의한-유일-값-추출" class="section level3" number="4.7.2">
<h3><span class="header-section-number">4.7.2</span> 단일 기준에 의한 유일 값 추출</h3>
<p><code>Cars93_1</code> 데이터 프레임에서 ‘차종(<code>Type</code>)’과 ’생산국-미국여부(<code>Origin</code>)’ 변수를 기준으로 중복없는 유일한 값을 추출해 보자.</p>
<div class="sourceCode" id="cb1044"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1044-1"><a href="preprocessing.html#cb1044-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to use Cars93 dataframe </span></span>
<span id="cb1044-2"><a href="preprocessing.html#cb1044-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Cars93)</span></code></pre></div>
<pre><code>##  [1] &quot;Manufacturer&quot;       &quot;Model&quot;              &quot;Type&quot;              
##  [4] &quot;Min.Price&quot;          &quot;Price&quot;              &quot;Max.Price&quot;         
##  [7] &quot;MPG.city&quot;           &quot;MPG.highway&quot;        &quot;AirBags&quot;           
## [10] &quot;DriveTrain&quot;         &quot;Cylinders&quot;          &quot;EngineSize&quot;        
## [13] &quot;Horsepower&quot;         &quot;RPM&quot;                &quot;Rev.per.mile&quot;      
## [16] &quot;Man.trans.avail&quot;    &quot;Fuel.tank.capacity&quot; &quot;Passengers&quot;        
## [19] &quot;Length&quot;             &quot;Wheelbase&quot;          &quot;Width&quot;             
## [22] &quot;Turn.circle&quot;        &quot;Rear.seat.room&quot;     &quot;Luggage.room&quot;      
## [25] &quot;Weight&quot;             &quot;Origin&quot;             &quot;Make&quot;</code></pre>
<div class="sourceCode" id="cb1046"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1046-1"><a href="preprocessing.html#cb1046-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distinct(dataframe, var1) :  find unique values of var1 in a table</span></span>
<span id="cb1046-2"><a href="preprocessing.html#cb1046-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(Cars93, Type)</span></code></pre></div>
<pre><code>##      Type
## 1   Small
## 2 Midsize
## 3 Compact
## 4   Large
## 5  Sporty
## 6     Van</code></pre>
<div class="sourceCode" id="cb1048"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1048-1"><a href="preprocessing.html#cb1048-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(Cars93, Origin)</span></code></pre></div>
<pre><code>##    Origin
## 1 non-USA
## 2     USA</code></pre>
<div class="sourceCode" id="cb1050"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1050-1"><a href="preprocessing.html#cb1050-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  또는</span></span>
<span id="cb1050-2"><a href="preprocessing.html#cb1050-2" aria-hidden="true" tabindex="-1"></a>Cars93   <span class="sc">%&gt;%</span>  <span class="fu">distinct</span>(Type)</span></code></pre></div>
<pre><code>##      Type
## 1   Small
## 2 Midsize
## 3 Compact
## 4   Large
## 5  Sporty
## 6     Van</code></pre>
<div class="sourceCode" id="cb1052"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1052-1"><a href="preprocessing.html#cb1052-1" aria-hidden="true" tabindex="-1"></a>Cars93   <span class="sc">%&gt;%</span>  <span class="fu">distinct</span>(Origin)</span></code></pre></div>
<pre><code>##    Origin
## 1 non-USA
## 2     USA</code></pre>
<ul>
<li><code>distinct()</code> 함수의 결과는 데이터 프레임으로 출력이 된다.</li>
</ul>
</div>
<div id="복수-기준에-의한-유일-값-추출" class="section level3" number="4.7.3">
<h3><span class="header-section-number">4.7.3</span> 복수 기준에 의한 유일 값 추출</h3>
<p><code>Cars93_1</code> 데이터 프레임에서 ‘차종(<code>Type</code>)’과 ’생산국-미국여부(<code>Origin</code>)’ 변수를 동시에 고려하여 중복없는 유일한 값을 추출해 보자.</p>
<div class="sourceCode" id="cb1054"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1054-1"><a href="preprocessing.html#cb1054-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distinct(dataframe, var1, var2) :  find unique values in a table</span></span>
<span id="cb1054-2"><a href="preprocessing.html#cb1054-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(Cars93, Type, Origin)</span></code></pre></div>
<pre><code>##       Type  Origin
## 1    Small non-USA
## 2  Midsize non-USA
## 3  Compact non-USA
## 4  Midsize     USA
## 5    Large     USA
## 6  Compact     USA
## 7   Sporty     USA
## 8      Van     USA
## 9    Small     USA
## 10  Sporty non-USA
## 11     Van non-USA</code></pre>
<div class="sourceCode" id="cb1056"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1056-1"><a href="preprocessing.html#cb1056-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(Cars93, Origin, Type)</span></code></pre></div>
<pre><code>##       Type  Origin
## 1    Small non-USA
## 2  Midsize non-USA
## 3  Compact non-USA
## 4  Midsize     USA
## 5    Large     USA
## 6  Compact     USA
## 7   Sporty     USA
## 8      Van     USA
## 9    Small     USA
## 10  Sporty non-USA
## 11     Van non-USA</code></pre>
<div class="sourceCode" id="cb1058"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1058-1"><a href="preprocessing.html#cb1058-1" aria-hidden="true" tabindex="-1"></a><span class="co">#  또는</span></span>
<span id="cb1058-2"><a href="preprocessing.html#cb1058-2" aria-hidden="true" tabindex="-1"></a>Cars93   <span class="sc">%&gt;%</span>  <span class="fu">distinct</span>(Type, Origin)</span></code></pre></div>
<pre><code>##       Type  Origin
## 1    Small non-USA
## 2  Midsize non-USA
## 3  Compact non-USA
## 4  Midsize     USA
## 5    Large     USA
## 6  Compact     USA
## 7   Sporty     USA
## 8      Van     USA
## 9    Small     USA
## 10  Sporty non-USA
## 11     Van non-USA</code></pre>
<div class="sourceCode" id="cb1060"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1060-1"><a href="preprocessing.html#cb1060-1" aria-hidden="true" tabindex="-1"></a>Cars93   <span class="sc">%&gt;%</span>  <span class="fu">distinct</span>(Origin, Type)</span></code></pre></div>
<pre><code>##       Type  Origin
## 1    Small non-USA
## 2  Midsize non-USA
## 3  Compact non-USA
## 4  Midsize     USA
## 5    Large     USA
## 6  Compact     USA
## 7   Sporty     USA
## 8      Van     USA
## 9    Small     USA
## 10  Sporty non-USA
## 11     Van non-USA</code></pre>
<p>참고로, <code>base</code> 패키지의 <code>unique()</code> 함수로는 <code>unique(Cars93[, c("Origin", "Type")])</code> 이렇게 입력하면 된다.</p>
<div class="sourceCode" id="cb1062"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1062-1"><a href="preprocessing.html#cb1062-1" aria-hidden="true" tabindex="-1"></a><span class="co"># unique() 함수의 사용</span></span>
<span id="cb1062-2"><a href="preprocessing.html#cb1062-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(Cars93[, <span class="fu">c</span>(<span class="st">&quot;Origin&quot;</span>)])</span></code></pre></div>
<pre><code>## [1] non-USA USA    
## Levels: USA non-USA</code></pre>
<div class="sourceCode" id="cb1064"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1064-1"><a href="preprocessing.html#cb1064-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(Cars93[, <span class="fu">c</span>(<span class="st">&quot;Type&quot;</span>)])</span></code></pre></div>
<pre><code>## [1] Small   Midsize Compact Large   Sporty  Van    
## Levels: Compact Large Midsize Small Sporty Van</code></pre>
<div class="sourceCode" id="cb1066"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1066-1"><a href="preprocessing.html#cb1066-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(Cars93[, <span class="fu">c</span>(<span class="st">&quot;Origin&quot;</span>, <span class="st">&quot;Type&quot;</span>)])</span></code></pre></div>
<pre><code>##     Origin    Type
## 1  non-USA   Small
## 2  non-USA Midsize
## 3  non-USA Compact
## 6      USA Midsize
## 7      USA   Large
## 12     USA Compact
## 14     USA  Sporty
## 16     USA     Van
## 23     USA   Small
## 40 non-USA  Sporty
## 56 non-USA     Van</code></pre>
<div class="sourceCode" id="cb1068"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1068-1"><a href="preprocessing.html#cb1068-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(Cars93[, <span class="fu">c</span>(<span class="st">&quot;Type&quot;</span>, <span class="st">&quot;Origin&quot;</span>)])</span></code></pre></div>
<pre><code>##       Type  Origin
## 1    Small non-USA
## 2  Midsize non-USA
## 3  Compact non-USA
## 6  Midsize     USA
## 7    Large     USA
## 12 Compact     USA
## 14  Sporty     USA
## 16     Van     USA
## 23   Small     USA
## 40  Sporty non-USA
## 56     Van non-USA</code></pre>
<ul>
<li><code>unique()</code> 함수의 결과는 기준 컬럼이 하나일 때는 factor 형으로, 기준 컬럼이 여러 개일 때는 데이터 프레임 형태로 출력이 된다.</li>
</ul>
<div id="unique-duplicate-distinct의-비교" class="section level4 unnumbered">
<h4><a href="https://rfriend.tistory.com/165">☞ unique(), duplicate(), distinct()의 비교</a></h4>
</div>
</div>
</div>
<div id="무작위-표본-추출" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> 무작위 표본 추출</h2>
<div id="정해진-갯수-만큼의-표본-무작위-추출" class="section level3" number="4.8.1">
<h3><span class="header-section-number">4.8.1</span> 정해진 갯수 만큼의 표본 무작위 추출</h3>
<blockquote>
<p><strong>sample_n(dataframe, n)</strong></p>
<ul>
<li>dataframe : 데이터 세트</li>
<li><strong>n</strong> : 무작위 추출할 표본의 갯수</li>
</ul>
</blockquote>
<p><code>Cars93</code> 데이터 프레임애소 1~5번째 변수에 대해 10개의 관측치를 무작위로 추출해 보자.</p>
<div class="sourceCode" id="cb1070"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1070-1"><a href="preprocessing.html#cb1070-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sample_n() : randomly sample rows for a fixed number </span></span>
<span id="cb1070-2"><a href="preprocessing.html#cb1070-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_n</span>(Cars93[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##    Manufacturer        Model    Type Min.Price Price
## 1          Ford       Escort   Small       8.4  10.1
## 2       Lincoln     Town_Car   Large      34.4  36.1
## 3    Oldsmobile Eighty-Eight   Large      19.5  20.7
## 4         Acura       Legend Midsize      29.2  33.9
## 5       Pontiac     Firebird  Sporty      14.0  17.7
## 6     Chevrolet        Astro     Van      14.7  16.6
## 7          Ford      Mustang  Sporty      10.8  15.9
## 8       Pontiac       LeMans   Small       8.2   9.0
## 9        Toyota       Tercel   Small       7.8   9.8
## 10     Infiniti          Q45 Midsize      45.4  47.9</code></pre>
<div class="sourceCode" id="cb1072"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1072-1"><a href="preprocessing.html#cb1072-1" aria-hidden="true" tabindex="-1"></a><span class="co"># random sampling one more time</span></span>
<span id="cb1072-2"><a href="preprocessing.html#cb1072-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_n</span>(Cars93[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##    Manufacturer          Model    Type Min.Price Price
## 1       Pontiac         LeMans   Small       8.2   9.0
## 2           BMW           535i Midsize      23.7  30.0
## 3     Chevrolet        Caprice   Large      18.0  18.8
## 4          Ford Crown_Victoria   Large      20.1  20.9
## 5         Dodge        Stealth  Sporty      18.5  25.8
## 6         Honda         Accord Compact      13.8  17.5
## 7         Eagle         Summit   Small       7.9  12.2
## 8         Acura         Legend Midsize      29.2  33.9
## 9       Lincoln    Continental Midsize      33.3  34.3
## 10      Mercury         Cougar Midsize      14.9  14.9</code></pre>
<div class="sourceCode" id="cb1074"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1074-1"><a href="preprocessing.html#cb1074-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1074-2"><a href="preprocessing.html#cb1074-2" aria-hidden="true" tabindex="-1"></a>Cars93[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">%&gt;%</span> <span class="fu">sample_n</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##     Manufacturer    Model    Type Min.Price Price
## 1          Volvo      240 Compact      21.8  22.7
## 2          Honda   Accord Compact      13.8  17.5
## 3     Mitsubishi   Mirage   Small       7.7  10.3
## 4          Acura   Legend Midsize      29.2  33.9
## 5           Ford  Festiva   Small       6.9   7.4
## 6  Mercedes-Benz     300E Midsize      43.8  61.9
## 7      Chevrolet Cavalier Compact       8.5  13.4
## 8         Nissan   Altima Compact      13.0  15.7
## 9          Mazda      MPV     Van      16.6  19.1
## 10     Chevrolet   Lumina Midsize      13.4  15.9</code></pre>
<div class="sourceCode" id="cb1076"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1076-1"><a href="preprocessing.html#cb1076-1" aria-hidden="true" tabindex="-1"></a>Cars93[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">%&gt;%</span> <span class="fu">sample_n</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##    Manufacturer      Model    Type Min.Price Price
## 1         Dodge    Caravan     Van      13.6  19.0
## 2          Ford    Festiva   Small       6.9   7.4
## 3        Toyota     Celica  Sporty      14.2  18.4
## 4     Chevrolet Lumina_APV     Van      14.7  16.3
## 5          Saab        900 Compact      20.3  28.7
## 6     Chevrolet   Corvette  Sporty      34.6  38.0
## 7         Volvo        240 Compact      21.8  22.7
## 8       Hyundai      Excel   Small       6.8   8.0
## 9          Ford     Escort   Small       8.4  10.1
## 10        Buick    LeSabre   Large      19.9  20.8</code></pre>
<ul>
<li>전체 관측치 중에 10개의 관측치를 무작위로 표본을 추출해 준다.</li>
<li><code>sample_n()</code> 함수를 실행할 때 마다 추출된 표본은 달라짐을 알 수 있다.</li>
</ul>
</div>
<div id="정해진-비율로-표본-무작위-추출" class="section level3" number="4.8.2">
<h3><span class="header-section-number">4.8.2</span> 정해진 비율로 표본 무작위 추출</h3>
<blockquote>
<p><strong>sample_frac(dataframe, p)</strong></p>
<ul>
<li>dataframe : 데이터 세트</li>
<li>p : 무작위 추출하고자하는 비율 (예, <strong>0.1</strong> -&gt; 10%)</li>
</ul>
</blockquote>
<p><code>Cars93</code> 데이터 프레임에서 1~5번째 변수에 대해 10%의 관측치를 무작위로 추출해 보자.</p>
<div class="sourceCode" id="cb1078"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1078-1"><a href="preprocessing.html#cb1078-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sample_frac() : randomly sample rows for a fixed fraction </span></span>
<span id="cb1078-2"><a href="preprocessing.html#cb1078-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(Cars93)</span></code></pre></div>
<pre><code>## [1] 93</code></pre>
<div class="sourceCode" id="cb1080"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1080-1"><a href="preprocessing.html#cb1080-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(Cars93)<span class="sc">*</span><span class="fl">0.1</span></span></code></pre></div>
<pre><code>## [1] 9.3</code></pre>
<div class="sourceCode" id="cb1082"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1082-1"><a href="preprocessing.html#cb1082-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_frac</span>(Cars93[ , <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>##   Manufacturer         Model    Type Min.Price Price
## 1   Mitsubishi      Diamante Midsize      22.4  26.1
## 2        Volvo           850 Midsize      24.8  26.7
## 3        Dodge       Stealth  Sporty      18.5  25.8
## 4       Saturn            SL   Small       9.2  11.1
## 5        Dodge       Dynasty Midsize      14.8  15.6
## 6        Mazda          RX-7  Sporty      32.5  32.5
## 7      Pontiac       Sunbird Compact       9.4  11.1
## 8   Oldsmobile Cutlass_Ciera Midsize      14.2  16.3
## 9      Pontiac    Bonneville   Large      19.4  24.4</code></pre>
<div class="sourceCode" id="cb1084"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1084-1"><a href="preprocessing.html#cb1084-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1084-2"><a href="preprocessing.html#cb1084-2" aria-hidden="true" tabindex="-1"></a>Cars93[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">%&gt;%</span> <span class="fu">sample_frac</span>(<span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>##   Manufacturer    Model    Type Min.Price Price
## 1        Eagle   Summit   Small       7.9  12.2
## 2       Suzuki    Swift   Small       7.3   8.6
## 3      Hyundai  Elantra   Small       9.0  10.0
## 4        Buick  LeSabre   Large      19.9  20.8
## 5     Chrylser Concorde   Large      18.4  18.4
## 6         Audi       90 Compact      25.9  29.1
## 7        Dodge  Stealth  Sporty      18.5  25.8
## 8       Subaru    Justy   Small       7.3   8.4
## 9       Nissan    Quest     Van      16.7  19.1</code></pre>
<ul>
<li><code>Cars93</code> 데이터 프레임은 관측치가 93개 이며, 10%는 9.3개에 해당</li>
<li><code>sample_frac(Cars93, 0.1)</code>은 총 9개의 무작위 샘플을 추출</li>
</ul>
</div>
<div id="정해진-갯수-만큼의-표본-복원-추출" class="section level3" number="4.8.3">
<h3><span class="header-section-number">4.8.3</span> 정해진 갯수 만큼의 표본 복원 추출</h3>
<blockquote>
<p><code>smaple_n(dataframe, n, replace = TRUE)</code></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>n</code> : 추출하고자 하는 표본 갯수</li>
<li><code>replace = TRUE</code> : 복원 추출</li>
</ul>
</blockquote>
<p>앞의 두 경우는 한번 추출한 표본은 다시 추출하지 않는 ’<strong>비복원 추출(sampling with replacement)</strong>’이었다(눈을 감고 주머니에서 한번 뽑았으면, <em>뽑힌 공은 다시 주머니에 넣지 않고 옆에 따로 빼어놓고</em>, 다시 눈을 감고 주머니에서 공을 뽑음).</p>
<p><code>dplyr</code> 패키지의 <code>sample_n()</code>, <code>sample_frac()</code> 함수의 디폴트는 <strong><em>비복원추출</em></strong>이며, 만약 ’<strong>복원추출(sampling with replacement, bootstrap sampling)</strong>’을 하고 싶다면 <strong>‘<code>replace = TRUE</code>’</strong> 옵션을 설정해주면 된다(눈을 감고 주머니에서 공을 뽑고, <em>뽑힌 공을 다시 주머니에 넣은 후에</em>, 눈을 감고 다시 주머니에서 공을 뽑음).</p>
<p><code>Cars93</code> 데이터 프레임에서 1~5번까지 변수에 대해 20개의 관측치를 무작위로 복원 추출해보자.</p>
<div class="sourceCode" id="cb1086"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1086-1"><a href="preprocessing.html#cb1086-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sample_n(dataframe, n, replace = TRUE) : random sampling with replacement </span></span>
<span id="cb1086-2"><a href="preprocessing.html#cb1086-2" aria-hidden="true" tabindex="-1"></a><span class="co"># a bootstrap sample of 20 records</span></span>
<span id="cb1086-3"><a href="preprocessing.html#cb1086-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_n</span>(Cars93[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)     </span></code></pre></div>
<pre><code>##    Manufacturer          Model    Type Min.Price Price
## 1         Acura        Integra   Small      12.9  15.9
## 2           Geo          Metro   Small       6.7   8.4
## 3        Toyota         Tercel   Small       7.8   9.8
## 4       Lincoln       Town_Car   Large      34.4  36.1
## 5       Pontiac     Grand_Prix Midsize      15.4  18.5
## 6         Mazda            323   Small       7.4   8.3
## 7          Saab            900 Compact      20.3  28.7
## 8         Honda          Civic   Small       8.4  12.1
## 9      Cadillac        DeVille   Large      33.0  34.7
## 10       Subaru          Justy   Small       7.3   8.4
## 11     Cadillac        DeVille   Large      33.0  34.7
## 12    Chevrolet        Corsica Compact      11.4  11.4
## 13      Hyundai          Excel   Small       6.8   8.0
## 14        Mazda            323   Small       7.4   8.3
## 15         Ford Crown_Victoria   Large      20.1  20.9
## 16    Chevrolet        Corsica Compact      11.4  11.4
## 17       Nissan          Quest     Van      16.7  19.1
## 18        Dodge         Shadow   Small       8.4  11.3
## 19       Nissan         Sentra   Small       8.7  11.8
## 20          BMW           535i Midsize      23.7  30.0</code></pre>
<ul>
<li>무작위 복원 추출을 하면 동일한 표본이 중복으로 추출될 수 있다.</li>
</ul>
</div>
<div id="집단별-층화-표본-추출" class="section level3" number="4.8.4">
<h3><span class="header-section-number">4.8.4</span> 집단별 층화 표본 추출</h3>
<blockquote>
<p><strong><code>dataframe     %&gt;%    group_by(factor_var)   %&gt;%     sample_n(size)</code></strong></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>factor_var</code> : 그룹으로 지정할 변수</li>
<li><code>size</code> : 표본의 갯수</li>
</ul>
</blockquote>
<p>분석을 하다 보면 집단, 그룹별로 동일한 수의 표본을 무작위 추출해서 분석해야 하는 경우가 있다. 특히 분석 주제 혹은 분석에 큰 영향을 미치는 요인 변수에 대한 집단 분포(distribution)가 한쪽 그룹으로 심하게 <strong>편향된 모집단</strong>(biased, unbalanced population)의 경우 <strong>층화 무작위 표본 추출</strong>(stratified random sampling)이 필요합니다.</p>
<p>*<strong>[예제] Cars93 데이터 프레임에서 ‘제조국가_미국여부(Origin)’의 ’USA,’ ‘non-USA’ 요인 속성별로 각 10개씩의 표본을 무작위 비복원 추출하시오.*</strong></p>
<div class="sourceCode" id="cb1088"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1088-1"><a href="preprocessing.html#cb1088-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dataframe %&gt;% </span></span>
<span id="cb1088-2"><a href="preprocessing.html#cb1088-2" aria-hidden="true" tabindex="-1"></a><span class="co">#             group_by(factor_var) %&gt;%  </span></span>
<span id="cb1088-3"><a href="preprocessing.html#cb1088-3" aria-hidden="true" tabindex="-1"></a><span class="co">#             sample_n(size) : random sampling by group </span></span>
<span id="cb1088-4"><a href="preprocessing.html#cb1088-4" aria-hidden="true" tabindex="-1"></a>Cars93[ , <span class="fu">c</span>(<span class="st">&quot;Manufacturer&quot;</span>, <span class="st">&quot;Model&quot;</span>, <span class="st">&quot;Origin&quot;</span>)] <span class="sc">%&gt;%</span> </span>
<span id="cb1088-5"><a href="preprocessing.html#cb1088-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(Origin) <span class="sc">%&gt;%</span> </span>
<span id="cb1088-6"><a href="preprocessing.html#cb1088-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">sample_n</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 20 x 3
## # Groups:   Origin [2]
##   Manufacturer Model          Origin
##   &lt;fct&gt;        &lt;fct&gt;          &lt;fct&gt; 
## 1 Saturn       SL             USA   
## 2 Ford         Crown_Victoria USA   
## 3 Dodge        Stealth        USA   
## # ... with 17 more rows</code></pre>
<p>위의 ‘<code>%&gt;%</code>’ (단축키 : <code>shift + ctrl + M</code>)의 chaining 에 대해서는 다음번 포스팅에서 별도로 소개하겠으니 지금 궁금하시더라도 조금만 참아주세요. ^^;</p>
</div>
</div>
<div id="mutate-함수를-이용한-새로운-컬럼-생성" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> <code>mutate()</code> 함수를 이용한 새로운 컬럼 생성</h2>
<div id="mutate-함수의-기본-형식" class="section level3" number="4.9.1">
<h3><span class="header-section-number">4.9.1</span> <code>mutate()</code> 함수의 기본 형식</h3>
<p>함수 <code>mutate()</code>는 컬럼을 추가할 때 사용한다. 비슷한 기능을 하는 함수로 <code>base</code> 패키지의 <code>transform()</code>이 있지만, 함수 <code>mutate()</code>는 함수에서 새로 만든 열을 같은 함수 안에서 바로 사용할 수 있는 장점이 있다. 단, 새로 생성된 칼럼은 별도의 변수로 지정하거나 기존의 데이터에 덮어씌우지 않는 한 저장되지 않는다.</p>
<blockquote>
<p><strong><code>mutate(dataframe,  new_var = expression_of_old_var, ..., .keep, .before, .after)</code></strong></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>new_var = expression_of_old_var</code> : 새로운 컬럼(new_var)을 생성하는 식</li>
<li><code>…</code> : 여러 개 반복 가능</li>
<li><code>.keep</code> : (“all,” “used,” “unused,” “none”)</li>
<li><code>.before</code></li>
<li><code>.after</code> : 기존 변수 + 신규 변수 모두 keep**</li>
</ul>
</blockquote>
</div>
<div id="새로운-컬럼-생성-예" class="section level3" number="4.9.2">
<h3><span class="header-section-number">4.9.2</span> 새로운 컬럼 생성 예</h3>
<p><code>x</code>, <code>y</code>의 2개의 컬럼에 각각의 값을<code>1</code>과 <code>2</code>로 하는 데이터 <code>df</code> 에 대해 <code>x+y</code>를 값으로 하는 새로운 컬럼 <code>z</code>를 생성해 보자.</p>
<div class="sourceCode" id="cb1090"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1090-1"><a href="preprocessing.html#cb1090-1" aria-hidden="true" tabindex="-1"></a><span class="co"># z = x + y 컬럼 생성</span></span>
<span id="cb1090-2"><a href="preprocessing.html#cb1090-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">2</span>)</span>
<span id="cb1090-3"><a href="preprocessing.html#cb1090-3" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     2</code></pre>
<div class="sourceCode" id="cb1092"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1092-1"><a href="preprocessing.html#cb1092-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(df, <span class="at">z=</span>x<span class="sc">+</span>y)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##       x     y     z
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     2     3</code></pre>
<div class="sourceCode" id="cb1094"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1094-1"><a href="preprocessing.html#cb1094-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1094-2"><a href="preprocessing.html#cb1094-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##       x     y     z
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     2     3</code></pre>
<p><code>Cars93</code> 데이터프레임에서 최소가격(<code>Min.Price</code>)과 최대가격(<code>Max.Price</code>)의 범위(<code>Price_range</code>)를 구해보자.</p>
<div class="sourceCode" id="cb1096"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1096-1"><a href="preprocessing.html#cb1096-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mutate(dataframe, new_var = operation of old vars, ...) : Create(add) new columns </span></span>
<span id="cb1096-2"><a href="preprocessing.html#cb1096-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="ot">&lt;-</span> Cars93[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>),                             <span class="co"># subset for better printing  : (10 X 3)</span></span>
<span id="cb1096-3"><a href="preprocessing.html#cb1096-3" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">c</span>(<span class="st">&quot;Model&quot;</span>, <span class="st">&quot;Min.Price&quot;</span>, <span class="st">&quot;Max.Price&quot;</span>)]      </span>
<span id="cb1096-4"><a href="preprocessing.html#cb1096-4" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cars93_1, </span>
<span id="cb1096-5"><a href="preprocessing.html#cb1096-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price) </span>
<span id="cb1096-6"><a href="preprocessing.html#cb1096-6" aria-hidden="true" tabindex="-1"></a>Cars93_1</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range
## 1     Integra      12.9      18.8         5.9
## 2      Legend      29.2      38.7         9.5
## 3          90      25.9      32.3         6.4
## 4         100      30.8      44.6        13.8
## 5        535i      23.7      36.2        12.5
## 6     Century      14.2      17.3         3.1
## 7     LeSabre      19.9      21.7         1.8
## 8  Roadmaster      22.6      24.9         2.3
## 9     Riviera      26.3      26.3         0.0
## 10    DeVille      33.0      36.3         3.3</code></pre>
<div class="sourceCode" id="cb1098"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1098-1"><a href="preprocessing.html#cb1098-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1098-2"><a href="preprocessing.html#cb1098-2" aria-hidden="true" tabindex="-1"></a>Cars93_1   <span class="sc">%&gt;%</span>   <span class="fu">mutate</span>(<span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price) </span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range
## 1     Integra      12.9      18.8         5.9
## 2      Legend      29.2      38.7         9.5
## 3          90      25.9      32.3         6.4
## 4         100      30.8      44.6        13.8
## 5        535i      23.7      36.2        12.5
## 6     Century      14.2      17.3         3.1
## 7     LeSabre      19.9      21.7         1.8
## 8  Roadmaster      22.6      24.9         2.3
## 9     Riviera      26.3      26.3         0.0
## 10    DeVille      33.0      36.3         3.3</code></pre>
<div class="sourceCode" id="cb1100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1100-1"><a href="preprocessing.html#cb1100-1" aria-hidden="true" tabindex="-1"></a>Cars93_1</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range
## 1     Integra      12.9      18.8         5.9
## 2      Legend      29.2      38.7         9.5
## 3          90      25.9      32.3         6.4
## 4         100      30.8      44.6        13.8
## 5        535i      23.7      36.2        12.5
## 6     Century      14.2      17.3         3.1
## 7     LeSabre      19.9      21.7         1.8
## 8  Roadmaster      22.6      24.9         2.3
## 9     Riviera      26.3      26.3         0.0
## 10    DeVille      33.0      36.3         3.3</code></pre>
<p><code>Cars93</code> 데이터프레임에서 최소가격(<code>Min.Price</code>)과 최대가격(<code>Max.Price</code>)의 범위(<code>Price_range</code>)와 최소가격 대비 최대가격의 비율(<code>Price_ration = Max.Price/Min.Price</code>) 을 나타내는 새로운 컬럼을 생성해 보자.</p>
<div class="sourceCode" id="cb1102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1102-1"><a href="preprocessing.html#cb1102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mutate(dataframe, new_var = operation of old vars, ...) : Create(add) new columns </span></span>
<span id="cb1102-2"><a href="preprocessing.html#cb1102-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cars93_1, </span>
<span id="cb1102-3"><a href="preprocessing.html#cb1102-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price, </span>
<span id="cb1102-4"><a href="preprocessing.html#cb1102-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Price_ratio =</span> Max.Price <span class="sc">/</span> Min.Price) </span>
<span id="cb1102-5"><a href="preprocessing.html#cb1102-5" aria-hidden="true" tabindex="-1"></a>Cars93_1</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range Price_ratio
## 1     Integra      12.9      18.8         5.9    1.457364
## 2      Legend      29.2      38.7         9.5    1.325342
## 3          90      25.9      32.3         6.4    1.247104
## 4         100      30.8      44.6        13.8    1.448052
## 5        535i      23.7      36.2        12.5    1.527426
## 6     Century      14.2      17.3         3.1    1.218310
## 7     LeSabre      19.9      21.7         1.8    1.090452
## 8  Roadmaster      22.6      24.9         2.3    1.101770
## 9     Riviera      26.3      26.3         0.0    1.000000
## 10    DeVille      33.0      36.3         3.3    1.100000</code></pre>
</div>
<div id="새로운-만든-컬럼변수를-이용하여-또-다른-컬럼-생성하기" class="section level3" number="4.9.3">
<h3><span class="header-section-number">4.9.3</span> 새로운 만든 컬럼(변수)를 이용하여 또 다른 컬럼 생성하기</h3>
<p><code>mutate()</code> 함수는 하나의 함수 명령문 안에서 새로 만든 변수를 바로 이용하여, 또 다른 변수의 input 변수로 사용할 수 있다.</p>
<p>예를 들어, 앞의 예에서 생성한 <code>Price_range</code> 변수의 값이 <code>5</code>이상이면 <code>1</code>, 아니면 <code>0</code>을 값으로 하는 <code>Price_range_cd</code> 컬럼을 생성고 그 결과를 Cars93_2 테이블에 저장해 보자. ( <code>Price_range_cd = ifelse(Price_range &gt;= 5, 1, 0)</code>)</p>
<div class="sourceCode" id="cb1104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1104-1"><a href="preprocessing.html#cb1104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comparison with {dplyr} mutate() and {base} transform() </span></span>
<span id="cb1104-2"><a href="preprocessing.html#cb1104-2" aria-hidden="true" tabindex="-1"></a>Cars93_2 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cars93_1, </span>
<span id="cb1104-3"><a href="preprocessing.html#cb1104-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price, </span>
<span id="cb1104-4"><a href="preprocessing.html#cb1104-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Price_range_cd =</span> <span class="fu">ifelse</span>(Price_range <span class="sc">&gt;=</span> <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb1104-5"><a href="preprocessing.html#cb1104-5" aria-hidden="true" tabindex="-1"></a>Cars93_2</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range Price_ratio Price_range_cd
## 1     Integra      12.9      18.8         5.9    1.457364              1
## 2      Legend      29.2      38.7         9.5    1.325342              1
## 3          90      25.9      32.3         6.4    1.247104              1
## 4         100      30.8      44.6        13.8    1.448052              1
## 5        535i      23.7      36.2        12.5    1.527426              1
## 6     Century      14.2      17.3         3.1    1.218310              0
## 7     LeSabre      19.9      21.7         1.8    1.090452              0
## 8  Roadmaster      22.6      24.9         2.3    1.101770              0
## 9     Riviera      26.3      26.3         0.0    1.000000              0
## 10    DeVille      33.0      36.3         3.3    1.100000              0</code></pre>
<div class="sourceCode" id="cb1106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1106-1"><a href="preprocessing.html#cb1106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1106-2"><a href="preprocessing.html#cb1106-2" aria-hidden="true" tabindex="-1"></a>Cars93_2 <span class="ot">&lt;-</span> Cars93_1 <span class="sc">%&gt;%</span> </span>
<span id="cb1106-3"><a href="preprocessing.html#cb1106-3" aria-hidden="true" tabindex="-1"></a>                <span class="fu">mutate</span>( <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price, </span>
<span id="cb1106-4"><a href="preprocessing.html#cb1106-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Price_range_cd =</span> <span class="fu">ifelse</span>(Price_range <span class="sc">&gt;=</span> <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb1106-5"><a href="preprocessing.html#cb1106-5" aria-hidden="true" tabindex="-1"></a>Cars93_2</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range Price_ratio Price_range_cd
## 1     Integra      12.9      18.8         5.9    1.457364              1
## 2      Legend      29.2      38.7         9.5    1.325342              1
## 3          90      25.9      32.3         6.4    1.247104              1
## 4         100      30.8      44.6        13.8    1.448052              1
## 5        535i      23.7      36.2        12.5    1.527426              1
## 6     Century      14.2      17.3         3.1    1.218310              0
## 7     LeSabre      19.9      21.7         1.8    1.090452              0
## 8  Roadmaster      22.6      24.9         2.3    1.101770              0
## 9     Riviera      26.3      26.3         0.0    1.000000              0
## 10    DeVille      33.0      36.3         3.3    1.100000              0</code></pre>
<p><code>base</code> 패키지의 <code>transform()</code> 함수도 하나의 명령문 안에 새로 만든 변수를 다른 신규 변수의 input 변수로 사용할 수 있다.</p>
<div class="sourceCode" id="cb1108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1108-1"><a href="preprocessing.html#cb1108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># {base} transform()</span></span>
<span id="cb1108-2"><a href="preprocessing.html#cb1108-2" aria-hidden="true" tabindex="-1"></a>Cars93_3 <span class="ot">&lt;-</span> <span class="fu">transform</span>(Cars93_1, </span>
<span id="cb1108-3"><a href="preprocessing.html#cb1108-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price, </span>
<span id="cb1108-4"><a href="preprocessing.html#cb1108-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Price_range_cd =</span> <span class="fu">ifelse</span>(Price_range <span class="sc">&gt;=</span> <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb1108-5"><a href="preprocessing.html#cb1108-5" aria-hidden="true" tabindex="-1"></a>Cars93_3</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range Price_ratio Price_range_cd
## 1     Integra      12.9      18.8         5.9    1.457364              1
## 2      Legend      29.2      38.7         9.5    1.325342              1
## 3          90      25.9      32.3         6.4    1.247104              1
## 4         100      30.8      44.6        13.8    1.448052              1
## 5        535i      23.7      36.2        12.5    1.527426              1
## 6     Century      14.2      17.3         3.1    1.218310              0
## 7     LeSabre      19.9      21.7         1.8    1.090452              0
## 8  Roadmaster      22.6      24.9         2.3    1.101770              0
## 9     Riviera      26.3      26.3         0.0    1.000000              0
## 10    DeVille      33.0      36.3         3.3    1.100000              0</code></pre>
</div>
<div id="컬럼의-값을-새로운-값으로-변경하기" class="section level3" number="4.9.4">
<h3><span class="header-section-number">4.9.4</span> 컬럼의 값을 새로운 값으로 변경하기</h3>
<p><code>Cars93_1</code>에 있는 <code>Min.Price</code>의 값을 <code>1.2</code>배를 하고, <code>Max.Price</code>값들은 <code>1.3</code>배로 변경해 보자. 그리고, 최소가격(<code>Min.Price</code>)과 최대가격(<code>Max.Price</code>)의 범위(<code>Price_range</code>)와 최소가격 대비 최대가격의 비율(<code>Price_ration = Max.Price/Min.Price</code>) 도 변경해 보자. 그 결과는 <code>Cars93_4</code>에 저장한다.)</p>
<div class="sourceCode" id="cb1110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1110-1"><a href="preprocessing.html#cb1110-1" aria-hidden="true" tabindex="-1"></a>Cars93_4 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cars93_1, </span>
<span id="cb1110-2"><a href="preprocessing.html#cb1110-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Min.Price =</span> Min.Price <span class="sc">*</span> <span class="fl">1.2</span>,</span>
<span id="cb1110-3"><a href="preprocessing.html#cb1110-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Max.Price =</span> Max.Price <span class="sc">*</span> <span class="fl">1.3</span>,</span>
<span id="cb1110-4"><a href="preprocessing.html#cb1110-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price,</span>
<span id="cb1110-5"><a href="preprocessing.html#cb1110-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Price_ratio =</span> Max.Price <span class="sc">/</span> Min.Price)</span>
<span id="cb1110-6"><a href="preprocessing.html#cb1110-6" aria-hidden="true" tabindex="-1"></a>Cars93_4</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price Price_range Price_ratio
## 1     Integra     15.48     24.44        8.96    1.578811
## 2      Legend     35.04     50.31       15.27    1.435788
## 3          90     31.08     41.99       10.91    1.351030
## 4         100     36.96     57.98       21.02    1.568723
## 5        535i     28.44     47.06       18.62    1.654712
## 6     Century     17.04     22.49        5.45    1.319836
## 7     LeSabre     23.88     28.21        4.33    1.181323
## 8  Roadmaster     27.12     32.37        5.25    1.193584
## 9     Riviera     31.56     34.19        2.63    1.083333
## 10    DeVille     39.60     47.19        7.59    1.191667</code></pre>
<ul>
<li>현재의 컬럼의 값을 새로운 값으로도 쉽게 변경할 수 있음을 알 수 있다.</li>
</ul>
</div>
<div id="keep-인수의-사용-예" class="section level3" number="4.9.5">
<h3><span class="header-section-number">4.9.5</span> <code>.keep</code> 인수의 사용 예</h3>
<p><code>mutate()</code> 함수의 인수로 <code>.keep=</code> 인수를 사용할 수 있다. 디폴트 값은 “<code>all</code>”이다. 다음의 예를 실행해 보면 쉽게 이해할 수 있다. <code>.keep</code> 이 가질 수 있는 옵션은 <code>all</code>(default), <code>used</code>, <code>unused</code>, <code>none</code> 등이 있다.</p>
<div class="sourceCode" id="cb1112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1112-1"><a href="preprocessing.html#cb1112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Experimental: You can override with `.keep`</span></span>
<span id="cb1112-2"><a href="preprocessing.html#cb1112-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">2</span>, <span class="at">a =</span> <span class="st">&quot;a&quot;</span>, <span class="at">b =</span> <span class="st">&quot;b&quot;</span>)</span>
<span id="cb1112-3"><a href="preprocessing.html#cb1112-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y, <span class="at">.keep =</span> <span class="st">&quot;all&quot;</span>) <span class="co"># the default</span></span></code></pre></div>
<pre><code>## # A tibble: 1 x 5
##       x     y a     b         z
##   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1     1     2 a     b         3</code></pre>
<div class="sourceCode" id="cb1114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1114-1"><a href="preprocessing.html#cb1114-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y, <span class="at">.keep =</span> <span class="st">&quot;used&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##       x     y     z
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     2     3</code></pre>
<div class="sourceCode" id="cb1116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1116-1"><a href="preprocessing.html#cb1116-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y, <span class="at">.keep =</span> <span class="st">&quot;unused&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   a     b         z
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 a     b         3</code></pre>
<div class="sourceCode" id="cb1118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1118-1"><a href="preprocessing.html#cb1118-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y, <span class="at">.keep =</span> <span class="st">&quot;none&quot;</span>) <span class="co"># same as transmute()</span></span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       z
##   &lt;dbl&gt;
## 1     3</code></pre>
<ul>
<li><p><code>.keep = all</code> : <code>df</code>의 컬럼 변수 전체(<code>x</code>, <code>y</code>, <code>a</code>, <code>b</code>)와 새로 생성된 변수(<code>z</code>) <strong>모두</strong>를 보여준다. <strong>(default)</strong></p></li>
<li><p><code>.keep = used</code> : <code>df</code>의 컬럼 변수 중 새 변수를 만드는데 <strong>사용된 변수</strong>(<code>x</code>와 <code>y</code>)와 <strong>새 변수</strong>(<code>z</code>)를 보여준다.</p></li>
<li><p><code>.keep = unused</code> : <code>df</code>의 컬럼 변수 중 새 변수를 만드는데 <strong>사용되지 않은 변수</strong>(a와 b)와 <strong>새 변수</strong>(<code>z</code>)를 보여준다.</p></li>
<li><p><code>.keep = none</code> : <strong>새 변수(<code>z</code>) 만</strong>을 보여준다.</p></li>
</ul>
</div>
<div id="after와-.before-인수의-사용-예" class="section level3" number="4.9.6">
<h3><span class="header-section-number">4.9.6</span> <code>.after</code>와 <code>.before</code> 인수의 사용 예</h3>
<p><code>mutate()</code> 함수의 <code>.after</code>와 <code>.before</code> 인수를 이용하여 새로 생성된 변수의 위치를 지정할 수 있다.</p>
<div class="sourceCode" id="cb1120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1120-1"><a href="preprocessing.html#cb1120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Experimental: you can override with `.before` or `.after`</span></span>
<span id="cb1120-2"><a href="preprocessing.html#cb1120-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="dv">2</span>)</span>
<span id="cb1120-3"><a href="preprocessing.html#cb1120-3" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##       x     y     z
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     2     3</code></pre>
<div class="sourceCode" id="cb1122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1122-1"><a href="preprocessing.html#cb1122-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y, <span class="at">.before =</span> <span class="dv">1</span>)     <span class="co"># z를 1번째 컬럼의 왼 쪽에 표시</span></span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##       z     x     y
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     3     1     2</code></pre>
<div class="sourceCode" id="cb1124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1124-1"><a href="preprocessing.html#cb1124-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">z =</span> x <span class="sc">+</span> y, <span class="at">.after =</span> x)      <span class="co"># z를 x 컬럼 오른 쪽에 표지</span></span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##       x     z     y
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3     2</code></pre>
</div>
<div id="transmute-함수를-이용한-새로운-컬럼-생성" class="section level3" number="4.9.7">
<h3><span class="header-section-number">4.9.7</span> <code>transmute()</code> 함수를 이용한 새로운 컬럼 생성</h3>
<p><code>mutate()</code> 함수가 <strong>기존 변수와 신규 변수를 모두 관리</strong>하는 것과 달리, <code>transmute()</code> 함수는 <strong>신규 변수만 저장</strong>을 하고 기존 변수들은 모두 없앤다.</p>
<div id="transmute-함수의-기본-형식" class="section level4" number="4.9.7.1">
<h4><span class="header-section-number">4.9.7.1</span> transmute() 함수의 기본 형식</h4>
<blockquote>
<p><strong><code>transmute(dataframe, 새로운 변수 = 기존 변수 조합한 수식, ...)</code></strong></p>
<ul>
<li><code>dataframe</code> : 데이터 세트</li>
<li><code>transmute()</code>의 인수와 같음…</li>
</ul>
</blockquote>
<p><code>Cars93_1</code>의 데이터 세트에서 최소가격(<code>Min.Price</code>)과 최대가격(`<code>Max.Price</code>)의 차이를 나타내는 범위(<code>Price_range</code>) 변수와 최소가격 대비 최대가격의 비율(<code>Price_ration = Max.Price/Min.Price</code>) 의 새로운 변수를 생성한 후에, 이들 2개의 신규변수만 Cars93_5에 저장해 보자.</p>
<div class="sourceCode" id="cb1126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1126-1"><a href="preprocessing.html#cb1126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># transmute() : Create(add) new columns </span></span>
<span id="cb1126-2"><a href="preprocessing.html#cb1126-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="ot">&lt;-</span> Cars93[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="fu">c</span>(<span class="st">&quot;Model&quot;</span>, <span class="st">&quot;Min.Price&quot;</span>, <span class="st">&quot;Max.Price&quot;</span>)]      <span class="co"># subset for better printing </span></span>
<span id="cb1126-3"><a href="preprocessing.html#cb1126-3" aria-hidden="true" tabindex="-1"></a>Cars93_1</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price
## 1     Integra      12.9      18.8
## 2      Legend      29.2      38.7
## 3          90      25.9      32.3
## 4         100      30.8      44.6
## 5        535i      23.7      36.2
## 6     Century      14.2      17.3
## 7     LeSabre      19.9      21.7
## 8  Roadmaster      22.6      24.9
## 9     Riviera      26.3      26.3
## 10    DeVille      33.0      36.3</code></pre>
<div class="sourceCode" id="cb1128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1128-1"><a href="preprocessing.html#cb1128-1" aria-hidden="true" tabindex="-1"></a>Cars93_5 <span class="ot">&lt;-</span> <span class="fu">transmute</span>(Cars93_1, </span>
<span id="cb1128-2"><a href="preprocessing.html#cb1128-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price, </span>
<span id="cb1128-3"><a href="preprocessing.html#cb1128-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Price_Min_Max_ratio =</span> Max.Price <span class="sc">/</span> Min.Price) </span>
<span id="cb1128-4"><a href="preprocessing.html#cb1128-4" aria-hidden="true" tabindex="-1"></a>Cars93_5</span></code></pre></div>
<pre><code>##    Price_range Price_Min_Max_ratio
## 1          5.9            1.457364
## 2          9.5            1.325342
## 3          6.4            1.247104
## 4         13.8            1.448052
## 5         12.5            1.527426
## 6          3.1            1.218310
## 7          1.8            1.090452
## 8          2.3            1.101770
## 9          0.0            1.000000
## 10         3.3            1.100000</code></pre>
<p>이는 <code>mutate()</code> 함수에서 <code>.keep</code> 인수의 값을 <code>“none”</code>으로 한 결과와 같음을 알 수 있다.</p>
<div class="sourceCode" id="cb1130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1130-1"><a href="preprocessing.html#cb1130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mutate( , .keep = &quot;none&quot;) == transmute() : Create(add) new columns </span></span>
<span id="cb1130-2"><a href="preprocessing.html#cb1130-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="ot">&lt;-</span> Cars93[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="fu">c</span>(<span class="st">&quot;Model&quot;</span>, <span class="st">&quot;Min.Price&quot;</span>, <span class="st">&quot;Max.Price&quot;</span>)]      <span class="co"># subset for better printing </span></span>
<span id="cb1130-3"><a href="preprocessing.html#cb1130-3" aria-hidden="true" tabindex="-1"></a>Cars93_1</span></code></pre></div>
<pre><code>##         Model Min.Price Max.Price
## 1     Integra      12.9      18.8
## 2      Legend      29.2      38.7
## 3          90      25.9      32.3
## 4         100      30.8      44.6
## 5        535i      23.7      36.2
## 6     Century      14.2      17.3
## 7     LeSabre      19.9      21.7
## 8  Roadmaster      22.6      24.9
## 9     Riviera      26.3      26.3
## 10    DeVille      33.0      36.3</code></pre>
<div class="sourceCode" id="cb1132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1132-1"><a href="preprocessing.html#cb1132-1" aria-hidden="true" tabindex="-1"></a>Cars93_6 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cars93_1, </span>
<span id="cb1132-2"><a href="preprocessing.html#cb1132-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Price_range =</span> Max.Price <span class="sc">-</span> Min.Price, </span>
<span id="cb1132-3"><a href="preprocessing.html#cb1132-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">Price_Min_Max_ratio =</span> Max.Price <span class="sc">/</span> Min.Price,</span>
<span id="cb1132-4"><a href="preprocessing.html#cb1132-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">.keep =</span> <span class="st">&quot;none&quot;</span>) </span>
<span id="cb1132-5"><a href="preprocessing.html#cb1132-5" aria-hidden="true" tabindex="-1"></a>Cars93_6</span></code></pre></div>
<pre><code>##    Price_range Price_Min_Max_ratio
## 1          5.9            1.457364
## 2          9.5            1.325342
## 3          6.4            1.247104
## 4         13.8            1.448052
## 5         12.5            1.527426
## 6          3.1            1.218310
## 7          1.8            1.090452
## 8          2.3            1.101770
## 9          0.0            1.000000
## 10         3.3            1.100000</code></pre>
</div>
</div>
</div>
<div id="preprocessing_summarise" class="section level2" number="4.10">
<h2><span class="header-section-number">4.10</span> <code>summarise()</code>함수를 이용한 요약 통계량 계산</h2>
<div id="summarise-함수의-기본-형식" class="section level3" number="4.10.1">
<h3><span class="header-section-number">4.10.1</span> <code>summarise()</code> 함수의 기본 형식</h3>
<blockquote>
<p><strong><code>summarise(dataframe, …, .groups = NULL)</code></strong></p>
<p><strong><code>summarize(dataframe, …, .groups = NULL)</code></strong></p>
<ul>
<li><code>datafreame</code> : 데이터 세트</li>
<li><code>…</code> : 한 개의 값만을 출력하는 함수(sum, mean, sd, var, …), n개의 값을 출력하는 함수(IQR, …), 하나의 식을 이용해 복수 개의 컬럼을 더하는 데이터 프레임 등</li>
<li><code>.groups</code> : “drop_last,” “drop,” “keep,” “rowwise” 등의 옵션</li>
</ul>
</blockquote>
<p><code>summarise()</code> 함수이 제공하는 수치형 데이터에 대한 요약 통계량 옵션의 예를 들면 다음과 같다.</p>
<blockquote>
<ul>
<li><strong>mean(x, na.rm = TRUE)</strong> : 평균. 결측값(<code>NA</code>)을 제외하려면 <code>na.rm = TRUE</code> 추가</li>
<li><strong>median(x, na.rm = TRUE)</strong> : 중앙값. 결측값(<code>NA</code>)을 제외하려면 <code>na.rm = TRUE</code> 추가</li>
<li><strong>sd(x, na.rm = TRUE)</strong> : 표준편차. 결측값(<code>NA</code>)을 제외하려면 <code>na.rm = TRUE</code> 추가</li>
<li><strong>min(x, na.rm = TRUE)</strong> : 최소값. 결측값(<code>NA</code>)을 제외하려면 <code>na.rm = TRUE</code> 추가</li>
<li><strong>max(x, na.rm = TRUE)</strong> : 최대값. 결측값(<code>NA</code>)을 제외하려면 <code>na.rm = TRUE</code> 추가</li>
<li><strong>IQR(x, na.rm = TRUE)</strong> : 3사분위수 - 1사분위수 (Inter Quartile Range = Q3 - Q1). 결측값(<code>NA</code>)을 제외하려면 <code>na.rm = TRUE</code> 추가</li>
<li><strong>sum(x, na.rm = TRUE)</strong> : 합. 결측값(<code>NA</code>)을 제외하려면 <code>na.rm = TRUE</code> 추가</li>
</ul>
</blockquote>
</div>
<div id="summarise-함수를-이용한-요약-통계-계산" class="section level3" number="4.10.2">
<h3><span class="header-section-number">4.10.2</span> <code>summarise()</code> 함수를 이용한 요약 통계 계산</h3>
<p><code>Cars93</code> 데이터 프레임에서 가격(<code>Price</code>)의 a) 평균, b) 중앙값, c) 표준편차, d) 최소값, e) 최대값, f) 사분위 범위(IQR), g) 합계를 구해보자. (단, 결측값은 포함하지 않고 계산함 = <code>na.rm = TRUE</code>)</p>
<div class="sourceCode" id="cb1134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1134-1"><a href="preprocessing.html#cb1134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summarise() : Summarise numeric values</span></span>
<span id="cb1134-2"><a href="preprocessing.html#cb1134-2" aria-hidden="true" tabindex="-1"></a><span class="co"># mean(), median(), sd(), min(), max(), IQR(), sum()</span></span>
<span id="cb1134-3"><a href="preprocessing.html#cb1134-3" aria-hidden="true" tabindex="-1"></a><span class="co"># IQR : IQR(Inter quartile Range) = Upper Quartile(Q3) - Lower Quartile(Q1)</span></span>
<span id="cb1134-4"><a href="preprocessing.html#cb1134-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(Cars93, </span>
<span id="cb1134-5"><a href="preprocessing.html#cb1134-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">Price_mean =</span> <span class="fu">mean</span>(Price, <span class="at">na.rm =</span> T),                 <span class="co"># mean of Price</span></span>
<span id="cb1134-6"><a href="preprocessing.html#cb1134-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Price_median =</span> <span class="fu">median</span>(Price, <span class="at">na.rm =</span> T),             <span class="co"># median of Price</span></span>
<span id="cb1134-7"><a href="preprocessing.html#cb1134-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Price_sd =</span> <span class="fu">sd</span>(Price, <span class="at">na.rm =</span> T),                     <span class="co"># standard deviation of Price</span></span>
<span id="cb1134-8"><a href="preprocessing.html#cb1134-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">Price_min =</span> <span class="fu">min</span>(Price, <span class="at">na.rm =</span> T),                   <span class="co"># min of Price</span></span>
<span id="cb1134-9"><a href="preprocessing.html#cb1134-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">Price_max =</span> <span class="fu">max</span>(Price, <span class="at">na.rm =</span> T),                   <span class="co"># max of Price</span></span>
<span id="cb1134-10"><a href="preprocessing.html#cb1134-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">Price_IQR =</span> <span class="fu">IQR</span>(Price), <span class="at">na.rm =</span> T,                   <span class="co"># IQR of Price</span></span>
<span id="cb1134-11"><a href="preprocessing.html#cb1134-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">Price_sum =</span> <span class="fu">sum</span>(Price, <span class="at">na.rm =</span> T))                   <span class="co"># sum of Price</span></span></code></pre></div>
<pre><code>##   Price_mean Price_median Price_sd Price_min Price_max Price_IQR na.rm
## 1   19.50968         17.7  9.65943       7.4      61.9      11.1  TRUE
##   Price_sum
## 1    1814.4</code></pre>
</div>
<div id="summarise를-이용한-관측치의-갯수-및-색인-찾기" class="section level3" number="4.10.3">
<h3><span class="header-section-number">4.10.3</span> <code>summarise()</code>를 이용한 관측치의 갯수 및 색인 찾기</h3>
<p><code>summarise()</code>를 이용한 관측치의 갯수 및 색인을 찾기 위한 함수의 예는 다음과 같다.</p>
<blockquote>
<ul>
<li><p><strong>n()</strong> : 관측치 겟수 계산, <code>x</code> 변수 입력하지 않음</p></li>
<li><p><strong>n_distinct(x)</strong> : 중복없는 유일한 관측치 갯수 계산, 기준이 되는 <code>x</code>변수 입력함</p></li>
<li><p><strong>first(x)</strong> : 기준이 되는 <code>x</code>변수의 첫번째 관측치</p></li>
<li><p><strong>last(x)</strong> : 기준이 되는 <code>x</code>변수의 마지막 관측치</p></li>
<li><p><strong>nth(x, n)</strong> : 기준이 되는 <code>x</code>변수의 <code>n</code>번째 관측치</p></li>
</ul>
</blockquote>
<p><code>Cars93_1</code> 데이터 프레임에서 a) 총 관측치의 갯수, b) 제조사(Manufacturer)의 갯수(유일한 값), c) 첫번째 관측치의 제조사 이름, d) 마지막 관측치의 제조사 이름, e) 5번째 관측치의 제조사 이름을 확인해 보자.</p>
<div class="sourceCode" id="cb1136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1136-1"><a href="preprocessing.html#cb1136-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summarise() : n(), n_distinct(), first(), last(), nth() </span></span>
<span id="cb1136-2"><a href="preprocessing.html#cb1136-2" aria-hidden="true" tabindex="-1"></a>Cars93_1 <span class="ot">&lt;-</span> Cars93[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>), <span class="fu">c</span>(<span class="st">&quot;Manufacturer&quot;</span>, <span class="st">&quot;Model&quot;</span>, <span class="st">&quot;Type&quot;</span>)]       <span class="co"># subset for better print </span></span>
<span id="cb1136-3"><a href="preprocessing.html#cb1136-3" aria-hidden="true" tabindex="-1"></a>Cars93_1</span></code></pre></div>
<pre><code>##    Manufacturer      Model    Type
## 1         Acura    Integra   Small
## 2         Acura     Legend Midsize
## 3          Audi         90 Compact
## 4          Audi        100 Midsize
## 5           BMW       535i Midsize
## 6         Buick    Century Midsize
## 7         Buick    LeSabre   Large
## 8         Buick Roadmaster   Large
## 9         Buick    Riviera Midsize
## 10     Cadillac    DeVille   Large</code></pre>
<div class="sourceCode" id="cb1138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1138-1"><a href="preprocessing.html#cb1138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(Cars93_1, </span>
<span id="cb1138-2"><a href="preprocessing.html#cb1138-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">tot_cnt =</span> <span class="fu">n</span>(),                                    <span class="co"># counting the number of all observations </span></span>
<span id="cb1138-3"><a href="preprocessing.html#cb1138-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">Manufacturer_dist_cnt =</span> <span class="fu">n_distinct</span>(Manufacturer), <span class="co"># distinct number of var </span></span>
<span id="cb1138-4"><a href="preprocessing.html#cb1138-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">First_obs =</span> <span class="fu">first</span>(Manufacturer),                  <span class="co"># first observation </span></span>
<span id="cb1138-5"><a href="preprocessing.html#cb1138-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">Last_obs =</span> <span class="fu">last</span>(Manufacturer),                    <span class="co"># last observation </span></span>
<span id="cb1138-6"><a href="preprocessing.html#cb1138-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">Nth_5th_obs =</span> <span class="fu">nth</span>(Manufacturer, <span class="dv">5</span>))               <span class="co"># n&#39;th observation</span></span></code></pre></div>
<pre><code>##   tot_cnt Manufacturer_dist_cnt First_obs Last_obs Nth_5th_obs
## 1      10                     5     Acura Cadillac         BMW</code></pre>
</div>
<div id="summarise-함수를-이용한-그룹별-요약-통계량-계산" class="section level3" number="4.10.4">
<h3><span class="header-section-number">4.10.4</span> <code>summarise()</code> 함수를 이용한 그룹별 요약 통계량 계산</h3>
<p><code>summarise()</code> 함수를 이용하여 그룹별로 통계량을 계산(Grouped operations)하려면 <strong><code>group_by()</code> 함수</strong>를 이용한다.</p>
<p><code>Cars93</code> 데이터 프레임에서 ‘차종(<code>Type</code>)’ 별로 a) 전체 관측치 갯수, b) (중복 없는) 제조사 업체 수, c) 가격(Price)의 평균과 d) 가격의 표준편차를 구해 보자 (단, 결측값은 포함하지 않고 계산함).</p>
<div class="sourceCode" id="cb1140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1140-1"><a href="preprocessing.html#cb1140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summarise by group </span></span>
<span id="cb1140-2"><a href="preprocessing.html#cb1140-2" aria-hidden="true" tabindex="-1"></a>grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(Cars93, Type) </span>
<span id="cb1140-3"><a href="preprocessing.html#cb1140-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(grouped, </span>
<span id="cb1140-4"><a href="preprocessing.html#cb1140-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">n_conut =</span> <span class="fu">n</span>(),                                  <span class="co"># counting the number of cars </span></span>
<span id="cb1140-5"><a href="preprocessing.html#cb1140-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">Manufacturer_cnt =</span> <span class="fu">n_distinct</span>(Manufacturer),    <span class="co"># distinct number of Manufacturer </span></span>
<span id="cb1140-6"><a href="preprocessing.html#cb1140-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">Price_mean =</span> <span class="fu">mean</span>(Price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),         <span class="co"># mean of Price </span></span>
<span id="cb1140-7"><a href="preprocessing.html#cb1140-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">Price_sd =</span> <span class="fu">sd</span>(Price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)              <span class="co"># standard deviation of Price </span></span>
<span id="cb1140-8"><a href="preprocessing.html#cb1140-8" aria-hidden="true" tabindex="-1"></a>          )</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 6 x 5
##   Type    n_conut Manufacturer_cnt Price_mean Price_sd
##   &lt;fct&gt;     &lt;int&gt;            &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1 Compact      16               15       18.2     6.69
## 2 Large        11               10       24.3     6.34
## 3 Midsize      22               20       27.2    12.3 
## # ... with 3 more rows</code></pre>
<div class="sourceCode" id="cb1143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1143-1"><a href="preprocessing.html#cb1143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 또는</span></span>
<span id="cb1143-2"><a href="preprocessing.html#cb1143-2" aria-hidden="true" tabindex="-1"></a>Cars93 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Type) <span class="sc">%&gt;%</span> </span>
<span id="cb1143-3"><a href="preprocessing.html#cb1143-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">n_conut =</span> <span class="fu">n</span>(),                                    <span class="co"># counting the number of cars </span></span>
<span id="cb1143-4"><a href="preprocessing.html#cb1143-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Manufacturer_cnt =</span> <span class="fu">n_distinct</span>(Manufacturer),    <span class="co"># distinct number of Manufacturer </span></span>
<span id="cb1143-5"><a href="preprocessing.html#cb1143-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">Price_mean =</span> <span class="fu">mean</span>(Price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),         <span class="co"># mean of Price </span></span>
<span id="cb1143-6"><a href="preprocessing.html#cb1143-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">Price_sd =</span> <span class="fu">sd</span>(Price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)              <span class="co"># standard deviation of Price </span></span>
<span id="cb1143-7"><a href="preprocessing.html#cb1143-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 6 x 5
##   Type    n_conut Manufacturer_cnt Price_mean Price_sd
##   &lt;fct&gt;     &lt;int&gt;            &lt;int&gt;      &lt;dbl&gt;    &lt;dbl&gt;
## 1 Compact      16               15       18.2     6.69
## 2 Large        11               10       24.3     6.34
## 3 Midsize      22               20       27.2    12.3 
## # ... with 3 more rows</code></pre>
</div>
<div id="복수-개의-변수에-동일한-summarise-함수-적용하기" class="section level3" number="4.10.5">
<h3><span class="header-section-number">4.10.5</span> 복수 개의 변수에 동일한 <code>summarise()</code> 함수 적용하기</h3>
<p><code>summarise_each()</code> 함수를 이용하면 복수 개의 변수에 동일한 <code>summarise()</code> 함수를 적용할 수 있다.</p>
<p><code>Cars93</code> 데이터 프레임의 가격(<code>Price</code>) 변수와 고속도로연비(<code>MPG.highway</code>) 등의 두개의 변수에 대해 a) 평균(mean), b) 중앙값(median), c) 표준편차(standard deviation) 등의 3개의 함수를 동시에 적용하여 계산해 보자.</p>
<div class="sourceCode" id="cb1146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1146-1"><a href="preprocessing.html#cb1146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summarize_each() : applies the same summary function(s) to multiple variables </span></span>
<span id="cb1146-2"><a href="preprocessing.html#cb1146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise_each</span>(Cars93, <span class="fu">funs</span>(mean, median, sd), Price, MPG.highway)</span></code></pre></div>
<pre><code>## Warning: `summarise_each_()` is deprecated as of dplyr 0.7.0.
## Please use `across()` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<pre><code>## Warning: `funs()` is deprecated as of dplyr 0.8.0.
## Please use a list of either functions or lambdas: 
## 
##   # Simple named list: 
##   list(mean = mean, median = median)
## 
##   # Auto named with `tibble::lst()`: 
##   tibble::lst(mean, median)
## 
##   # Using lambdas
##   list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<pre><code>##   Price_mean MPG.highway_mean Price_median MPG.highway_median Price_sd
## 1   19.50968         29.08602         17.7                 28  9.65943
##   MPG.highway_sd
## 1       5.331726</code></pre>
<ul>
<li><code>summarise_each()</code> 함수는 <code>dplyr 0.7.0</code>이후로 사용하지 않고 있으며, 그 대신 <code>across()</code> 함수를 이용하고 있다.</li>
</ul>
<p><code>summarise_each()</code> 함수 대신에 <strong><code>summarise()</code> 함수 안에 <code>across()</code> 함수</strong>를 이용하면 다음과 같다.</p>
<div class="sourceCode" id="cb1150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1150-1"><a href="preprocessing.html#cb1150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># across() 함수의 이용</span></span>
<span id="cb1150-2"><a href="preprocessing.html#cb1150-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(Cars93, <span class="fu">across</span>(<span class="fu">c</span>(Price, MPG.highway), <span class="fu">list</span>(<span class="at">mean=</span>mean, <span class="at">median=</span>median, <span class="at">sd=</span>sd), <span class="at">na.rm=</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>##   Price_mean Price_median Price_sd MPG.highway_mean MPG.highway_median
## 1   19.50968         17.7  9.65943         29.08602                 28
##   MPG.highway_sd
## 1       5.331726</code></pre>
<div class="sourceCode" id="cb1152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1152-1"><a href="preprocessing.html#cb1152-1" aria-hidden="true" tabindex="-1"></a>Cars93 <span class="sc">%&gt;%</span> </span>
<span id="cb1152-2"><a href="preprocessing.html#cb1152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">c</span>(Price, MPG.highway), <span class="fu">list</span>(<span class="at">mean=</span>mean, <span class="at">median=</span>median, <span class="at">sd=</span>sd), <span class="at">na.rm=</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>##   Price_mean Price_median Price_sd MPG.highway_mean MPG.highway_median
## 1   19.50968         17.7  9.65943         29.08602                 28
##   MPG.highway_sd
## 1       5.331726</code></pre>
</div>
<div id="reference-3" class="section level3 unnumbered">
<h3>Reference</h3>
<ul>
<li>Introduction to dplyr (<a href="http://127.0.0.1:21980/library/dplyr/doc/introduction.html" class="uri">http://127.0.0.1:21980/library/dplyr/doc/introduction.html</a>)</li>
<li>dplyr functions for single dataset (<a href="http://stat545.com/block010_dplyr-end-single-table.html" class="uri">http://stat545.com/block010_dplyr-end-single-table.html</a>)</li>
<li>dplyr tutorial (<a href="http://genomicsclass.github.io/book/pages/dplyr_tutorial.html" class="uri">http://genomicsclass.github.io/book/pages/dplyr_tutorial.html</a>)</li>
<li>R, Python 분석과 프로그래밍의 친구 [<a href="https://rfriend.tistory.com/234?category=601862" class="uri">https://rfriend.tistory.com/234?category=601862</a>]</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-cleansing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="piping-operator.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
